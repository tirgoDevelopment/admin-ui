"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[182],{8615:(j,U,u)=>{u.d(U,{s:()=>g});var f=u(3144),c=u(2843),p=u(262),h=u(9502),_=u(2223),C=u(3648);let g=(()=>{class v{constructor(l,d){this._toasterService=l,this._http=d,this.httpOptions={headers:new f.WM({Accept:"application/json"})},this.apiUrl=h.O.apiUrl,this.formatErrors=this.formatErrors.bind(this)}formatErrors(l){return"internalError"==l.message?this._toasterService.error(l.message):this._toasterService.error(l.error.message,l.message),(0,c._)(l)}get(l,d=new f.LE){return this._http.get(`${this.apiUrl}${l}`,{params:d}).pipe((0,p.K)(this.formatErrors))}getOne(l,d=new f.LE){return this._http.get(`${this.apiUrl}${l}`,{params:d})}put(l,d={}){return this._http.put(`${this.apiUrl}${l}`,d,this.httpOptions).pipe((0,p.K)(this.formatErrors))}patch(l,d={},s){return this._http.patch(`${this.apiUrl}${l}`,d,s?{params:s}:{}).pipe((0,p.K)(this.formatErrors))}post(l,d={},s=this.httpOptions){return l.indexOf("http"),d instanceof FormData?(s.headers.set("Content-Type","multipart/form-data"),console.log(s.headers),this._http.post(`${this.apiUrl}${l}`,d,s).pipe((0,p.K)(this.formatErrors))):this._http.post(`${this.apiUrl}${l}`,d,s).pipe((0,p.K)(this.formatErrors))}postFile(l,d,s="text"){const Z=0===l.indexOf("http")?"":this.apiUrl;return this._http.post(`${Z}${l}`,d,{reportProgress:!0,observe:"events",responseType:s}).pipe((0,p.K)(this.formatErrors))}downLoadFile(l,d){const s=0===l.indexOf("http")?"":this.apiUrl;return this._http.post(`${s}${l}`,d,{responseType:"blob"}).pipe((0,p.K)(this.formatErrors))}getFile(l,d=new f.LE){const s=l.indexOf("http")>-1?"":this.apiUrl;return this._http.get(`${s}${l}`,{params:d,responseType:"blob"}).pipe((0,p.K)(this.formatErrors))}delete(l,d){return this._http.delete(`${this.apiUrl}${l}`,d?{params:d}:{}).pipe((0,p.K)(this.formatErrors))}static#t=this.\u0275fac=function(d){return new(d||v)(_.LFG(C._W),_.LFG(f.eN))};static#e=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},7861:(j,U,u)=>{u.r(U),u.d(U,{default:()=>qe});var f=u(4755),c=u(9401),p=u(1728),h=u(9114),_=u(430),C=u(7406),g=u(3627),v=u(6702),K=u(5656),l=u(8995),d=u(1292),s=u(6286),Z=u(9609),L=u(8467),T=u(787),P=u(3844),A=u(8280),t=u(2223);let $=(()=>{class a{constructor(e){this.dialogRef=e}ngOnInit(){}closeModal(){this.dialogRef.close("close")}accepted(){this.dialogRef.close("accept")}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(s.so))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["agreement"]],standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"overflow-auto"],["align","end"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"text-center"],[1,"text-3xl","font-bold","mb-5"],["mat-flat-button","",1,"fuse-mat-button-large","dark","mt-6","w-full",3,"color","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.closeModal()}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5,"\u0421\u041e\u0413\u041b\u0410\u0428\u0415\u041d\u0418\u0415"),t.qZA()(),t.TgZ(6,"div",3),t._uU(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.accepted()}),t._uU(9,"\u041f\u0440\u0438\u043d\u044f\u0442\u044c "),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("color","primary"))},dependencies:[A.FA,T.LD,l.Bb,s.Is,c.u5,c.UX,h.lN,Z.c,p.ot,p.lW,_.Ps,_.Hw,d.p9,L.Cq],encapsulation:2,data:{animation:P.L}})}return a})();var W=u(7579),H=u(8372),R=u(1884),Y=u(8505),G=u(3900),V=u(262),S=u(9646),z=u(4128),x=u(5707),I=u(3144),X=u(2689),y=u(9502);let b=(()=>{class a{constructor(e){this.http=e}getOrders(e){return this.http.get(y.O.orderApiUrl+"/orders/staffs/all-orders",{params:(0,X.$)(e)})}getOrderById(e){let o=new I.LE;return o=o.append("orderId",e),this.http.get(y.O.orderApiUrl+"/orders/staffs/order-by-id",{params:o})}createOrder(e){return this.http.post(y.O.orderApiUrl+"/orders/staffs",e)}cancelOrder(e){let o=new I.LE;return o=o.append("id",e),this.http.post(y.O.orderApiUrl+"/orders/staffs/cancel-order",{},{params:o})}updateOrder(e){return this.http.put(y.O.orderApiUrl+"/orders/staffs/update-order",e)}static#t=this.\u0275fac=function(o){return new(o||a)(t.LFG(I.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var D=u(2621),tt=u(8501),et=u(3648),N=u(1217);function at(a,i){1&a&&t._UZ(0,"div")}function nt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.previousStep())}),t.qZA()}}function ot(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function it(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function ut(a,i){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"first_name")),t.xp6(2),t.Q6J("value",e.clientInfo.firstName)}}function rt(a,i){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"last_name")),t.xp6(2),t.Q6J("value",e.clientInfo.lastName)}}function lt(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function st(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",44),t.NdJ("input",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.findCity(n))}),t.qZA(),t.TgZ(5,"mat-autocomplete",22,45),t.YNc(7,lt,3,2,"ng-container",24),t.qZA(),t._UZ(8,"mat-icon",25),t.qZA()()}if(2&a){const e=i.$implicit,o=t.MAs(6),n=t.oxw(2);t.xp6(3),t.Oqu(n.getDynamicLabel(e)),t.xp6(1),t.Q6J("matAutocomplete",o)("formControlName",e),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngForOf",n.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin")}}function dt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),t._uU(4,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t._UZ(5,"mat-datepicker-toggle",16)(6,"input",17)(7,"mat-datepicker",null,18),t.qZA()(),t.TgZ(9,"div",19)(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(13,"input",21),t.NdJ("input",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.findCity(n))}),t.qZA(),t.TgZ(14,"mat-autocomplete",22,23),t.YNc(16,ot,3,2,"ng-container",24),t.qZA(),t._UZ(17,"mat-icon",25),t.qZA(),t.TgZ(18,"mat-form-field",20)(19,"mat-label"),t._uU(20,"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"input",26),t.NdJ("input",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.findCity(n))}),t.qZA(),t.TgZ(22,"mat-autocomplete",22,27),t.YNc(24,it,3,2,"ng-container",24),t.qZA(),t._UZ(25,"mat-icon",25),t.qZA()(),t.TgZ(26,"div",19)(27,"mat-form-field")(28,"mat-label"),t._uU(29,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"),t.qZA(),t.TgZ(30,"mat-select",28)(31,"mat-option",29),t._uU(32,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(33,"mat-option",30),t._uU(34,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(35,"mat-option",31),t._uU(36,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(37,"mat-option",32),t._uU(38,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA()()(),t.TgZ(39,"mat-form-field",20)(40,"mat-label"),t._uU(41),t.ALo(42,"transloco"),t.qZA(),t._UZ(43,"input",33),t.qZA(),t.YNc(44,ut,5,4,"mat-form-field",34),t.YNc(45,rt,5,4,"mat-form-field",34),t.qZA(),t.TgZ(46,"div",35),t.YNc(47,st,9,6,"div",36),t.qZA(),t._UZ(48,"hr"),t.TgZ(49,"div",37)(50,"mat-checkbox",38),t._uU(51,"ADR (\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u0433\u0440\u0443\u0437\u043e\u0432)"),t.qZA(),t.TgZ(52,"mat-checkbox",39),t._uU(53,"Carnet TIR"),t.qZA(),t.TgZ(54,"mat-checkbox",40),t._uU(55,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(56,"mat-checkbox",41),t._uU(57,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA()()()}if(2&a){const e=t.MAs(8),o=t.MAs(15),n=t.MAs(23),r=t.oxw();t.xp6(5),t.Q6J("for",e),t.xp6(1),t.Q6J("matDatepicker",e),t.xp6(7),t.Q6J("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",r.displayFn),t.xp6(2),t.Q6J("ngForOf",r.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(4),t.Q6J("matAutocomplete",n),t.xp6(1),t.Q6J("displayWith",r.displayFn),t.xp6(2),t.Q6J("ngForOf",r.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(16),t.Oqu(t.lcZ(42,14,"client")),t.xp6(3),t.Q6J("ngIf",null==r.clientInfo?null:r.clientInfo.firstName),t.xp6(1),t.Q6J("ngIf",null==r.clientInfo?null:r.clientInfo.lastName),t.xp6(2),t.Q6J("ngForOf",r.form.get("selectedLocations").value)}}function ct(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function mt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u0430\u044f \u0446\u0435\u043d\u0430"),t.qZA(),t._UZ(5,"input",48),t.TgZ(6,"mat-select",49),t.YNc(7,ct,2,2,"mat-option",50),t.qZA()(),t.TgZ(8,"mat-form-field",47)(9,"mat-label"),t._uU(10,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t._UZ(11,"input",51),t.TgZ(12,"mat-select",52),t.YNc(13,mt,2,2,"mat-option",50),t.qZA()()(),t.TgZ(14,"div",46)(15,"mat-form-field",47)(16,"mat-label"),t._uU(17,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(18,"mat-select",53)(19,"mat-option",54),t._uU(20,"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"),t.qZA(),t.TgZ(21,"mat-option",55),t._uU(22,"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435"),t.qZA()()(),t.TgZ(23,"mat-checkbox",56),t._uU(24,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA()()()),2&a){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.currencies),t.xp6(6),t.Q6J("ngForOf",e.currencies),t.xp6(5),t.Q6J("compareWith",e.compareFin)}}function gt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ft(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function _t(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t._UZ(4,"input",73),t.qZA()())}function ht(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",74),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onCheckboxChange(n))}),t._uU(2,"\u0420\u0435\u0436\u0438\u043c"),t.qZA(),t.TgZ(3,"mat-checkbox",75),t._uU(4,"\u041a\u0440\u044e\u043a"),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode)}}function Zt(a,i){1&a&&(t.TgZ(0,"div",76)(1,"mat-form-field",77)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",78),t.qZA(),t.TgZ(6,"mat-form-field",77)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",79),t.qZA()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function vt(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t._UZ(4,"input",80),t.qZA()())}function Ct(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(4,"mat-select",81)(5,"mat-option",42),t._uU(6,"20"),t.qZA(),t.TgZ(7,"mat-option",42),t._uU(8,"40"),t.qZA(),t.TgZ(9,"mat-option",42),t._uU(10,"60"),t.qZA(),t.TgZ(11,"mat-option",42),t._uU(12,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431"),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(2),t.Q6J("value","high"))}function Tt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function At(a,i){if(1&a&&(t.TgZ(0,"mat-optgroup",82),t.YNc(1,Tt,2,2,"mat-option",50),t.qZA()),2&a){const e=i.$implicit;t.Q6J("label",e.name),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)}}function xt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ot(a,i){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(5,"mat-select",57),t.YNc(6,gt,2,2,"mat-option",50),t.qZA()(),t.TgZ(7,"mat-form-field",47)(8,"mat-label"),t._uU(9,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(10,"mat-select",58),t.YNc(11,ft,2,2,"mat-option",50),t.qZA()()(),t.YNc(12,_t,5,0,"div",59),t.YNc(13,ht,5,1,"div",1),t.YNc(14,Zt,11,6,"div",60),t.YNc(15,vt,5,0,"div",59),t.YNc(16,Ct,13,5,"div",59),t.TgZ(17,"div",46)(18,"mat-form-field",47)(19,"mat-label"),t._uU(20,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"mat-select",61),t.YNc(22,At,2,2,"mat-optgroup",62),t.qZA()(),t.TgZ(23,"mat-form-field",47)(24,"mat-label"),t._uU(25,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430(\u0431\u0440\u0443\u0442\u0442\u043e)"),t.qZA(),t._UZ(26,"input",63),t.qZA(),t.TgZ(27,"mat-form-field",47)(28,"mat-label"),t._uU(29,"\u041a\u0443\u0431\u0430\u0442\u0443\u0440\u0430"),t.qZA(),t._UZ(30,"input",64),t.qZA()(),t.TgZ(31,"div",65)(32,"div",66),t._uU(33,"\u0413\u0430\u0431\u0430\u0440\u0438\u0442\u044b \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(34,"div",67)(35,"mat-form-field",65),t._UZ(36,"input",68),t.qZA(),t.TgZ(37,"mat-form-field",65),t._UZ(38,"input",69),t.qZA(),t.TgZ(39,"mat-form-field",65),t._UZ(40,"input",70),t.qZA()()(),t.TgZ(41,"div",46)(42,"mat-form-field",47)(43,"mat-label"),t._uU(44,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(45,"mat-select",71),t.YNc(46,xt,2,2,"mat-option",50),t.qZA()(),t.TgZ(47,"mat-form-field",47)(48,"mat-label"),t._uU(49,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(50,"mat-select",72),t.YNc(51,yt,2,2,"mat-option",50),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportTypes),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportKinds),t.xp6(1),t.Q6J("ngIf",e.isAutotransport),t.xp6(1),t.Q6J("ngIf",e.isRefrigerator),t.xp6(1),t.Q6J("ngIf",e.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",e.isCistern),t.xp6(1),t.Q6J("ngIf",e.isContainer),t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)("ngForTrackBy",e.group),t.xp6(23),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoLoadingMethods),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.packagesTypes)}}function Ut(a,i){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),t.qZA())}function qt(a,i){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function Lt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextStep())}),t.YNc(1,Ut,2,0,"span",1),t.YNc(2,qt,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}function It(a,i){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),t.qZA())}function bt(a,i){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function Dt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.createOrder())}),t.YNc(1,It,2,0,"span",1),t.YNc(2,bt,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}let B=(()=>{class a{constructor(e,o,n,r,m,Q,M,w){this.dialogRef=e,this.formBuilder=o,this._orderService=n,this._typesService=r,this._clientService=m,this.toastr=Q,this.dialog=M,this.data=w,this.inputVisited=!1,this.prefixes=["Mr.","Mrs.","Ms.","Dr.","Prof."],this.loading=!1,this.findList=[],this.viewText=!1,this.currentStep=1,this.isRefrigeratorMode=!1,this.searchSubject=new W.x,this.searchSubject.pipe((0,H.b)(300),(0,R.x)(),(0,Y.b)(()=>this.loading=!0),(0,G.w)(O=>this.findCities(O.trim().toLowerCase()).pipe((0,V.K)(()=>(0,S.of)([])),(0,Y.b)(()=>this.loading=!1)))).subscribe(O=>{this.findList=O.data}),this.data&&this.getOrderById(this.data.id)}onInputFocus(){this.inputVisited=!0}getOrderById(e){this._orderService.getOrderById(e).subscribe(o=>{o.success&&this.form.patchValue({id:o.data?.id,clientId:o.data?.clientMerchant?.id,sendDate:o.data?.sendDate,loadingLocation:o.data?.loadingLocation,deliveryLocation:o.data?.deliveryLocation,selectedLocations:[o.data?.customsPlaceLocation?"customsPlaceLocation":null,o.data?.customsClearancePlaceLocation?"customsClearancePlaceLocation":null,o.data?.additionalLoadingLocation?"additionalLoadingLocation":null,o.data?.additionalDeliveryLocation?"additionalDeliveryLocation":null].filter(n=>null!==n),customsPlaceLocation:o.data?.customsPlaceLocation,customsClearancePlaceLocation:o.data?.customsClearancePlaceLocation,additionalLoadingLocation:o.data?.additionalLoadingLocation,additionalDeliveryLocation:o.data?.additionalDeliveryLocation,isUrgent:o.data?.isUrgent,isTwoDays:o.data?.isTwoDays,isAdr:o.data?.isAdr,isCarnetTir:o.data?.isCarnetTir,isGlonas:o.data?.isGlonas,isParanom:o.data?.isParanom,offeredPrice:o.data?.offeredPrice,offeredPriceCurrencyId:o.data?.offeredPriceCurrency.id,inAdvancePrice:o.data?.inAdvancePrice,inAdvancePriceCurrencyId:o.data?.inAdvancePriceCurrency.id,paymentMethod:o.data?.paymentMethod,isSafeTransaction:o.data?.isSafeTransaction,transportKindIds:o.data?.transportKinds,transportTypeIds:o.data?.transportTypes,refrigeratorFrom:o.data?.refrigeratorFrom,refrigeratorTo:o.data?.refrigeratorTo,refrigeratorCount:o.data?.refrigeratorCount,isHook:o.data?.isHook,cargoTypeId:o.data?.cargoType,cargoWeight:o.data?.cargoWeight,cargoLength:o.data?.cargoLength,cargoWidth:o.data?.cargoWidth,cargoHeight:o.data?.cargoHeight,cubature:o.data?.cubature,cargoPackageId:o.data?.cargoPackage,loadingMethodId:o.data?.loadingMethod})})}ngOnInit(){this.form=this.formBuilder.group({id:[null],clientId:[null],sendDate:[null],loadingLocation:[null],deliveryLocation:[null],selectedLocations:[[]],customsPlaceLocation:[null],customsClearancePlaceLocation:[null],additionalLoadingLocation:[null],additionalDeliveryLocation:[null],isUrgent:[!0],isTwoDays:[!1],isAdr:[!1],isCarnetTir:[!1],isGlonas:[!1],isParanom:[!1],offeredPrice:[null],offeredPriceCurrencyId:[null],inAdvancePrice:[0],inAdvancePriceCurrencyId:[null],paymentMethod:["cash"],isSafeTransaction:[!1],transportKindIds:[null,c.kI.required],transportTypeIds:[null,c.kI.required],refrigeratorFrom:[null],refrigeratorTo:[null],refrigeratorCount:[null],isHook:[null],cargoTypeId:[null,c.kI.required],cargoWeight:[null,c.kI.required],cargoLength:[null],cargoWidth:[null],cargoHeight:[null],cubature:[null],cargoPackageId:[null],loadingMethodId:[null]}),this.changeValue(),(0,z.D)({currencies:this._typesService.getCurrencies(),cargoTypes:this._typesService.getCargoTypes(),transportTypes:this._typesService.getTransportTypes(),packagesTypes:this._typesService.getPackages(),cargoLoadingMethods:this._typesService.getCargoLoadingMethod(),transportKinds:this._typesService.getTransportKinds(),users:this._clientService.getAll()}).subscribe({next:e=>{this.currencies=e.currencies.data,this.cargoTypes=e.cargoTypes.data,this.transportTypes=e.transportTypes.data,this.packagesTypes=e.packagesTypes.data,this.cargoLoadingMethods=e.cargoLoadingMethods.data,this.transportKinds=e.transportKinds.data,this.users=e.users,this.form.patchValue({offeredPriceCurrencyId:this.currencies[0].id,inAdvancePriceCurrencyId:this.currencies[0].id})},error:e=>{console.error("Error fetching currencies and cargo types:",e)}}),this.form.get("clientId").valueChanges.subscribe(e=>{this._clientService.get(e).subscribe({next:o=>{this.clientInfo=o.success?o.data:null},error:o=>{console.error("Error fetching client info:",o)}})})}trackByFn(e){return e.id}compareFn(e,o){if(e&&o)return e===o.id}compareFin(e,o){if(e&&o)return e===o}setIds(e){return e.map(o=>o.id)}setId(e){return e.id}createOrder(){const e=["customsPlaceLocation","customsClearancePlaceLocation","additionalLoadingLocation","additionalDeliveryLocation"];for(const o of e)this.form.value[o]&&this.form.patchValue({[o]:{name:this.form.value[o].displayName,latitude:this.form.value[o].latitude,longitude:this.form.value[o].longitude}});this.form.patchValue({loadingLocation:{name:this.form.value.loadingLocation.displayName,latitude:this.form.value.loadingLocation.latitude,longitude:this.form.value.loadingLocation.longitude},deliveryLocation:{name:this.form.value.deliveryLocation.displayName,latitude:this.form.value.deliveryLocation.latitude,longitude:this.form.value.deliveryLocation.longitude}}),this.form.get("id").value&&this.form.patchValue({transportKindIds:this.setIds(this.form.get("transportKindIds").value),transportTypeIds:this.setIds(this.form.get("transportTypeIds").value),cargoTypeId:this.setId(this.form.get("cargoTypeId").value),cargoPackageId:this.setId(this.form.get("cargoPackageId").value),loadingMethodId:this.setId(this.form.get("loadingMethodId").value)}),this.form.value.id?this._orderService.updateOrder(this.form.value).subscribe(o=>{o.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"))}):this._orderService.createOrder(this.form.value).subscribe(o=>{o.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"))})}nextStep(){this.currentStep<3&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}changeValue(){this.form.get("isUrgent").valueChanges.subscribe(e=>{e&&this.form.get("isTwoDays").setValue(!1)}),this.form.get("isTwoDays").valueChanges.subscribe(e=>{e&&this.form.get("isUrgent").setValue(!1)}),this.form.get("isSafeTransaction").valueChanges.subscribe(e=>{e&&this.agreementModal()}),this.form.get("transportKindIds").valueChanges.subscribe(e=>{if(1==e.length){console.log(this.transportKinds);let o=this.transportKinds.find(n=>n.id==e);this.isAutotransport=o?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=o?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=o?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=o?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")}else e.forEach(o=>{console.log(this.transportKinds);let n=this.transportKinds.find(r=>r.id==o);console.log(n?.name?.includes("\u0420\u0435\u0444\u0440\u0435\u0436\u0435\u0440\u0430\u0442\u043e\u0440")),this.isAutotransport=this.isAutotransport||n?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=this.isRefrigerator||n?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=this.isCistern||n?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=this.isContainer||n?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")})})}findCity(e){const o=e.target.value.toString().trim().toLowerCase();this.searchSubject.next(o)}displayFn(e){return e?e.displayName:""}findCities(e){return e?this._typesService.getCities(e,"en"):(0,S.of)({data:[]})}closeModal(){this.dialogRef.close()}agreementModal(){this.dialog.open($,{autoFocus:!1,disableClose:!0,width:"600px"}).afterClosed().subscribe(o=>{"close"===o&&this.form.get("isSafeTransaction")?.setValue(!1)})}getDynamicLabel(e){switch(e){case"customsPlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"customsClearancePlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"additionalLoadingLocation":case"additionalDeliveryLocation":return"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438";default:return null}}onCheckboxChange(e){this.isRefrigeratorMode=e.checked}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(s.so),t.Y36(c.qu),t.Y36(b),t.Y36(D.K),t.Y36(tt.y),t.Y36(et._W),t.Y36(s.uw),t.Y36(s.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["create-order"]],standalone:!0,features:[t.jDz],decls:26,vars:16,consts:[[1,"flex","justify-between"],[4,"ngIf"],["class","cursor-pointer","svgIcon","heroicons_outline:arrow-long-left",3,"click",4,"ngIf"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"flex","items-center","justify-center","gap-1","mb-5"],[1,"stepper-item","active"],["svgIcon","heroicons_outline:arrow-long-right",1,"step-arrow"],[1,"stepper-item"],[1,"font-bold","text-3xl","flex","justify-center"],[1,"mat-typography","m-auto","px-3"],[1,"mt-8","w-full",3,"formGroup"],["align","center"],["class","fuse-mat-button-large  w-full mt-6","mat-flat-button","",3,"disabled","color","click",4,"ngIf"],["svgIcon","heroicons_outline:arrow-long-left",1,"cursor-pointer",3,"click"],[1,"grid","sm:grid-cols-1","gap-4"],[1,"flex-auto","gt-xs:pr-3","w-1/2"],["matIconSuffix","",3,"for"],["matInput","","readonly","","formControlName","sendDate",3,"matDatepicker"],["picker",""],[1,"grid","sm:grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full"],["type","text","matInput","","formControlName","loadingLocation",3,"matAutocomplete","input"],["autoActiveFirstOption","",3,"displayWith"],["loadingLocation","matAutocomplete"],[4,"ngFor","ngForOf"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["type","text","matInput","","formControlName","deliveryLocation",3,"matAutocomplete","input"],["deliveryLocation","matAutocomplete"],["multiple","","formControlName","selectedLocations"],["value","customsPlaceLocation"],["value","customsClearancePlaceLocation"],["value","additionalLoadingLocation"],["value","additionalDeliveryLocation"],["matInput","","formControlName","clientId"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngIf"],[1,"grid","grid-cols-2"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngFor","ngForOf"],[1,"flex","flex-col"],["formControlName","isAdr"],["formControlName","isCarnetTir"],["formControlName","isGlonas"],["formControlName","isParanom"],[3,"value"],["matInput","",3,"value"],["type","text","matInput","",3,"matAutocomplete","formControlName","input"],["auto","matAutocomplete"],[1,"flex","gap-2"],[1,"flex-auto","md:w-72","sm:w-full"],["type","number","matInput","","formControlName","offeredPrice"],["matPrefix","","formControlName","offeredPriceCurrencyId"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","inAdvancePrice"],["matPrefix","","formControlName","inAdvancePriceCurrencyId"],["formControlName","paymentMethod",3,"compareWith"],["value","cash"],["value","cashless"],["formControlName","isSafeTransaction",1,"flex-auto","md:w-72","sm:w-full"],["formControlName","transportTypeIds","multiple","",3,"compareWith"],["formControlName","transportKindIds","multiple","",3,"compareWith"],["class","flex gap-2",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["formControlName","cargoTypeId",3,"compareWith"],[3,"label",4,"ngFor","ngForOf","ngForTrackBy"],["type","number","matInput","","formControlName","cargoWeight"],["type","number","matInput","","formControlName","cubature"],[1,"flex-auto"],[1,"text-[#1e293b]","font-medium","dark:text-white"],[1,"flex","items-baseline","gap-2"],["type","number","matInput","","formControlName","cargoLength","placeholder","\u0414\u043b\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoWidth","placeholder","\u0428\u0438\u0440\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoHeight","placeholder","\u0412\u044b\u0441\u043e\u0442\u0430"],["formControlName","loadingMethodId",3,"compareWith"],["formControlName","cargoPackageId",3,"compareWith"],["type","number","matInput","","formControlName","refrigeratorCount"],[3,"checked","change"],["formControlName","isHook"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","w-full"],["type","number","min","-10","max","24","matInput","","formControlName","refrigeratorFrom"],["type","number","max","25","min","0","matInput","","formControlName","refrigeratorTo"],["type","number","matInput","","formControlName","cisternVolume"],["formControlName","containerVolume",3,"value"],[3,"label"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"disabled","color","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,at,1,0,"div",1),t.YNc(2,nt,1,0,"mat-icon",2),t.TgZ(3,"mat-icon",3),t.NdJ("click",function(){return n.closeModal()}),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"span"),t._uU(7,"1"),t.qZA()(),t._UZ(8,"mat-icon",6),t.TgZ(9,"div",7)(10,"span"),t._uU(11,"2"),t.qZA()(),t._UZ(12,"mat-icon",6),t.TgZ(13,"div",7)(14,"span"),t._uU(15,"3"),t.qZA()()(),t.TgZ(16,"div",8),t._uU(17,"\u0420\u0410\u0417\u041c\u0415\u0429\u0415\u041d\u0418\u0415 \u0413\u0420\u0423\u0417\u0410"),t.qZA(),t.TgZ(18,"mat-dialog-content",9)(19,"form",10),t.YNc(20,dt,58,16,"div",1),t.YNc(21,pt,25,3,"div",1),t.YNc(22,Ot,52,16,"div",1),t.qZA()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,Lt,3,4,"button",12),t.YNc(25,Dt,3,4,"button",12),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",1==n.currentStep),t.xp6(1),t.Q6J("ngIf",1!=n.currentStep),t.xp6(6),t.ekj("step-arrow-active",2===n.currentStep||3===n.currentStep),t.xp6(1),t.ekj("active",2===n.currentStep||3===n.currentStep),t.xp6(3),t.ekj("step-arrow-active",3===n.currentStep),t.xp6(1),t.ekj("active",3===n.currentStep),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngIf",1==n.currentStep),t.xp6(1),t.Q6J("ngIf",2==n.currentStep),t.xp6(1),t.Q6J("ngIf",3==n.currentStep),t.xp6(2),t.Q6J("ngIf",3!==n.currentStep),t.xp6(1),t.Q6J("ngIf",3==n.currentStep))},dependencies:[f.O5,f.ax,d.p9,d.oG,x.y4,x.Ot,T.LD,h.KE,h.hX,h.qo,h.R9,T.gD,N.ey,N.Nv,Z.c,Z.Nt,h.lN,_.Ps,_.Hw,c.u5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.qQ,c.Fd,c.UX,c.sg,c.u,A.FA,A.Mq,A.hl,A.nW,l.Bb,l.XC,l.ZL,s.Is,s.xY,s.H8,p.ot,p.lW,L.Cq,L.Ou],styles:[".active{background-color:#f97c00!important;box-shadow:0 0 5px #f97c00!important}.stepper-item{position:relative;width:50px;height:50px;border-radius:50%;background-color:#cdcdcd;box-shadow:0 0 5px #c0bebb}.stepper-item span{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700}.step-arrow-active{color:#f97c00}.prefix-select-container{display:flex;align-items:center}.prefix{margin-right:8px}\n"],encapsulation:2,data:{animation:P.L}})}return a})();var Nt=u(3617),E=u(3649),F=u(1848),Et=u(7361);let Ft=(()=>{class a{transform(e,o=!0){const r=new Date(e),m=r.getUTCDate(),Q=r.getUTCMonth(),M=r.getUTCFullYear(),w=r.getUTCHours().toString().padStart(2,"0"),O=r.getUTCMinutes().toString().padStart(2,"0");let k=`${m} ${["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"][Q]} ${M}`;return o&&(k+=` \u0432 ${w}:${O}`),k}static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275pipe=t.Yjl({name:"dateFormat",type:a,pure:!0})}return a})();function Jt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsPlaceLocation?null:e.data.customsPlaceLocation.name,"")}}function Qt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsClearancePlaceLocation?null:e.data.customsClearancePlaceLocation.name,"")}}function Mt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalLoadingLocation?null:e.data.additionalLoadingLocation.name,"")}}function wt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalDeliveryLocation?null:e.data.additionalDeliveryLocation.name,"")}}function Pt(a,i){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Yt(a,i){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function St(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorCount,"")}}function Bt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u043e\u0442 (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorFrom,"")}}function kt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u0434\u043e (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorTo,"")}}function jt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u0440\u044e\u043a"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.isHook,"")}}function Kt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.cisternVolume,"")}}function $t(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.containerVolume,"")}}const q=function(a,i){return[a,i]};let Wt=(()=>{class a{constructor(e,o,n){this.data=e,this.orderService=o,this.typesService=n,this.editing=!1}ngOnInit(){this.typesService.getCurrencies().subscribe(e=>{e.success&&(this.currencies=e.data)}),this.getOrderById(),this.updateDriverOffers()}getOrderById(){this.orderService.getOrderById(this.data).subscribe(e=>{e.success&&(this.data=e.data,console.log(this.data))})}updateDriverOffers(){this.data.driverOffers&&Array.isArray(this.data.driverOffers)&&(this.data.driverOffers=this.data.driverOffers.filter(e=>0==e.rejected))}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(s.WI),t.Y36(b),t.Y36(D.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-order-detail"]],standalone:!0,features:[t.jDz],decls:122,vars:52,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"h-60","w-full","mt-4"],[3,"center","zoom"],[3,"referencePoints"],[1,"max-w-md","mx-auto","mt-3","rounded-lg","shadow-md"],[1,"grid","grid-cols-2","gap-4"],[1,"text-lg","mb-1"],[1,"font-bold"],[4,"ngIf"],["class","font-bold",4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content",4)(7,"div",5)(8,"ya-map",6),t._UZ(9,"ya-multiroute",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),t._uU(14,"\u041e\u0442\u043a\u0443\u0434\u0430"),t.qZA(),t.TgZ(15,"p",11),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"p",10),t._uU(19,"\u041a\u0443\u0434\u0430"),t.qZA(),t.TgZ(20,"p",11),t._uU(21),t.qZA()(),t.YNc(22,Jt,5,1,"div",12),t.YNc(23,Qt,5,1,"div",12),t.YNc(24,Mt,5,1,"div",12),t.YNc(25,wt,5,1,"div",12),t.TgZ(26,"div")(27,"p",10),t._uU(28,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(29,"p",11),t._uU(30),t.qZA()(),t.TgZ(31,"div")(32,"p",10),t._uU(33,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(34,Pt,2,1,"p",13),t.qZA(),t.TgZ(35,"div")(36,"p",10),t._uU(37,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(38,Yt,2,1,"p",13),t.qZA(),t.TgZ(39,"div")(40,"p",10),t._uU(41,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(42,"p",11),t._uU(43),t.qZA()(),t.TgZ(44,"div")(45,"p",10),t._uU(46,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(47,"p",11),t._uU(48),t.qZA()(),t.TgZ(49,"div")(50,"p",10),t._uU(51,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(52,"p",11),t._uU(53),t.qZA()(),t.TgZ(54,"div")(55,"p",10),t._uU(56,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t.TgZ(57,"p",11),t._uU(58),t.qZA()(),t.TgZ(59,"div")(60,"p",10),t._uU(61,"\u0414\u0430\u0442\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"),t.qZA(),t.TgZ(62,"p",11),t._uU(63),t.ALo(64,"dateFormat"),t.qZA()(),t.TgZ(65,"div")(66,"p",10),t._uU(67,"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430"),t.qZA(),t.TgZ(68,"p",11),t._uU(69),t.ALo(70,"dateFormat"),t.qZA()(),t.TgZ(71,"div")(72,"p",10),t._uU(73,"\u0421\u0442\u0430\u0442\u0443\u0441"),t.qZA(),t.TgZ(74,"p",11),t._uU(75),t.qZA()(),t.TgZ(76,"div")(77,"p",10),t._uU(78,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(79,"p",11),t._uU(80),t.qZA()(),t.TgZ(81,"div")(82,"p",10),t._uU(83,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA(),t.TgZ(84,"p",11),t._uU(85),t.qZA()(),t.TgZ(86,"div")(87,"p",10),t._uU(88,"ADR"),t.qZA(),t.TgZ(89,"p",11),t._uU(90),t.qZA()(),t.TgZ(91,"div")(92,"p",10),t._uU(93,"Carnet TIR"),t.qZA(),t.TgZ(94,"p",11),t._uU(95),t.qZA()(),t.TgZ(96,"div")(97,"p",10),t._uU(98,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(99,"p",11),t._uU(100),t.qZA()(),t.TgZ(101,"div")(102,"p",10),t._uU(103,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA(),t.TgZ(104,"p",11),t._uU(105),t.qZA()(),t.YNc(106,St,5,1,"div",12),t.YNc(107,Bt,5,1,"div",12),t.YNc(108,kt,5,1,"div",12),t.YNc(109,jt,5,1,"div",12),t.YNc(110,Kt,5,1,"div",12),t.YNc(111,$t,5,1,"div",12),t.TgZ(112,"div")(113,"p",10),t._uU(114,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(115,"p",11),t._uU(116),t.qZA()(),t.TgZ(117,"div")(118,"p",10),t._uU(119,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(120,"p",11),t._uU(121),t.qZA()()()()()),2&o&&(t.xp6(2),t.hij("ID #",n.data.id,""),t.xp6(6),t.Q6J("center",t.WLB(40,q,null==n.data||null==n.data.loadingLocation?null:n.data.loadingLocation.latitude,null==n.data||null==n.data.loadingLocation?null:n.data.loadingLocation.longitude))("zoom",12),t.xp6(1),t.Q6J("referencePoints",t.WLB(49,q,t.WLB(43,q,null==n.data||null==n.data.loadingLocation?null:n.data.loadingLocation.latitude,null==n.data||null==n.data.loadingLocation?null:n.data.loadingLocation.longitude),t.WLB(46,q,null==n.data||null==n.data.deliveryLocation?null:n.data.deliveryLocation.latitude,null==n.data||null==n.data.deliveryLocation?null:n.data.deliveryLocation.longitude))),t.xp6(7),t.Oqu(null==n.data||null==n.data.loadingLocation?null:n.data.loadingLocation.name),t.xp6(5),t.Oqu(null==n.data||null==n.data.deliveryLocation?null:n.data.deliveryLocation.name),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.customsPlaceLocation),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.customsClearancePlaceLocation),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.additionalLoadingLocation),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.additionalDeliveryLocation),t.xp6(5),t.Oqu(null==n.data||null==n.data.cargoType?null:n.data.cargoType.name),t.xp6(4),t.Q6J("ngForOf",n.data.transportTypes),t.xp6(4),t.Q6J("ngForOf",n.data.transportKinds),t.xp6(5),t.lnq(" \u0434: ",null!=n.data&&n.data.cargoLength?(null==n.data?null:n.data.cargoLength)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0428: ",null!=n.data&&n.data.cargoWidth?(null==n.data?null:n.data.cargoWidth)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0412: ",null!=n.data&&n.data.cargoHeight?(null==n.data?null:n.data.cargoHeight)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=n.data&&n.data.cargoWeight?(null==n.data?null:n.data.cargoWeight)+"\u043a\u0433":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=n.data&&n.data.offeredPrice?(null==n.data?null:n.data.offeredPrice)+" "+(null==n.data||null==n.data.offeredPriceCurrency?null:n.data.offeredPriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=n.data&&n.data.inAdvancePrice?(null==n.data?null:n.data.inAdvancePrice)+" "+(null==n.data||null==n.data.inAdvancePriceCurrency?null:n.data.inAdvancePriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.Oqu(t.lcZ(64,36,null==n.data?null:n.data.createdAt)),t.xp6(6),t.Oqu(t.lcZ(70,38,null==n.data?null:n.data.sendDate)),t.xp6(6),t.hij(" ",null==n.data||null==n.data.cargoStatus?null:n.data.cargoStatus.name,""),t.xp6(5),t.hij(" ","cash"==(null==n.data?null:n.data.paymentMethod)?"\u041d\u0430\u043b\u0438\u0447\u0438":"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",""),t.xp6(5),t.hij(" ",null!=n.data&&n.data.isSafe?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=n.data&&n.data.isAdr?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=n.data&&n.data.isCarnetTir?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=n.data&&n.data.isGlonas?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=n.data&&n.data.isParanom?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.refrigeratorCount),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.refrigeratorFrom),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.refrigeratorTo),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.isHook),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.cisternVolume),t.xp6(1),t.Q6J("ngIf",null==n.data?null:n.data.containerVolume),t.xp6(5),t.hij(" ",null!=n.data.loadingMethod&&n.data.loadingMethod.name?null==n.data.loadingMethod?null:n.data.loadingMethod.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""),t.xp6(5),t.hij(" ",null!=n.data.cargoPackage&&n.data.cargoPackage.name?null==n.data.cargoPackage?null:n.data.cargoPackage.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""))},dependencies:[_.Ps,_.Hw,Nt.Nh,f.O5,Et.d,Ft,h.lN,Z.c,T.LD,c.u5,c.UX,F.te,F.k0,F.Vz,s.Is,s.ZT,s.uh,s.xY,x.y4,p.ot,p.RK,f.ax,E.AV],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:2px!important;padding:15px 20px}[_nghost-%COMP%]     ::-webkit-scrollbar{display:none}[_nghost-%COMP%]     .mat-mdc-dialog-content{max-height:83vh;padding:0!important}[_nghost-%COMP%]     .mdc-dialog__title{padding:0 0 9px!important}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar{width:2px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}[_nghost-%COMP%]     .yandex{height:calc(100% - 135px)}[_nghost-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-content{padding:0}"]})}return a})();var J=u(2611),Ht=u(877),Rt=u(8236);function Gt(a,i){if(1&a&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Vt(a,i){if(1&a&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function zt(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1," No "),t.qZA())}function Xt(a,i){if(1&a&&(t.TgZ(0,"mat-cell",46),t._uU(1),t.qZA()),2&a){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}function te(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1," ID "),t.qZA())}function ee(a,i){if(1&a&&(t.TgZ(0,"mat-cell",46),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function ae(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"from")))}function ne(a,i){if(1&a&&(t.TgZ(0,"mat-cell",47),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("matTooltip",null==e.deliveryLocation?null:e.deliveryLocation.name),t.xp6(1),t.hij(" ",null==e||null==e.loadingLocation?null:e.loadingLocation.name," ")}}function oe(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"where")))}function ie(a,i){if(1&a&&(t.TgZ(0,"mat-cell",47),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("matTooltip",null==e.deliveryLocation?null:e.deliveryLocation.name),t.xp6(1),t.hij(" ",null==e||null==e.deliveryLocation?null:e.deliveryLocation.name," ")}}function ue(a,i){1&a&&(t.TgZ(0,"mat-header-cell",48),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"status"),""))}function re(a,i){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",49)(2,"span"),t._uU(3),t.qZA()()()),2&a){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Tol(o.returnClassStatusOrder(null==e.cargoStatus?null:e.cargoStatus.name)),t.xp6(2),t.Oqu(o.statusOrderCheck(null==e.cargoStatus?null:e.cargoStatus.name))}}function le(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"cargo_type")))}function se(a,i){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",50),t._uU(2),t.qZA()()),2&a){const e=i.$implicit;t.xp6(2),t.Oqu(null==e||null==e.cargoType?null:e.cargoType.name)}}function de(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"transport_cargo")))}function ce(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function me(a,i){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,ce,3,1,"span",52),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.transportTypes)}}function pe(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t.YNc(1,me,2,1,"span",51),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.transportTypes)}}function ge(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"secure_transaction")))}function fe(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.Oqu(null!=e&&e.isSafe?"\u0414\u0430":"\u041d\u0435\u0442")}}function _e(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"price")))}function he(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.offeredPrice," ")}}function Ze(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shipment_date")))}function ve(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,e.isUrgent?o.addTwoDays(e.createdAt):e.createdAt,"dd.MM.YYYY")," ")}}function Ce(a,i){1&a&&(t.TgZ(0,"mat-header-cell",45),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"client")))}function Te(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.deliveryLocation?null:e.deliveryLocation.name," ")}}function Ae(a,i){1&a&&t._UZ(0,"mat-header-cell")}function xe(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"div",53)(2,"button",54),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,55)(7,"button",56),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.cancel(r))}),t.TgZ(8,"mat-icon"),t._uU(9,"remove"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA()()()()}if(2&a){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.hij(" ",t.lcZ(11,2,"cancel")," ")}}function ye(a,i){1&a&&t._UZ(0,"mat-header-row")}function Oe(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-row",57),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.detail(r.id))}),t.qZA()}}const Ue=function(){return[10,20,50,100,200]},qe=[{path:"",component:(()=>{class a{constructor(e,o,n,r){this.orderService=e,this.authService=o,this.dialog=n,this._typeService=r,this.isLoading=!1,this.displayedColumns=["index","id","sendLocation","cargoDeliveryLocation","status","date_send","offeredPrice","secure_transaction","type_cargo","transport_type","client","actions"],this.transportKinds=[],this.transportTypes=[],this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""},this.pageParams={page:0,limit:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.dataSource=new g.by([])}ngOnInit(){this.currentUser=(0,K.o)(this.authService.accessToken),this.getOrders(),this._typeService.getTransportKinds().subscribe(e=>{this.transportKinds=e.data}),this._typeService.getTransportTypes().subscribe(e=>{this.transportTypes=e.data})}detail(e){this.dialog.open(Wt,{width:"500px",height:"100vh",autoFocus:!1,position:{top:"0",right:"0"},maxHeight:"100%",data:e}).afterClosed().subscribe(()=>{console.log("close"),this.getOrders(this.pageParams)})}clearFilters(){this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""}}filterDrivers(){}onPageChange(e){this.pageParams.limit=e.pageSize,this.pageParams.page=e.pageIndex,this.getOrders(this.pageParams)}getOrders(e){this.isLoading=!0,this.orderService.getOrders(Object.assign(this.filters,e)).subscribe(o=>{console.log(o),o&&o.success?(this.isLoading=!1,this.dataSource=o.data.content):(this.isLoading=!1,this.dataSource.data=[])}),this.isLoading=!1}addTwoDays(e){const o=new Date(e);return o.setDate(o.getDate()+2),o}statusOrderCheck(e){switch(e){case"waiting":return"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0439";case 1:return"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f";case 2:return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case 3:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";case 4:return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";default:return"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"}}returnClassStatusOrder(e){switch(e){case"waiting":return"status-order-blue";case 1:return"status-order-yellow";case 2:return"status-order-green";case 3:return"status-order-info";case 4:return"status-order-red";default:return"status-order"}}cancel(e){this.orderService.cancelOrder(e.id).subscribe(o=>{o&&o.success&&this.getOrders(this.pageParams)})}edit(e){this.dialog.open(B,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0,data:e}).afterClosed().subscribe(n=>{this.getOrders(this.pageParams)})}createOrderModal(){this.dialog.open(B,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0}).afterClosed().subscribe(o=>{this.getOrders(this.pageParams)})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(b),t.Y36(Rt.e),t.Y36(s.uw),t.Y36(D.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-orders"]],viewQuery:function(o,n){if(1&o&&t.Gf(v.NW,5),2&o){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:88,vars:46,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",3,"color","click"],[1,"flex","items-baseline","flex-wrap"],["color","accent",1,"w-50","px-1"],["matInput","","name","ID",3,"placeholder","ngModel","ngModelChange"],["matInput","","name","StatusID",3,"placeholder","ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","loadingLocation",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","deliveryLocation",3,"ngModel","ngModelChange"],["name","transportTypeId",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","transportKindId",3,"placeholder","ngModel","ngModelChange"],["name","merchantOrder",3,"placeholder","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"px-1"],["mat-flat-button","","color","warn",1,"",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"mt-4","shadow-table"],["matSort","",1,"table",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","sendLocation"],["class","truncate-cell",3,"matTooltip",4,"matCellDef"],["matColumnDef","cargoDeliveryLocation"],["matColumnDef","status"],["class","font-bold","mat-sort-header","","sortActionDescription","Sort by status",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type_cargo"],["matColumnDef","transport_type"],["matColumnDef","secure_transaction"],["matColumnDef","offeredPrice"],["matColumnDef","date_send"],["matColumnDef","client"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[3,"value"],[1,"font-bold"],[1,"index-column"],[1,"truncate-cell",3,"matTooltip"],["mat-sort-header","","sortActionDescription","Sort by status",1,"font-bold"],[1,"status-badge"],[1,"truncate-cell"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],[3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"\u0413\u0440\u0443\u0437\u044b"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return n.createOrderModal()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," \u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0433\u0440\u0443\u0437 "),t.qZA()()(),t.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"input",8),t.NdJ("ngModelChange",function(m){return n.filters.orderId=m}),t.ALo(14,"transloco"),t.qZA()(),t.TgZ(15,"mat-form-field",7)(16,"input",9),t.NdJ("ngModelChange",function(m){return n.filters.statusId=m}),t.ALo(17,"transloco"),t.qZA()(),t.TgZ(18,"mat-form-field",7)(19,"input",10),t.NdJ("ngModelChange",function(m){return n.filters.loadingLocation=m}),t.qZA()(),t.TgZ(20,"mat-form-field",7)(21,"input",11),t.NdJ("ngModelChange",function(m){return n.filters.deliveryLocation=m}),t.qZA()(),t.TgZ(22,"mat-form-field",7)(23,"mat-select",12),t.NdJ("ngModelChange",function(m){return n.filters.transportTypeId=m}),t.ALo(24,"transloco"),t.YNc(25,Gt,2,2,"mat-option",13),t.qZA()(),t.TgZ(26,"mat-form-field",7)(27,"mat-select",14),t.NdJ("ngModelChange",function(m){return n.filters.transportKindId=m}),t.ALo(28,"transloco"),t.YNc(29,Vt,2,2,"mat-option",13),t.qZA()(),t.TgZ(30,"mat-form-field",7)(31,"mat-select",15),t.NdJ("ngModelChange",function(m){return n.filters.merchantOrder=m}),t.ALo(32,"transloco"),t.TgZ(33,"mat-option",16),t._uU(34),t.ALo(35,"transloco"),t.qZA(),t.TgZ(36,"mat-option",17),t._uU(37),t.ALo(38,"transloco"),t.qZA()()(),t.TgZ(39,"div",18)(40,"button",19),t.NdJ("click",function(){return n.clearFilters()}),t._uU(41),t.ALo(42,"transloco"),t.qZA()(),t.TgZ(43,"div",18)(44,"button",20),t.NdJ("click",function(){return n.getOrders()}),t._uU(45),t.ALo(46,"transloco"),t.qZA()()(),t.TgZ(47,"div",21)(48,"mat-table",22),t.ynx(49,23),t.YNc(50,zt,2,0,"mat-header-cell",24),t.YNc(51,Xt,2,1,"mat-cell",25),t.BQk(),t.ynx(52,26),t.YNc(53,te,2,0,"mat-header-cell",24),t.YNc(54,ee,2,1,"mat-cell",25),t.BQk(),t.ynx(55,27),t.YNc(56,ae,3,3,"mat-header-cell",24),t.YNc(57,ne,2,2,"mat-cell",28),t.BQk(),t.ynx(58,29),t.YNc(59,oe,3,3,"mat-header-cell",24),t.YNc(60,ie,2,2,"mat-cell",28),t.BQk(),t.ynx(61,30),t.YNc(62,ue,3,3,"mat-header-cell",31),t.YNc(63,re,4,3,"mat-cell",32),t.BQk(),t.ynx(64,33),t.YNc(65,le,3,3,"mat-header-cell",24),t.YNc(66,se,3,1,"mat-cell",32),t.BQk(),t.ynx(67,34),t.YNc(68,de,3,3,"mat-header-cell",24),t.YNc(69,pe,2,1,"mat-cell",32),t.BQk(),t.ynx(70,35),t.YNc(71,ge,3,3,"mat-header-cell",24),t.YNc(72,fe,2,1,"mat-cell",32),t.BQk(),t.ynx(73,36),t.YNc(74,_e,3,3,"mat-header-cell",24),t.YNc(75,he,2,1,"mat-cell",32),t.BQk(),t.ynx(76,37),t.YNc(77,Ze,3,3,"mat-header-cell",24),t.YNc(78,ve,3,4,"mat-cell",32),t.BQk(),t.ynx(79,38),t.YNc(80,Ce,3,3,"mat-header-cell",24),t.YNc(81,Te,2,1,"mat-cell",32),t.BQk(),t.ynx(82,39),t.YNc(83,Ae,1,0,"mat-header-cell",40),t.YNc(84,xe,12,4,"mat-cell",32),t.BQk(),t.YNc(85,ye,1,0,"mat-header-row",41),t.YNc(86,Oe,1,0,"mat-row",42),t.qZA(),t.TgZ(87,"mat-paginator",43),t.NdJ("page",function(m){return n.onPageChange(m)}),t.qZA()()()()),2&o&&(t.xp6(7),t.Q6J("color","primary"),t.xp6(6),t.s9C("placeholder",t.lcZ(14,27,"ID")),t.Q6J("ngModel",n.filters.orderId),t.xp6(3),t.s9C("placeholder",t.lcZ(17,29,"StatusID")),t.Q6J("ngModel",n.filters.statusId),t.xp6(3),t.Q6J("ngModel",n.filters.loadingLocation),t.xp6(2),t.Q6J("ngModel",n.filters.deliveryLocation),t.xp6(2),t.s9C("placeholder",t.lcZ(24,31,"transport_type")),t.Q6J("ngModel",n.filters.transportTypeId),t.xp6(2),t.Q6J("ngForOf",n.transportTypes),t.xp6(2),t.s9C("placeholder",t.lcZ(28,33,"transport_cargo")),t.Q6J("ngModel",n.filters.transportKindId),t.xp6(2),t.Q6J("ngForOf",n.transportKinds),t.xp6(2),t.s9C("placeholder",t.lcZ(32,35,"merchant_order")),t.Q6J("ngModel",n.filters.merchantOrder),t.xp6(3),t.Oqu(t.lcZ(35,37,"merchant_order")),t.xp6(3),t.Oqu(t.lcZ(38,39,"no_merchant_order")),t.xp6(4),t.hij(" ",t.lcZ(42,41,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(46,43,"filter"),""),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",n.pageParams.totalPagesCount-1)("pageSize",n.pageParams.limit)("pageIndex",n.pageParams.page)("pageSizeOptions",t.DdM(45,Ue)))},dependencies:[x.y4,x.Ot,f.uU,_.Ps,_.Hw,E.AV,E.gM,A.FA,c.u5,c.Fj,c.JJ,c.On,c.UX,T.LD,h.KE,T.gD,N.ey,p.ot,p.lW,p.RK,f.ax,f.O5,g.p0,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,h.lN,Z.c,Z.Nt,J.JX,J.YE,J.nU,v.TU,v.NW,C.Tx,C.VK,C.OP,C.p6,Ht.rP],styles:[".truncate-cell{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2})}return a})(),resolve:{}}]}}]);