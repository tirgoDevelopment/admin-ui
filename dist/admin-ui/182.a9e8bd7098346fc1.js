"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[182],{8615:(K,q,u)=>{u.d(q,{s:()=>x});var f=u(3144),d=u(2843),p=u(262),h=u(9502),_=u(2223),T=u(3648),g=u(5707);let x=(()=>{class v{constructor(s,l,m){this._toasterService=s,this.translocaService=l,this._http=m,this.httpOptions={headers:new f.WM({Accept:"application/json"})},this.apiUrl=h.O.apiUrl,this.formatErrors=this.formatErrors.bind(this)}formatErrors(s){return(0,d._)(s)}get(s,l=new f.LE){return this._http.get(`${this.apiUrl}${s}`,{params:l}).pipe((0,p.K)(this.formatErrors))}getOne(s,l=new f.LE){return this._http.get(`${this.apiUrl}${s}`,{params:l})}put(s,l={}){return this._http.put(`${this.apiUrl}${s}`,l,this.httpOptions).pipe((0,p.K)(this.formatErrors))}patch(s,l={},m){return this._http.patch(`${this.apiUrl}${s}`,l,m?{params:m}:{}).pipe((0,p.K)(this.formatErrors))}post(s,l={},m=this.httpOptions){return s.indexOf("http"),l instanceof FormData?(m.headers.set("Content-Type","multipart/form-data"),console.log(m.headers),this._http.post(`${this.apiUrl}${s}`,l,m).pipe((0,p.K)(this.formatErrors))):this._http.post(`${this.apiUrl}${s}`,l,m).pipe((0,p.K)(this.formatErrors))}postFile(s,l,m="text"){const Z=0===s.indexOf("http")?"":this.apiUrl;return this._http.post(`${Z}${s}`,l,{reportProgress:!0,observe:"events",responseType:m}).pipe((0,p.K)(this.formatErrors))}downLoadFile(s,l){const m=0===s.indexOf("http")?"":this.apiUrl;return this._http.post(`${m}${s}`,l,{responseType:"blob"}).pipe((0,p.K)(this.formatErrors))}getFile(s,l=new f.LE){const m=s.indexOf("http")>-1?"":this.apiUrl;return this._http.get(`${m}${s}`,{params:l,responseType:"blob"}).pipe((0,p.K)(this.formatErrors))}delete(s,l){return this._http.delete(`${this.apiUrl}${s}`,l?{params:l}:{}).pipe((0,p.K)(this.formatErrors))}static#t=this.\u0275fac=function(l){return new(l||v)(_.LFG(T._W),_.LFG(g.Vn),_.LFG(f.eN))};static#e=this.\u0275prov=_.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},7861:(K,q,u)=>{u.r(q),u.d(q,{default:()=>Le});var f=u(4755),d=u(9401),p=u(1728),h=u(9114),_=u(430),T=u(7406),g=u(3627),x=u(6702),v=u(5656),L=u(8995),s=u(1292),l=u(6286),m=u(9609),Z=u(8467),C=u(787),Y=u(3844),A=u(8280),t=u(2223);let $=(()=>{class a{constructor(e){this.dialogRef=e}ngOnInit(){}closeModal(){this.dialogRef.close("close")}accepted(){this.dialogRef.close("accept")}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(l.so))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["agreement"]],standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"overflow-auto"],["align","end"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"text-center"],[1,"text-3xl","font-bold","mb-5"],["mat-flat-button","",1,"fuse-mat-button-large","dark","mt-6","w-full",3,"color","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return o.closeModal()}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5,"\u0421\u041e\u0413\u041b\u0410\u0428\u0415\u041d\u0418\u0415"),t.qZA()(),t.TgZ(6,"div",3),t._uU(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return o.accepted()}),t._uU(9,"\u041f\u0440\u0438\u043d\u044f\u0442\u044c "),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("color","primary"))},dependencies:[A.FA,C.LD,L.Bb,l.Is,d.u5,d.UX,h.lN,m.c,p.ot,p.lW,_.Ps,_.Hw,s.p9,Z.Cq],encapsulation:2,data:{animation:Y.L}})}return a})();var W=u(7579),R=u(8372),H=u(1884),S=u(8505),G=u(3900),V=u(262),B=u(9646),z=u(4128),O=u(5707),X=u(5136),D=u(3144),tt=u(2689),y=u(9502);let b=(()=>{class a{constructor(e){this.http=e}getOrders(e){return this.http.get(y.O.orderApiUrl+"/orders/staffs/all-orders",{params:(0,tt.$)(e)})}getOrderById(e){let n=new D.LE;return n=n.append("orderId",e),this.http.get(y.O.orderApiUrl+"/orders/staffs/order-by-id",{params:n})}createOrder(e){return this.http.post(y.O.orderApiUrl+"/orders/staffs",e)}cancelOrder(e){let n=new D.LE;return n=n.append("id",e),this.http.post(y.O.orderApiUrl+"/orders/staffs/cancel-order",{},{params:n})}updateOrder(e){return this.http.put(y.O.orderApiUrl+"/orders/staffs/update-order",e)}static#t=this.\u0275fac=function(n){return new(n||a)(t.LFG(D.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var N=u(2621),et=u(8501),at=u(3648),E=u(1217);function ot(a,i){1&a&&t._UZ(0,"div")}function nt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.previousStep())}),t.qZA()}}function it(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function ut(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function rt(a,i){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"first_name")),t.xp6(2),t.Q6J("value",e.clientInfo.firstName)}}function lt(a,i){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"last_name")),t.xp6(2),t.Q6J("value",e.clientInfo.lastName)}}function st(a,i){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function dt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",44),t.NdJ("input",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.findCity(o))}),t.qZA(),t.TgZ(5,"mat-autocomplete",22,45),t.YNc(7,st,3,2,"ng-container",24),t.qZA(),t._UZ(8,"mat-icon",25),t.qZA()()}if(2&a){const e=i.$implicit,n=t.MAs(6),o=t.oxw(2);t.xp6(3),t.Oqu(o.getDynamicLabel(e)),t.xp6(1),t.Q6J("matAutocomplete",n)("formControlName",e),t.xp6(1),t.Q6J("displayWith",o.displayFn),t.xp6(2),t.Q6J("ngForOf",o.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin")}}function ct(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),t._uU(4,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t._UZ(5,"mat-datepicker-toggle",16)(6,"input",17)(7,"mat-datepicker",null,18),t.qZA()(),t.TgZ(9,"div",19)(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(13,"input",21),t.NdJ("input",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.findCity(o))}),t.qZA(),t.TgZ(14,"mat-autocomplete",22,23),t.YNc(16,it,3,2,"ng-container",24),t.qZA(),t._UZ(17,"mat-icon",25),t.qZA(),t.TgZ(18,"mat-form-field",20)(19,"mat-label"),t._uU(20,"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"input",26),t.NdJ("input",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.findCity(o))}),t.qZA(),t.TgZ(22,"mat-autocomplete",22,27),t.YNc(24,ut,3,2,"ng-container",24),t.qZA(),t._UZ(25,"mat-icon",25),t.qZA()(),t.TgZ(26,"div",19)(27,"mat-form-field")(28,"mat-label"),t._uU(29,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"),t.qZA(),t.TgZ(30,"mat-select",28)(31,"mat-option",29),t._uU(32,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(33,"mat-option",30),t._uU(34,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(35,"mat-option",31),t._uU(36,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(37,"mat-option",32),t._uU(38,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA()()(),t.TgZ(39,"mat-form-field",20)(40,"mat-label"),t._uU(41),t.ALo(42,"transloco"),t.qZA(),t._UZ(43,"input",33),t.qZA(),t.YNc(44,rt,5,4,"mat-form-field",34),t.YNc(45,lt,5,4,"mat-form-field",34),t.qZA(),t.TgZ(46,"div",35),t.YNc(47,dt,9,6,"div",36),t.qZA(),t._UZ(48,"hr"),t.TgZ(49,"div",37)(50,"mat-checkbox",38),t._uU(51,"ADR (\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u0433\u0440\u0443\u0437\u043e\u0432)"),t.qZA(),t.TgZ(52,"mat-checkbox",39),t._uU(53,"Carnet TIR"),t.qZA(),t.TgZ(54,"mat-checkbox",40),t._uU(55,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(56,"mat-checkbox",41),t._uU(57,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA()()()}if(2&a){const e=t.MAs(8),n=t.MAs(15),o=t.MAs(23),r=t.oxw();t.xp6(5),t.Q6J("for",e),t.xp6(1),t.Q6J("matDatepicker",e),t.xp6(7),t.Q6J("matAutocomplete",n),t.xp6(1),t.Q6J("displayWith",r.displayFn),t.xp6(2),t.Q6J("ngForOf",r.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(4),t.Q6J("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",r.displayFn),t.xp6(2),t.Q6J("ngForOf",r.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(16),t.Oqu(t.lcZ(42,14,"client")),t.xp6(3),t.Q6J("ngIf",null==r.clientInfo?null:r.clientInfo.firstName),t.xp6(1),t.Q6J("ngIf",null==r.clientInfo?null:r.clientInfo.lastName),t.xp6(2),t.Q6J("ngForOf",r.form.get("selectedLocations").value)}}function mt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function gt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u0430\u044f \u0446\u0435\u043d\u0430"),t.qZA(),t._UZ(5,"input",48),t.TgZ(6,"mat-select",49),t.YNc(7,mt,2,2,"mat-option",50),t.qZA()(),t.TgZ(8,"mat-form-field",47)(9,"mat-label"),t._uU(10,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t._UZ(11,"input",51),t.TgZ(12,"mat-select",52),t.YNc(13,pt,2,2,"mat-option",50),t.qZA()()(),t.TgZ(14,"div",46)(15,"mat-form-field",47)(16,"mat-label"),t._uU(17,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(18,"mat-select",53)(19,"mat-option",54),t._uU(20,"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"),t.qZA(),t.TgZ(21,"mat-option",55),t._uU(22,"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435"),t.qZA()()(),t.TgZ(23,"mat-checkbox",56),t._uU(24,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA()()()),2&a){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.currencies),t.xp6(6),t.Q6J("ngForOf",e.currencies),t.xp6(5),t.Q6J("compareWith",e.compareFin)}}function ft(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function _t(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ht(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t._UZ(4,"input",73),t.qZA()())}function Zt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",74),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onCheckboxChange(o))}),t._uU(2,"\u0420\u0435\u0436\u0438\u043c"),t.qZA(),t.TgZ(3,"mat-checkbox",75),t._uU(4,"\u041a\u0440\u044e\u043a"),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode)}}function vt(a,i){1&a&&(t.TgZ(0,"div",76)(1,"mat-form-field",77)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",78),t.qZA(),t.TgZ(6,"mat-form-field",77)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",79),t.qZA()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function Tt(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t._UZ(4,"input",80),t.qZA()())}function Ct(a,i){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(4,"mat-select",81)(5,"mat-option",42),t._uU(6,"20"),t.qZA(),t.TgZ(7,"mat-option",42),t._uU(8,"40"),t.qZA(),t.TgZ(9,"mat-option",42),t._uU(10,"60"),t.qZA(),t.TgZ(11,"mat-option",42),t._uU(12,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431"),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(2),t.Q6J("value","high"))}function At(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function xt(a,i){if(1&a&&(t.TgZ(0,"mat-optgroup",82),t.YNc(1,At,2,2,"mat-option",50),t.qZA()),2&a){const e=i.$implicit;t.Q6J("label",e.name),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)}}function Ot(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yt(a,i){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ut(a,i){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(5,"mat-select",57),t.YNc(6,ft,2,2,"mat-option",50),t.qZA()(),t.TgZ(7,"mat-form-field",47)(8,"mat-label"),t._uU(9,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(10,"mat-select",58),t.YNc(11,_t,2,2,"mat-option",50),t.qZA()()(),t.YNc(12,ht,5,0,"div",59),t.YNc(13,Zt,5,1,"div",1),t.YNc(14,vt,11,6,"div",60),t.YNc(15,Tt,5,0,"div",59),t.YNc(16,Ct,13,5,"div",59),t.TgZ(17,"div",46)(18,"mat-form-field",47)(19,"mat-label"),t._uU(20,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"mat-select",61),t.YNc(22,xt,2,2,"mat-optgroup",62),t.qZA()(),t.TgZ(23,"mat-form-field",47)(24,"mat-label"),t._uU(25,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430(\u0431\u0440\u0443\u0442\u0442\u043e)"),t.qZA(),t._UZ(26,"input",63),t.qZA(),t.TgZ(27,"mat-form-field",47)(28,"mat-label"),t._uU(29,"\u041a\u0443\u0431\u0430\u0442\u0443\u0440\u0430"),t.qZA(),t._UZ(30,"input",64),t.qZA()(),t.TgZ(31,"div",65)(32,"div",66),t._uU(33,"\u0413\u0430\u0431\u0430\u0440\u0438\u0442\u044b \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(34,"div",67)(35,"mat-form-field",65),t._UZ(36,"input",68),t.qZA(),t.TgZ(37,"mat-form-field",65),t._UZ(38,"input",69),t.qZA(),t.TgZ(39,"mat-form-field",65),t._UZ(40,"input",70),t.qZA()()(),t.TgZ(41,"div",46)(42,"mat-form-field",47)(43,"mat-label"),t._uU(44,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(45,"mat-select",71),t.YNc(46,Ot,2,2,"mat-option",50),t.qZA()(),t.TgZ(47,"mat-form-field",47)(48,"mat-label"),t._uU(49,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(50,"mat-select",72),t.YNc(51,yt,2,2,"mat-option",50),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportTypes),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportKinds),t.xp6(1),t.Q6J("ngIf",e.isAutotransport),t.xp6(1),t.Q6J("ngIf",e.isRefrigerator),t.xp6(1),t.Q6J("ngIf",e.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",e.isCistern),t.xp6(1),t.Q6J("ngIf",e.isContainer),t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)("ngForTrackBy",e.group),t.xp6(23),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoLoadingMethods),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.packagesTypes)}}function qt(a,i){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),t.qZA())}function Lt(a,i){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function It(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextStep())}),t.YNc(1,qt,2,0,"span",1),t.YNc(2,Lt,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}function Dt(a,i){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),t.qZA())}function bt(a,i){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function Nt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createOrder())}),t.YNc(1,Dt,2,0,"span",1),t.YNc(2,bt,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}let k=(()=>{class a{constructor(e,n,o,r,c,Q,P,w){this.dialogRef=e,this.formBuilder=n,this._orderService=o,this._typesService=r,this._clientService=c,this.toastr=Q,this.dialog=P,this.data=w,this.inputVisited=!1,this.prefixes=["Mr.","Mrs.","Ms.","Dr.","Prof."],this.loading=!1,this.findList=[],this.viewText=!1,this.currentStep=1,this.isRefrigeratorMode=!1,this.searchSubject=new W.x,this.searchSubject.pipe((0,R.b)(300),(0,H.x)(),(0,S.b)(()=>this.loading=!0),(0,G.w)(U=>this.findCities(U.trim().toLowerCase()).pipe((0,V.K)(()=>(0,B.of)([])),(0,S.b)(()=>this.loading=!1)))).subscribe(U=>{this.findList=U.data}),this.data&&this.getOrderById(this.data.id)}onInputFocus(){this.inputVisited=!0}getOrderById(e){this._orderService.getOrderById(e).subscribe(n=>{n.success&&this.form.patchValue({id:n.data?.id,clientId:n.data?.clientMerchant?.id,sendDate:n.data?.sendDate,loadingLocation:n.data?.loadingLocation,deliveryLocation:n.data?.deliveryLocation,selectedLocations:[n.data?.customsPlaceLocation?"customsPlaceLocation":null,n.data?.customsClearancePlaceLocation?"customsClearancePlaceLocation":null,n.data?.additionalLoadingLocation?"additionalLoadingLocation":null,n.data?.additionalDeliveryLocation?"additionalDeliveryLocation":null].filter(o=>null!==o),customsPlaceLocation:n.data?.customsPlaceLocation,customsClearancePlaceLocation:n.data?.customsClearancePlaceLocation,additionalLoadingLocation:n.data?.additionalLoadingLocation,additionalDeliveryLocation:n.data?.additionalDeliveryLocation,isUrgent:n.data?.isUrgent,isTwoDays:n.data?.isTwoDays,isAdr:n.data?.isAdr,isCarnetTir:n.data?.isCarnetTir,isGlonas:n.data?.isGlonas,isParanom:n.data?.isParanom,offeredPrice:n.data?.offeredPrice,offeredPriceCurrencyId:n.data?.offeredPriceCurrency.id,inAdvancePrice:n.data?.inAdvancePrice,inAdvancePriceCurrencyId:n.data?.inAdvancePriceCurrency.id,paymentMethod:n.data?.paymentMethod,isSafeTransaction:n.data?.isSafeTransaction,transportKindIds:n.data?.transportKinds,transportTypeIds:n.data?.transportTypes,refrigeratorFrom:n.data?.refrigeratorFrom,refrigeratorTo:n.data?.refrigeratorTo,refrigeratorCount:n.data?.refrigeratorCount,isHook:n.data?.isHook,cargoTypeId:n.data?.cargoType,cargoWeight:n.data?.cargoWeight,cargoLength:n.data?.cargoLength,cargoWidth:n.data?.cargoWidth,cargoHeight:n.data?.cargoHeight,cubature:n.data?.cubature,cargoPackageId:n.data?.cargoPackage,loadingMethodId:n.data?.loadingMethod})})}ngOnInit(){this.form=this.formBuilder.group({id:[null],clientId:[null],sendDate:[null],loadingLocation:[null],deliveryLocation:[null],selectedLocations:[[]],customsPlaceLocation:[null],customsClearancePlaceLocation:[null],additionalLoadingLocation:[null],additionalDeliveryLocation:[null],isUrgent:[!0],isTwoDays:[!1],isAdr:[!1],isCarnetTir:[!1],isGlonas:[!1],isParanom:[!1],offeredPrice:[null],offeredPriceCurrencyId:[null],inAdvancePrice:[0],inAdvancePriceCurrencyId:[null],paymentMethod:["cash"],isSafeTransaction:[!1],transportKindIds:[null,d.kI.required],transportTypeIds:[null,d.kI.required],refrigeratorFrom:[null],refrigeratorTo:[null],refrigeratorCount:[null],isHook:[null],cargoTypeId:[null,d.kI.required],cargoWeight:[null,d.kI.required],cargoLength:[null],cargoWidth:[null],cargoHeight:[null],cubature:[null],cargoPackageId:[null],loadingMethodId:[null]}),this.changeValue(),(0,z.D)({currencies:this._typesService.getCurrencies(),cargoTypes:this._typesService.getCargoTypes(),transportTypes:this._typesService.getTransportTypes(),packagesTypes:this._typesService.getPackages(),cargoLoadingMethods:this._typesService.getCargoLoadingMethod(),transportKinds:this._typesService.getTransportKinds(),users:this._clientService.getAll()}).subscribe({next:e=>{this.currencies=e.currencies.data,this.cargoTypes=e.cargoTypes.data,this.transportTypes=e.transportTypes.data,this.packagesTypes=e.packagesTypes.data,this.cargoLoadingMethods=e.cargoLoadingMethods.data,this.transportKinds=e.transportKinds.data,this.users=e.users,this.form.patchValue({offeredPriceCurrencyId:this.currencies[0].id,inAdvancePriceCurrencyId:this.currencies[0].id})},error:e=>{console.error("Error fetching currencies and cargo types:",e)}}),this.form.get("clientId").valueChanges.subscribe(e=>{this._clientService.get(e).subscribe({next:n=>{this.clientInfo=n.success?n.data:null},error:n=>{console.error("Error fetching client info:",n)}})})}trackByFn(e){return e.id}compareFn(e,n){if(e&&n)return e===n.id}compareFin(e,n){if(e&&n)return e===n}setIds(e){return e.map(n=>n.id)}setId(e){return e.id}createOrder(){const e=["customsPlaceLocation","customsClearancePlaceLocation","additionalLoadingLocation","additionalDeliveryLocation"];for(const n of e)this.form.value[n]&&this.form.patchValue({[n]:{name:this.form.value[n].displayName,latitude:this.form.value[n].latitude,longitude:this.form.value[n].longitude}});this.form.patchValue({loadingLocation:{name:this.form.value.loadingLocation.displayName,latitude:this.form.value.loadingLocation.latitude,longitude:this.form.value.loadingLocation.longitude},deliveryLocation:{name:this.form.value.deliveryLocation.displayName,latitude:this.form.value.deliveryLocation.latitude,longitude:this.form.value.deliveryLocation.longitude}}),this.form.get("id").value&&this.form.patchValue({transportKindIds:this.setIds(this.form.get("transportKindIds").value),transportTypeIds:this.setIds(this.form.get("transportTypeIds").value),cargoTypeId:this.setId(this.form.get("cargoTypeId").value),cargoPackageId:this.setId(this.form.get("cargoPackageId").value),loadingMethodId:this.setId(this.form.get("loadingMethodId").value)}),this.form.valid?this.form.value.id?this._orderService.updateOrder(this.form.value).subscribe(n=>{n.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"))}):this._orderService.createOrder(this.form.value).subscribe(n=>{n.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"))}):this.dialog.open(X.d,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}nextStep(){this.currentStep<3&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}changeValue(){this.form.get("isUrgent").valueChanges.subscribe(e=>{e&&this.form.get("isTwoDays").setValue(!1)}),this.form.get("isTwoDays").valueChanges.subscribe(e=>{e&&this.form.get("isUrgent").setValue(!1)}),this.form.get("isSafeTransaction").valueChanges.subscribe(e=>{e&&this.agreementModal()}),this.form.get("transportKindIds").valueChanges.subscribe(e=>{if(1==e.length){console.log(this.transportKinds);let n=this.transportKinds.find(o=>o.id==e);this.isAutotransport=n?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=n?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=n?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=n?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")}else e.forEach(n=>{console.log(this.transportKinds);let o=this.transportKinds.find(r=>r.id==n);console.log(o?.name?.includes("\u0420\u0435\u0444\u0440\u0435\u0436\u0435\u0440\u0430\u0442\u043e\u0440")),this.isAutotransport=this.isAutotransport||o?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=this.isRefrigerator||o?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=this.isCistern||o?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=this.isContainer||o?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")})})}findCity(e){const n=e.target.value.toString().trim().toLowerCase();this.searchSubject.next(n)}displayFn(e){return e?e.displayName:""}findCities(e){return e?this._typesService.getCities(e,"en"):(0,B.of)({data:[]})}closeModal(){this.dialogRef.close()}agreementModal(){this.dialog.open($,{autoFocus:!1,disableClose:!0,width:"600px"}).afterClosed().subscribe(n=>{"close"===n&&this.form.get("isSafeTransaction")?.setValue(!1)})}getDynamicLabel(e){switch(e){case"customsPlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"customsClearancePlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"additionalLoadingLocation":case"additionalDeliveryLocation":return"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438";default:return null}}onCheckboxChange(e){this.isRefrigeratorMode=e.checked}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(l.so),t.Y36(d.qu),t.Y36(b),t.Y36(N.K),t.Y36(et.y),t.Y36(at._W),t.Y36(l.uw),t.Y36(l.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["create-order"]],standalone:!0,features:[t.jDz],decls:26,vars:16,consts:[[1,"flex","justify-between"],[4,"ngIf"],["class","cursor-pointer","svgIcon","heroicons_outline:arrow-long-left",3,"click",4,"ngIf"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"flex","items-center","justify-center","gap-1","mb-5"],[1,"stepper-item","active"],["svgIcon","heroicons_outline:arrow-long-right",1,"step-arrow"],[1,"stepper-item"],[1,"font-bold","text-3xl","flex","justify-center"],[1,"mat-typography","m-auto","px-3"],[1,"mt-8","w-full",3,"formGroup"],["align","center"],["class","fuse-mat-button-large  w-full mt-6","mat-flat-button","",3,"disabled","color","click",4,"ngIf"],["svgIcon","heroicons_outline:arrow-long-left",1,"cursor-pointer",3,"click"],[1,"grid","sm:grid-cols-1","gap-4"],[1,"flex-auto","gt-xs:pr-3","w-1/2"],["matIconSuffix","",3,"for"],["matInput","","readonly","","formControlName","sendDate",3,"matDatepicker"],["picker",""],[1,"grid","sm:grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full"],["type","text","matInput","","formControlName","loadingLocation",3,"matAutocomplete","input"],["autoActiveFirstOption","",3,"displayWith"],["loadingLocation","matAutocomplete"],[4,"ngFor","ngForOf"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["type","text","matInput","","formControlName","deliveryLocation",3,"matAutocomplete","input"],["deliveryLocation","matAutocomplete"],["multiple","","formControlName","selectedLocations"],["value","customsPlaceLocation"],["value","customsClearancePlaceLocation"],["value","additionalLoadingLocation"],["value","additionalDeliveryLocation"],["matInput","","formControlName","clientId"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngIf"],[1,"grid","grid-cols-2"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngFor","ngForOf"],[1,"flex","flex-col"],["formControlName","isAdr"],["formControlName","isCarnetTir"],["formControlName","isGlonas"],["formControlName","isParanom"],[3,"value"],["matInput","",3,"value"],["type","text","matInput","",3,"matAutocomplete","formControlName","input"],["auto","matAutocomplete"],[1,"flex","gap-2"],[1,"flex-auto","md:w-72","sm:w-full"],["type","number","matInput","","formControlName","offeredPrice"],["matPrefix","","formControlName","offeredPriceCurrencyId"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","inAdvancePrice"],["matPrefix","","formControlName","inAdvancePriceCurrencyId"],["formControlName","paymentMethod",3,"compareWith"],["value","cash"],["value","cashless"],["formControlName","isSafeTransaction",1,"flex-auto","md:w-72","sm:w-full"],["formControlName","transportTypeIds","multiple","",3,"compareWith"],["formControlName","transportKindIds","multiple","",3,"compareWith"],["class","flex gap-2",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["formControlName","cargoTypeId",3,"compareWith"],[3,"label",4,"ngFor","ngForOf","ngForTrackBy"],["type","number","matInput","","formControlName","cargoWeight"],["type","number","matInput","","formControlName","cubature"],[1,"flex-auto"],[1,"text-[#1e293b]","font-medium","dark:text-white"],[1,"flex","items-baseline","gap-2"],["type","number","matInput","","formControlName","cargoLength","placeholder","\u0414\u043b\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoWidth","placeholder","\u0428\u0438\u0440\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoHeight","placeholder","\u0412\u044b\u0441\u043e\u0442\u0430"],["formControlName","loadingMethodId",3,"compareWith"],["formControlName","cargoPackageId",3,"compareWith"],["type","number","matInput","","formControlName","refrigeratorCount"],[3,"checked","change"],["formControlName","isHook"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","w-full"],["type","number","min","-10","max","24","matInput","","formControlName","refrigeratorFrom"],["type","number","max","25","min","0","matInput","","formControlName","refrigeratorTo"],["type","number","matInput","","formControlName","cisternVolume"],["formControlName","containerVolume",3,"value"],[3,"label"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"disabled","color","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,ot,1,0,"div",1),t.YNc(2,nt,1,0,"mat-icon",2),t.TgZ(3,"mat-icon",3),t.NdJ("click",function(){return o.closeModal()}),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"span"),t._uU(7,"1"),t.qZA()(),t._UZ(8,"mat-icon",6),t.TgZ(9,"div",7)(10,"span"),t._uU(11,"2"),t.qZA()(),t._UZ(12,"mat-icon",6),t.TgZ(13,"div",7)(14,"span"),t._uU(15,"3"),t.qZA()()(),t.TgZ(16,"div",8),t._uU(17,"\u0420\u0410\u0417\u041c\u0415\u0429\u0415\u041d\u0418\u0415 \u0413\u0420\u0423\u0417\u0410"),t.qZA(),t.TgZ(18,"mat-dialog-content",9)(19,"form",10),t.YNc(20,ct,58,16,"div",1),t.YNc(21,gt,25,3,"div",1),t.YNc(22,Ut,52,16,"div",1),t.qZA()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,It,3,4,"button",12),t.YNc(25,Nt,3,4,"button",12),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",1==o.currentStep),t.xp6(1),t.Q6J("ngIf",1!=o.currentStep),t.xp6(6),t.ekj("step-arrow-active",2===o.currentStep||3===o.currentStep),t.xp6(1),t.ekj("active",2===o.currentStep||3===o.currentStep),t.xp6(3),t.ekj("step-arrow-active",3===o.currentStep),t.xp6(1),t.ekj("active",3===o.currentStep),t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngIf",1==o.currentStep),t.xp6(1),t.Q6J("ngIf",2==o.currentStep),t.xp6(1),t.Q6J("ngIf",3==o.currentStep),t.xp6(2),t.Q6J("ngIf",3!==o.currentStep),t.xp6(1),t.Q6J("ngIf",3==o.currentStep))},dependencies:[f.O5,f.ax,s.p9,s.oG,O.y4,O.Ot,C.LD,h.KE,h.hX,h.qo,h.R9,C.gD,E.ey,E.Nv,m.c,m.Nt,h.lN,_.Ps,_.Hw,d.u5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.qQ,d.Fd,d.UX,d.sg,d.u,A.FA,A.Mq,A.hl,A.nW,L.Bb,L.XC,L.ZL,l.Is,l.xY,l.H8,p.ot,p.lW,Z.Cq,Z.Ou],styles:[".active{background-color:#f97c00!important;box-shadow:0 0 5px #f97c00!important}.stepper-item{position:relative;width:50px;height:50px;border-radius:50%;background-color:#cdcdcd;box-shadow:0 0 5px #c0bebb}.stepper-item span{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700}.step-arrow-active{color:#f97c00}.prefix-select-container{display:flex;align-items:center}.prefix{margin-right:8px}\n"],encapsulation:2,data:{animation:Y.L}})}return a})();var Et=u(3617),F=u(3649),J=u(1848),Ft=u(7361);let Jt=(()=>{class a{transform(e,n=!0){const r=new Date(e),c=r.getUTCDate(),Q=r.getUTCMonth(),P=r.getUTCFullYear(),w=r.getUTCHours().toString().padStart(2,"0"),U=r.getUTCMinutes().toString().padStart(2,"0");let j=`${c} ${["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"][Q]} ${P}`;return n&&(j+=` \u0432 ${w}:${U}`),j}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275pipe=t.Yjl({name:"dateFormat",type:a,pure:!0})}return a})();function Mt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsPlaceLocation?null:e.data.customsPlaceLocation.name,"")}}function Qt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsClearancePlaceLocation?null:e.data.customsClearancePlaceLocation.name,"")}}function Pt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalLoadingLocation?null:e.data.additionalLoadingLocation.name,"")}}function wt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalDeliveryLocation?null:e.data.additionalDeliveryLocation.name,"")}}function Yt(a,i){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function St(a,i){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Bt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorCount,"")}}function kt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u043e\u0442 (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorFrom,"")}}function jt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u0434\u043e (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorTo,"")}}function Kt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u0440\u044e\u043a"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.isHook,"")}}function $t(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.cisternVolume,"")}}function Wt(a,i){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.containerVolume,"")}}const I=function(a,i){return[a,i]};let Rt=(()=>{class a{constructor(e,n,o){this.data=e,this.orderService=n,this.typesService=o,this.editing=!1}ngOnInit(){this.typesService.getCurrencies().subscribe(e=>{e.success&&(this.currencies=e.data)}),this.getOrderById(),this.updateDriverOffers()}getOrderById(){this.orderService.getOrderById(this.data).subscribe(e=>{e.success&&(this.data=e.data,console.log(this.data))})}updateDriverOffers(){this.data.driverOffers&&Array.isArray(this.data.driverOffers)&&(this.data.driverOffers=this.data.driverOffers.filter(e=>0==e.rejected))}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(l.WI),t.Y36(b),t.Y36(N.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-order-detail"]],standalone:!0,features:[t.jDz],decls:122,vars:52,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"h-60","w-full","mt-4"],[3,"center","zoom"],[3,"referencePoints"],[1,"max-w-md","mx-auto","mt-3","rounded-lg","shadow-md"],[1,"grid","grid-cols-2","gap-4"],[1,"text-lg","mb-1"],[1,"font-bold"],[4,"ngIf"],["class","font-bold",4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content",4)(7,"div",5)(8,"ya-map",6),t._UZ(9,"ya-multiroute",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),t._uU(14,"\u041e\u0442\u043a\u0443\u0434\u0430"),t.qZA(),t.TgZ(15,"p",11),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"p",10),t._uU(19,"\u041a\u0443\u0434\u0430"),t.qZA(),t.TgZ(20,"p",11),t._uU(21),t.qZA()(),t.YNc(22,Mt,5,1,"div",12),t.YNc(23,Qt,5,1,"div",12),t.YNc(24,Pt,5,1,"div",12),t.YNc(25,wt,5,1,"div",12),t.TgZ(26,"div")(27,"p",10),t._uU(28,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(29,"p",11),t._uU(30),t.qZA()(),t.TgZ(31,"div")(32,"p",10),t._uU(33,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(34,Yt,2,1,"p",13),t.qZA(),t.TgZ(35,"div")(36,"p",10),t._uU(37,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(38,St,2,1,"p",13),t.qZA(),t.TgZ(39,"div")(40,"p",10),t._uU(41,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(42,"p",11),t._uU(43),t.qZA()(),t.TgZ(44,"div")(45,"p",10),t._uU(46,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(47,"p",11),t._uU(48),t.qZA()(),t.TgZ(49,"div")(50,"p",10),t._uU(51,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(52,"p",11),t._uU(53),t.qZA()(),t.TgZ(54,"div")(55,"p",10),t._uU(56,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t.TgZ(57,"p",11),t._uU(58),t.qZA()(),t.TgZ(59,"div")(60,"p",10),t._uU(61,"\u0414\u0430\u0442\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"),t.qZA(),t.TgZ(62,"p",11),t._uU(63),t.ALo(64,"dateFormat"),t.qZA()(),t.TgZ(65,"div")(66,"p",10),t._uU(67,"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430"),t.qZA(),t.TgZ(68,"p",11),t._uU(69),t.ALo(70,"dateFormat"),t.qZA()(),t.TgZ(71,"div")(72,"p",10),t._uU(73,"\u0421\u0442\u0430\u0442\u0443\u0441"),t.qZA(),t.TgZ(74,"p",11),t._uU(75),t.qZA()(),t.TgZ(76,"div")(77,"p",10),t._uU(78,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(79,"p",11),t._uU(80),t.qZA()(),t.TgZ(81,"div")(82,"p",10),t._uU(83,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA(),t.TgZ(84,"p",11),t._uU(85),t.qZA()(),t.TgZ(86,"div")(87,"p",10),t._uU(88,"ADR"),t.qZA(),t.TgZ(89,"p",11),t._uU(90),t.qZA()(),t.TgZ(91,"div")(92,"p",10),t._uU(93,"Carnet TIR"),t.qZA(),t.TgZ(94,"p",11),t._uU(95),t.qZA()(),t.TgZ(96,"div")(97,"p",10),t._uU(98,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(99,"p",11),t._uU(100),t.qZA()(),t.TgZ(101,"div")(102,"p",10),t._uU(103,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA(),t.TgZ(104,"p",11),t._uU(105),t.qZA()(),t.YNc(106,Bt,5,1,"div",12),t.YNc(107,kt,5,1,"div",12),t.YNc(108,jt,5,1,"div",12),t.YNc(109,Kt,5,1,"div",12),t.YNc(110,$t,5,1,"div",12),t.YNc(111,Wt,5,1,"div",12),t.TgZ(112,"div")(113,"p",10),t._uU(114,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(115,"p",11),t._uU(116),t.qZA()(),t.TgZ(117,"div")(118,"p",10),t._uU(119,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(120,"p",11),t._uU(121),t.qZA()()()()()),2&n&&(t.xp6(2),t.hij("ID #",o.data.id,""),t.xp6(6),t.Q6J("center",t.WLB(40,I,null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.latitude,null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.longitude))("zoom",12),t.xp6(1),t.Q6J("referencePoints",t.WLB(49,I,t.WLB(43,I,null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.latitude,null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.longitude),t.WLB(46,I,null==o.data||null==o.data.deliveryLocation?null:o.data.deliveryLocation.latitude,null==o.data||null==o.data.deliveryLocation?null:o.data.deliveryLocation.longitude))),t.xp6(7),t.Oqu(null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.name),t.xp6(5),t.Oqu(null==o.data||null==o.data.deliveryLocation?null:o.data.deliveryLocation.name),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.customsPlaceLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.customsClearancePlaceLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.additionalLoadingLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.additionalDeliveryLocation),t.xp6(5),t.Oqu(null==o.data||null==o.data.cargoType?null:o.data.cargoType.name),t.xp6(4),t.Q6J("ngForOf",o.data.transportTypes),t.xp6(4),t.Q6J("ngForOf",o.data.transportKinds),t.xp6(5),t.lnq(" \u0434: ",null!=o.data&&o.data.cargoLength?(null==o.data?null:o.data.cargoLength)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0428: ",null!=o.data&&o.data.cargoWidth?(null==o.data?null:o.data.cargoWidth)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0412: ",null!=o.data&&o.data.cargoHeight?(null==o.data?null:o.data.cargoHeight)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.cargoWeight?(null==o.data?null:o.data.cargoWeight)+"\u043a\u0433":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.offeredPrice?(null==o.data?null:o.data.offeredPrice)+" "+(null==o.data||null==o.data.offeredPriceCurrency?null:o.data.offeredPriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.inAdvancePrice?(null==o.data?null:o.data.inAdvancePrice)+" "+(null==o.data||null==o.data.inAdvancePriceCurrency?null:o.data.inAdvancePriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.Oqu(t.lcZ(64,36,null==o.data?null:o.data.createdAt)),t.xp6(6),t.Oqu(t.lcZ(70,38,null==o.data?null:o.data.sendDate)),t.xp6(6),t.hij(" ",null==o.data||null==o.data.cargoStatus?null:o.data.cargoStatus.name,""),t.xp6(5),t.hij(" ","cash"==(null==o.data?null:o.data.paymentMethod)?"\u041d\u0430\u043b\u0438\u0447\u0438":"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isSafe?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isAdr?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isCarnetTir?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isGlonas?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isParanom?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorCount),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorFrom),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorTo),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.isHook),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.cisternVolume),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.containerVolume),t.xp6(5),t.hij(" ",null!=o.data.loadingMethod&&o.data.loadingMethod.name?null==o.data.loadingMethod?null:o.data.loadingMethod.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""),t.xp6(5),t.hij(" ",null!=o.data.cargoPackage&&o.data.cargoPackage.name?null==o.data.cargoPackage?null:o.data.cargoPackage.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""))},dependencies:[_.Ps,_.Hw,Et.Nh,f.O5,Ft.d,Jt,h.lN,m.c,C.LD,d.u5,d.UX,J.te,J.k0,J.Vz,l.Is,l.ZT,l.uh,l.xY,O.y4,p.ot,p.RK,f.ax,F.AV],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:2px!important;padding:15px 20px}[_nghost-%COMP%]     ::-webkit-scrollbar{display:none}[_nghost-%COMP%]     .mat-mdc-dialog-content{max-height:83vh;padding:0!important}[_nghost-%COMP%]     .mdc-dialog__title{padding:0 0 9px!important}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar{width:2px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}[_nghost-%COMP%]     .yandex{height:calc(100% - 135px)}[_nghost-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-content{padding:0}"]})}return a})();var M=u(2611),Ht=u(877),Gt=u(8236);function Vt(a,i){if(1&a&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function zt(a,i){if(1&a&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Xt(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1," No "),t.qZA())}function te(a,i){if(1&a&&(t.TgZ(0,"mat-cell",53),t._uU(1),t.qZA()),2&a){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}function ee(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1," ID "),t.qZA())}function ae(a,i){if(1&a&&(t.TgZ(0,"mat-cell",53),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function oe(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"from")))}function ne(a,i){if(1&a&&(t.TgZ(0,"mat-cell",54),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("matTooltip",null==e.deliveryLocation?null:e.deliveryLocation.name),t.xp6(1),t.hij(" ",null==e||null==e.loadingLocation?null:e.loadingLocation.name," ")}}function ie(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"where")))}function ue(a,i){if(1&a&&(t.TgZ(0,"mat-cell",54),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.Q6J("matTooltip",null==e.deliveryLocation?null:e.deliveryLocation.name),t.xp6(1),t.hij(" ",null==e||null==e.deliveryLocation?null:e.deliveryLocation.name," ")}}function re(a,i){1&a&&(t.TgZ(0,"mat-header-cell",55),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"status"),""))}function le(a,i){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",56)(2,"span"),t._uU(3),t.qZA()()()),2&a){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Tol(n.returnClassStatusOrder(null==e.cargoStatus?null:e.cargoStatus.name)),t.xp6(2),t.Oqu(n.statusOrderCheck(null==e.cargoStatus?null:e.cargoStatus.name))}}function se(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"cargo_type")))}function de(a,i){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",57),t._uU(2),t.qZA()()),2&a){const e=i.$implicit;t.xp6(2),t.Oqu(null==e||null==e.cargoType?null:e.cargoType.name)}}function ce(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"transport_cargo")))}function me(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function pe(a,i){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,me,3,1,"span",59),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",null==e?null:e.transportTypes)}}function ge(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t.YNc(1,pe,2,1,"span",58),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.transportTypes)}}function fe(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"secure_transaction")))}function _e(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.Oqu(null!=e&&e.isSafe?"\u0414\u0430":"\u041d\u0435\u0442")}}function he(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"price")))}function Ze(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.offeredPrice," ")}}function ve(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shipment_date")))}function Te(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=i.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,e.isUrgent?n.addTwoDays(e.createdAt):e.createdAt,"dd.MM.YYYY")," ")}}function Ce(a,i){1&a&&(t.TgZ(0,"mat-header-cell",52),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"client")))}function Ae(a,i){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.deliveryLocation?null:e.deliveryLocation.name," ")}}function xe(a,i){1&a&&t._UZ(0,"mat-header-cell")}function Oe(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"div",60)(2,"button",61),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,62)(7,"button",63),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.cancel(r))}),t.TgZ(8,"mat-icon"),t._uU(9,"remove"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA()()()()}if(2&a){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.hij(" ",t.lcZ(11,2,"cancel")," ")}}function ye(a,i){1&a&&t._UZ(0,"mat-header-row")}function Ue(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-row",64),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.detail(r.id))}),t.qZA()}}const qe=function(){return[10,20,50,100,200]},Le=[{path:"",component:(()=>{class a{constructor(e,n,o,r){this.orderService=e,this.authService=n,this.dialog=o,this._typeService=r,this.isLoading=!1,this.displayedColumns=["index","id","sendLocation","cargoDeliveryLocation","status","date_send","offeredPrice","secure_transaction","type_cargo","transport_type","client","actions"],this.transportKinds=[],this.transportTypes=[],this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""},this.pageParams={page:0,limit:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.dataSource=new g.by([])}ngOnInit(){this.currentUser=(0,v.o)(this.authService.accessToken),this.getOrders(),this._typeService.getTransportKinds().subscribe(e=>{this.transportKinds=e.data}),this._typeService.getTransportTypes().subscribe(e=>{this.transportTypes=e.data})}detail(e){this.dialog.open(Rt,{width:"500px",height:"100vh",autoFocus:!1,position:{top:"0",right:"0"},maxHeight:"100%",data:e}).afterClosed().subscribe(()=>{console.log("close"),this.getOrders(this.pageParams)})}clearFilters(){this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""}}filterDrivers(){}onPageChange(e){this.pageParams.limit=e.pageSize,this.pageParams.page=e.pageIndex,this.getOrders(this.pageParams)}getOrders(e){this.isLoading=!0,this.orderService.getOrders(Object.assign(this.filters,e)).subscribe(n=>{console.log(n),n&&n.success?(this.isLoading=!1,this.dataSource=n.data.content):(this.isLoading=!1,this.dataSource.data=[])}),this.isLoading=!1}addTwoDays(e){const n=new Date(e);return n.setDate(n.getDate()+2),n}statusOrderCheck(e){switch(e){case"waiting":return"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0439";case 1:return"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f";case 2:return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case 3:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";case 4:return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";default:return"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"}}returnClassStatusOrder(e){switch(e){case"waiting":return"status-order-blue";case 1:return"status-order-yellow";case 2:return"status-order-green";case 3:return"status-order-info";case 4:return"status-order-red";default:return"status-order"}}cancel(e){this.orderService.cancelOrder(e.id).subscribe(n=>{n&&n.success&&this.getOrders(this.pageParams)})}edit(e){this.dialog.open(k,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0,data:e}).afterClosed().subscribe(o=>{this.getOrders(this.pageParams)})}createOrderModal(){this.dialog.open(k,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0}).afterClosed().subscribe(n=>{this.getOrders(this.pageParams)})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(b),t.Y36(Gt.e),t.Y36(l.uw),t.Y36(N.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-orders"]],viewQuery:function(n,o){if(1&n&&t.Gf(x.NW,5),2&n){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:109,vars:68,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",3,"color","click"],[1,"flex","items-baseline","flex-wrap"],["color","accent",1,"w-50","px-1"],["matInput","","name","ID",3,"placeholder","ngModel","ngModelChange"],["name","StatusID",3,"placeholder","ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["matInput","","name","StatusID",3,"placeholder","ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","loadingLocation",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","deliveryLocation",3,"ngModel","ngModelChange"],["name","transportTypeId",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","transportKindId",3,"placeholder","ngModel","ngModelChange"],["name","merchantOrder",3,"placeholder","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"px-1"],["mat-flat-button","","color","warn",1,"",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"mt-4","shadow-table"],["matSort","",1,"table",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","sendLocation"],["class","truncate-cell",3,"matTooltip",4,"matCellDef"],["matColumnDef","cargoDeliveryLocation"],["matColumnDef","status"],["class","font-bold","mat-sort-header","","sortActionDescription","Sort by status",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","type_cargo"],["matColumnDef","transport_type"],["matColumnDef","secure_transaction"],["matColumnDef","offeredPrice"],["matColumnDef","date_send"],["matColumnDef","client"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[3,"value"],[1,"font-bold"],[1,"index-column"],[1,"truncate-cell",3,"matTooltip"],["mat-sort-header","","sortActionDescription","Sort by status",1,"font-bold"],[1,"status-badge"],[1,"truncate-cell"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],[3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"\u0413\u0440\u0443\u0437\u044b"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return o.createOrderModal()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," \u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0433\u0440\u0443\u0437 "),t.qZA()()(),t.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"input",8),t.NdJ("ngModelChange",function(c){return o.filters.orderId=c}),t.ALo(14,"transloco"),t.qZA()(),t.TgZ(15,"mat-form-field",7)(16,"mat-select",9),t.NdJ("ngModelChange",function(c){return o.filters.statusId=c}),t.ALo(17,"transloco"),t.TgZ(18,"mat-option",10),t._uU(19),t.ALo(20,"transloco"),t.qZA(),t.TgZ(21,"mat-option",11),t._uU(22),t.ALo(23,"transloco"),t.qZA(),t.TgZ(24,"mat-option",12),t._uU(25),t.ALo(26,"transloco"),t.qZA(),t.TgZ(27,"mat-option",13),t._uU(28),t.ALo(29,"transloco"),t.qZA(),t.TgZ(30,"mat-option",14),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t.TgZ(33,"mat-option",15),t._uU(34),t.ALo(35,"transloco"),t.qZA()()(),t.TgZ(36,"mat-form-field",7)(37,"input",16),t.NdJ("ngModelChange",function(c){return o.filters.statusId=c}),t.ALo(38,"transloco"),t.qZA()(),t.TgZ(39,"mat-form-field",7)(40,"input",17),t.NdJ("ngModelChange",function(c){return o.filters.loadingLocation=c}),t.qZA()(),t.TgZ(41,"mat-form-field",7)(42,"input",18),t.NdJ("ngModelChange",function(c){return o.filters.deliveryLocation=c}),t.qZA()(),t.TgZ(43,"mat-form-field",7)(44,"mat-select",19),t.NdJ("ngModelChange",function(c){return o.filters.transportTypeId=c}),t.ALo(45,"transloco"),t.YNc(46,Vt,2,2,"mat-option",20),t.qZA()(),t.TgZ(47,"mat-form-field",7)(48,"mat-select",21),t.NdJ("ngModelChange",function(c){return o.filters.transportKindId=c}),t.ALo(49,"transloco"),t.YNc(50,zt,2,2,"mat-option",20),t.qZA()(),t.TgZ(51,"mat-form-field",7)(52,"mat-select",22),t.NdJ("ngModelChange",function(c){return o.filters.merchantOrder=c}),t.ALo(53,"transloco"),t.TgZ(54,"mat-option",23),t._uU(55),t.ALo(56,"transloco"),t.qZA(),t.TgZ(57,"mat-option",24),t._uU(58),t.ALo(59,"transloco"),t.qZA()()(),t.TgZ(60,"div",25)(61,"button",26),t.NdJ("click",function(){return o.clearFilters()}),t._uU(62),t.ALo(63,"transloco"),t.qZA()(),t.TgZ(64,"div",25)(65,"button",27),t.NdJ("click",function(){return o.getOrders()}),t._uU(66),t.ALo(67,"transloco"),t.qZA()()(),t.TgZ(68,"div",28)(69,"mat-table",29),t.ynx(70,30),t.YNc(71,Xt,2,0,"mat-header-cell",31),t.YNc(72,te,2,1,"mat-cell",32),t.BQk(),t.ynx(73,33),t.YNc(74,ee,2,0,"mat-header-cell",31),t.YNc(75,ae,2,1,"mat-cell",32),t.BQk(),t.ynx(76,34),t.YNc(77,oe,3,3,"mat-header-cell",31),t.YNc(78,ne,2,2,"mat-cell",35),t.BQk(),t.ynx(79,36),t.YNc(80,ie,3,3,"mat-header-cell",31),t.YNc(81,ue,2,2,"mat-cell",35),t.BQk(),t.ynx(82,37),t.YNc(83,re,3,3,"mat-header-cell",38),t.YNc(84,le,4,3,"mat-cell",39),t.BQk(),t.ynx(85,40),t.YNc(86,se,3,3,"mat-header-cell",31),t.YNc(87,de,3,1,"mat-cell",39),t.BQk(),t.ynx(88,41),t.YNc(89,ce,3,3,"mat-header-cell",31),t.YNc(90,ge,2,1,"mat-cell",39),t.BQk(),t.ynx(91,42),t.YNc(92,fe,3,3,"mat-header-cell",31),t.YNc(93,_e,2,1,"mat-cell",39),t.BQk(),t.ynx(94,43),t.YNc(95,he,3,3,"mat-header-cell",31),t.YNc(96,Ze,2,1,"mat-cell",39),t.BQk(),t.ynx(97,44),t.YNc(98,ve,3,3,"mat-header-cell",31),t.YNc(99,Te,3,4,"mat-cell",39),t.BQk(),t.ynx(100,45),t.YNc(101,Ce,3,3,"mat-header-cell",31),t.YNc(102,Ae,2,1,"mat-cell",39),t.BQk(),t.ynx(103,46),t.YNc(104,xe,1,0,"mat-header-cell",47),t.YNc(105,Oe,12,4,"mat-cell",39),t.BQk(),t.YNc(106,ye,1,0,"mat-header-row",48),t.YNc(107,Ue,1,0,"mat-row",49),t.qZA(),t.TgZ(108,"mat-paginator",50),t.NdJ("page",function(c){return o.onPageChange(c)}),t.qZA()()()()),2&n&&(t.xp6(7),t.Q6J("color","primary"),t.xp6(6),t.s9C("placeholder",t.lcZ(14,35,"ID")),t.Q6J("ngModel",o.filters.orderId),t.xp6(3),t.s9C("placeholder",t.lcZ(17,37,"StatusID")),t.Q6J("ngModel",o.filters.statusId),t.xp6(3),t.Oqu(t.lcZ(20,39,"waiting")),t.xp6(3),t.Oqu(t.lcZ(23,41,"accepted")),t.xp6(3),t.Oqu(t.lcZ(26,43,"active")),t.xp6(3),t.Oqu(t.lcZ(29,45,"completed")),t.xp6(3),t.Oqu(t.lcZ(32,47,"closed")),t.xp6(3),t.Oqu(t.lcZ(35,49,"canceled")),t.xp6(3),t.s9C("placeholder",t.lcZ(38,51,"StatusID")),t.Q6J("ngModel",o.filters.statusId),t.xp6(3),t.Q6J("ngModel",o.filters.loadingLocation),t.xp6(2),t.Q6J("ngModel",o.filters.deliveryLocation),t.xp6(2),t.s9C("placeholder",t.lcZ(45,53,"transport_type")),t.Q6J("ngModel",o.filters.transportTypeId),t.xp6(2),t.Q6J("ngForOf",o.transportTypes),t.xp6(2),t.s9C("placeholder",t.lcZ(49,55,"transport_cargo")),t.Q6J("ngModel",o.filters.transportKindId),t.xp6(2),t.Q6J("ngForOf",o.transportKinds),t.xp6(2),t.s9C("placeholder",t.lcZ(53,57,"merchant_order")),t.Q6J("ngModel",o.filters.merchantOrder),t.xp6(3),t.Oqu(t.lcZ(56,59,"merchant_order")),t.xp6(3),t.Oqu(t.lcZ(59,61,"no_merchant_order")),t.xp6(4),t.hij(" ",t.lcZ(63,63,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(67,65,"filter"),""),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",o.pageParams.totalPagesCount-1)("pageSize",o.pageParams.limit)("pageIndex",o.pageParams.page)("pageSizeOptions",t.DdM(67,qe)))},dependencies:[O.y4,O.Ot,f.uU,_.Ps,_.Hw,F.AV,F.gM,A.FA,d.u5,d.Fj,d.JJ,d.On,d.UX,C.LD,h.KE,C.gD,E.ey,p.ot,p.lW,p.RK,f.ax,f.O5,g.p0,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,h.lN,m.c,m.Nt,M.JX,M.YE,M.nU,x.TU,x.NW,T.Tx,T.VK,T.OP,T.p6,Ht.rP],styles:[".truncate-cell{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2})}return a})(),resolve:{}}]}}]);