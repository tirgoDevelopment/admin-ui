"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[772],{9772:(U,T,r)=>{r.r(T),r.d(T,{default:()=>ce});var Z=r(4755),A=r(877),f=r(1728),h=r(430),_=r(5707),p=r(6702),x=r(2611),c=r(3627),u=r(9609),s=r(9114),m=r(7406),b=r(787),l=r(9401),g=r(6286),J=r(3537),Q=r(943),N=r(3231),t=r(2223),I=r(6133);function j(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"yes")," "))}function k(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no")," "))}function B(n,o){if(1&n&&(t.TgZ(0,"div",15)(1,"div")(2,"p",16),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"p",17),t._uU(6,"\u0422\u0435\u043d\u0442\u043e\u0432\u043a\u0430"),t.qZA()(),t.TgZ(7,"div")(8,"p",16),t._uU(9),t.ALo(10,"transloco"),t.qZA(),t.TgZ(11,"p",17),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"p",16),t._uU(15),t.ALo(16,"transloco"),t.qZA(),t.TgZ(17,"p",17),t.YNc(18,j,3,3,"span",26),t.YNc(19,k,3,3,"span",26),t.qZA()(),t.TgZ(20,"div")(21,"p",16),t._uU(22),t.ALo(23,"transloco"),t.qZA(),t.TgZ(24,"p",17),t._uU(25),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,8,"transport_cargo")),t.xp6(6),t.Oqu(t.lcZ(10,10,"Date")),t.xp6(3),t.Oqu(null==e?null:e.createdAt),t.xp6(3),t.Oqu(t.lcZ(16,12,"adr")),t.xp6(3),t.Q6J("ngIf",null==e?null:e.isAdr),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.isAdr)),t.xp6(3),t.Oqu(t.lcZ(23,14,"state_number_trailer")),t.xp6(3),t.Oqu(null==e?null:e.stateNumber)}}function W(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"label",30),t._uU(4),t.ALo(5,"transloco"),t.qZA()(),t.TgZ(6,"div",31)(7,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.techPassportFrontFilePath))}),t._uU(8,"remove_red_eye"),t.qZA()()(),t.TgZ(9,"div",28)(10,"div",29)(11,"label",30),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.TgZ(14,"div",31)(15,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.techPassportBackFilePath))}),t._uU(16,"remove_red_eye"),t.qZA()()(),t.TgZ(17,"div",28)(18,"div",29)(19,"label",30),t._uU(20),t.ALo(21,"transloco"),t.qZA()(),t.TgZ(22,"div",31)(23,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.transportFrontFilePath))}),t._uU(24,"remove_red_eye"),t.qZA()()(),t.TgZ(25,"div",28)(26,"div",29)(27,"label",30),t._uU(28),t.ALo(29,"transloco"),t.qZA()(),t.TgZ(30,"div",31)(31,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.transportBackFilePath))}),t._uU(32,"remove_red_eye"),t.qZA()()(),t.TgZ(33,"div",28)(34,"div",29)(35,"label",30),t._uU(36),t.ALo(37,"transloco"),t.qZA()(),t.TgZ(38,"div",31)(39,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.transportSideFilePath))}),t._uU(40,"remove_red_eye"),t.qZA()()(),t.TgZ(41,"div",28)(42,"div",29)(43,"label",30),t._uU(44),t.ALo(45,"transloco"),t.qZA()(),t.TgZ(46,"div",31)(47,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.passportFilePath))}),t._uU(48,"remove_red_eye"),t.qZA()()(),t.TgZ(49,"div",28)(50,"div",29)(51,"label",30),t._uU(52),t.ALo(53,"transloco"),t.qZA()(),t.TgZ(54,"div",31)(55,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.driverLicenseFilePath))}),t._uU(56,"remove_red_eye"),t.qZA()()(),t.TgZ(57,"div",28)(58,"div",29)(59,"label",30),t._uU(60),t.ALo(61,"transloco"),t.qZA()(),t.TgZ(62,"div",31)(63,"mat-icon",32),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.preview(d.goodsTransportationLicenseCardFilePath))}),t._uU(64,"remove_red_eye"),t.qZA()()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,8,"technical_passport")),t.xp6(8),t.Oqu(t.lcZ(13,10,"tech_passport_front")),t.xp6(8),t.Oqu(t.lcZ(21,12,"transport_photo")),t.xp6(8),t.Oqu(t.lcZ(29,14,"transport_back_photo")),t.xp6(8),t.Oqu(t.lcZ(37,16,"transport_side_photo")),t.xp6(8),t.Oqu(t.lcZ(45,18,"passport")),t.xp6(8),t.Oqu(t.lcZ(53,20,"driver_lisense_card")),t.xp6(8),t.Oqu(t.lcZ(61,22,"good_transportation_lisense")))}function R(n,o){if(1&n&&(t.TgZ(0,"p",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.driver?null:e.driver.phoneNumber)}}function H(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.phoneNumber," ")}}function K(n,o){if(1&n&&(t.TgZ(0,"p",17),t.YNc(1,H,2,1,"span",33),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.driver?null:e.driver.phoneNumbers)}}let $=(()=>{class n{constructor(e,i,a){this.data=e,this._driverService=i,this._dialog=a,this.getDriver(e)}getDriver(e){this._driverService.get(e).subscribe(i=>{this.driver=i.data})}ngOnInit(){}block(){this._dialog.open(J.R,{minWidth:"20vw",maxWidth:"40vw",minHeight:"42vh",maxHeight:"85vh",data:this.driver.id,autoFocus:!1}).afterClosed().subscribe(()=>{this._dialog.closeAll()})}preview(e){this._dialog.open(Q.E,{minWidth:"60vw",maxWidth:"80vw",minHeight:"60vh",maxHeight:"80vh",data:{keyName:"driver",fileName:e},autoFocus:!1}).afterClosed().subscribe(()=>{})}submit(){}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.WI),t.Y36(I.P),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail-agent-driver"]],standalone:!0,features:[t.jDz],decls:76,vars:46,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","leading-5","text-3xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"max-w-md","mx-auto","p-4","mt-3","bg-white","dark:bg-black","dark:bg-blackrounded-lg","shadow-md"],[1,"flex","w-full","justify-between"],[1,"flex"],["src","assets/images/user/user.svg","alt","User Image",1,"rounded-full","w-16","h-16","mr-2"],[1,"text-2xl","font-bold"],[1,"text-gray-600"],[1,"flex","justify-end"],["src","assets/images/icons/start.svg","alt","star Image",1,"rounded-full","w-4","h-4","ml-1","mt-1"],[1,"mb-5"],[1,"text-2xl","leading-4","font-bold"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xl","leading-4","mb-1"],[1,"font-bold"],["class","grid grid-cols-2 gap-4",4,"ngFor","ngForOf"],["class","grid grid-cols-1 gap-4",4,"ngFor","ngForOf"],[1,"mb-5","flex"],["src","assets/images/icons/telegram.svg","alt","",1,"ml-auto","h-7","w-7"],["class","font-bold",4,"ngIf"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",3,"color"],["mat-flat-button","",1,"",3,"color","click"],[4,"ngIf"],[1,"grid","grid-cols-1","gap-4"],[1,"flex","space-x-4","bg-gray-50","dark:text-black","mt-2","px-4","py-2","rounded-lg"],[1,"w-3/4"],[1,"block","mb-2","font-bold"],[1,"w-1/4","flex","items-center","justify-end"],[1,"h-5","w-5","pointer-events-auto",3,"click"],[4,"ngFor","ngForOf"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content",4)(8,"div",5)(9,"div",6)(10,"div",7),t._UZ(11,"img",8),t.TgZ(12,"div")(13,"p",9),t._uU(14),t.qZA(),t.TgZ(15,"p",10),t._uU(16),t.qZA()()(),t.TgZ(17,"div",11)(18,"p",10),t._uU(19," 5.0"),t.qZA(),t._UZ(20,"img",12),t.qZA()()(),t.TgZ(21,"div",5)(22,"div",13)(23,"h2",14),t._uU(24),t.ALo(25,"transloco"),t.qZA()(),t.TgZ(26,"div",15)(27,"div")(28,"p",16),t._uU(29),t.ALo(30,"transloco"),t.qZA(),t.TgZ(31,"p",17),t._uU(32),t.qZA()(),t.TgZ(33,"div")(34,"p",16),t._uU(35),t.ALo(36,"transloco"),t.qZA(),t.TgZ(37,"p",17),t._uU(38),t.ALo(39,"date"),t.qZA()()()(),t.TgZ(40,"div",5)(41,"div",13)(42,"h2",14),t._uU(43),t.ALo(44,"transloco"),t.qZA()(),t.YNc(45,B,26,16,"div",18),t.YNc(46,W,65,24,"div",19),t.qZA(),t.TgZ(47,"div",5)(48,"div",20)(49,"h2",14),t._uU(50),t.ALo(51,"transloco"),t.qZA(),t._UZ(52,"img",21),t.qZA(),t.TgZ(53,"div",15)(54,"div")(55,"p",16),t._uU(56),t.ALo(57,"transloco"),t.qZA(),t.YNc(58,R,2,1,"p",22),t.YNc(59,K,2,1,"p",22),t.TgZ(60,"p",17),t._uU(61,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d"),t.qZA()(),t.TgZ(62,"div")(63,"p",16),t._uU(64),t.ALo(65,"transloco"),t.qZA(),t.TgZ(66,"p",17),t._uU(67),t.qZA()()()()(),t.TgZ(68,"mat-dialog-actions",7)(69,"div",23)(70,"button",24),t._uU(71),t.ALo(72,"transloco"),t.qZA(),t.TgZ(73,"button",25),t.NdJ("click",function(){return a.submit()}),t._uU(74),t.ALo(75,"transloco"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,23,"about_driver")),t.xp6(12),t.AsE("",null==a.driver?null:a.driver.firstName," ",null==a.driver?null:a.driver.lastName,""),t.xp6(2),t.hij("# ",null==a.driver?null:a.driver.id,""),t.xp6(8),t.Oqu(t.lcZ(25,25,"information")),t.xp6(5),t.Oqu(t.lcZ(30,27,"full_name")),t.xp6(3),t.AsE("",null==a.driver?null:a.driver.firstName," ",null==a.driver?null:a.driver.lastName,"\u0447"),t.xp6(3),t.Oqu(t.lcZ(36,29,"subscription")),t.xp6(3),t.Oqu(t.xi3(39,31,null==a.driver?null:a.driver.subscribedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(44,34,"transport")),t.xp6(2),t.Q6J("ngForOf",null==a.driver?null:a.driver.driverTransports),t.xp6(1),t.Q6J("ngForOf",null==a.driver?null:a.driver.driverTransports),t.xp6(4),t.hij(" ",t.lcZ(51,36,"driver_contact")," "),t.xp6(6),t.Oqu(t.lcZ(57,38,"phone")),t.xp6(2),t.Q6J("ngIf",null==a.driver?null:a.driver.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==a.driver?null:a.driver.phoneNumbers),t.xp6(5),t.Oqu(t.lcZ(65,40,"email")),t.xp6(3),t.hij(" ",null==a.driver?null:a.driver.email,""),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(72,42,"send_push"),""),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(75,44,"save")," "))},dependencies:[_.y4,_.Ot,Z.uU,N.Co,u.c,h.Ps,h.Hw,b.LD,f.ot,f.lW,f.RK,l.UX,g.Is,g.ZT,g.uh,g.xY,g.H8,l.u5,Z.ax,Z.O5,c.p0,s.lN,x.JX,p.TU,m.Tx,A.rP],styles:[".mat-mdc-dialog-container .mdc-dialog__surface{border-radius:6px 0 0 6px!important;padding:6px!important}.mat-mdc-dialog-content{max-height:83vh;scrollbar-color:#888 #eee;scrollbar-width:thin;padding:0!important}.mat-dialog-content::-webkit-scrollbar{width:2px}.mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}.mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}\n"],encapsulation:2})}return n})();var C=r(4867),y=r(8280),z=r(1274),M=r(5191),L=r(4250),O=r(3648),P=r(2689),D=r(3144),S=r(9502),G=r(8615);let w=(()=>{class n{constructor(e,i){this._apiService=e,this._http=i}get(e){let i=new D.LE;return i=i.append("id",e),this._apiService.get("/users/agents/agent-by",i)}getAll(e){return this._apiService.get("/users/agents",(0,P.$)(e))}getAllByAgent(e){return this._apiService.get("/users/drivers/by-agent",(0,P.$)(e))}getAgentTransactions(e){let i=new D.LE;return i=i.append("agentId",e),this._http.get(S.O.merchantUrl+"/finance/transaction/agent-transactions",{params:i})}getAgentbalance(e){let i=new D.LE;return i=i.append("agentId",e),this._http.get(S.O.merchantUrl+"/finance/transaction/agent-balance",{params:i})}block(e,i){let a=new D.LE;return a=a.append("id",e),this._apiService.patch("/users/agents/block-agent",i,a)}active(e){let i=new D.LE;return i=i.append("id",e),this._apiService.patch("/users/agents/activate-agent",{},i)}getAllDeleted(e){return this._apiService.get("/agents/deleted",(0,P.$)(e))}create(e){return this._apiService.post("/users/agents/register",e)}createDriver(e){return this._apiService.post("/users/agents/add-driver",e)}updateDriver(e){return this._apiService.post("/users/agents/update-driver",e)}createsubscription(e){return this._apiService.post("/users/agents/add-subscription-driver",e)}connectToAgent(e){return this._apiService.post("/users/agents/append-to-agent",e)}update(e){return this._apiService.put("/users/agents/update",e)}delete(e){let i=new D.LE;return i=i.append("id",e),this._apiService.delete("/agents",i)}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(G.s),t.LFG(D.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E=r(2621);function X(n,o){1&n&&(t.TgZ(0,"p",31),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_driver")))}function V(n,o){1&n&&(t.TgZ(0,"p",31),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_driver")))}function tt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function et(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function nt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function at(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u044f 6 "),t.qZA())}function it(n,o){if(1&n&&t._UZ(0,"img",32),2&n){const e=t.oxw();t.Q6J("src",e.passport,t.LSH)}}function ot(n,o){if(1&n&&(t._UZ(0,"img",32),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&n){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.passport,"client")),t.LSH)}}function rt(n,o){if(1&n&&t._UZ(0,"img",32),2&n){const e=t.oxw();t.Q6J("src",e.driverLicense,t.LSH)}}function lt(n,o){if(1&n&&(t._UZ(0,"img",32),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&n){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.driverLicense,"client")),t.LSH)}}function st(n,o){if(1&n&&(t.TgZ(0,"mat-radio-button",33)(1,"p",15),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(2),t.hij("$",null==e?null:e.price,"/\u043c\u0435\u0441\u044f\u0446")}}const ct=function(){return["uz"]},Y=function(n){return{"is-invalid":n}},ut=function(n,o){return{"fuse-mat-button text-white":n,"fuse-mat-button dark":o}};let dt=(()=>{class n{constructor(e,i,a,d,v,q,F){this.data=e,this._toaster=i,this._driverService=a,this._agentsService=d,this._typeService=v,this._cdr=q,this._dialog=F,this.subscription=[],this.edit=!1,this.formData=new FormData,this.form=new l.cw({id:new l.NI(""),subscriptionId:new l.NI(""),agentId:new l.NI(""),firstName:new l.NI("",[l.kI.required]),lastName:new l.NI("",[l.kI.required]),phoneNumbers:new l.NI("",[l.kI.required]),password:new l.NI("",[l.kI.required,l.kI.minLength(8),l.kI.maxLength(16),l.kI.pattern("^[a-zA-Z0-9]+$")]),passport:new l.NI("",[l.kI.required]),driverLicense:new l.NI("",[l.kI.required])}),this.data&&this.form.patchValue({agentId:e.id})}ngOnInit(){this.getSubscription()}getSubscription(){this._typeService.getSubscription().subscribe(e=>{this.subscription=e.data})}onFileSelected(e,i){const a=e.target.files[0];switch(i){case"passportFilePath":this.form.patchValue({passportFilePath:a});case"driverLisenseFilePath":this.form.patchValue({driverLisenseFilePath:a})}}selectFile(e,i){console.log(i,this);const a=e.target.files[0];if(a){this.formData.append(i,a,(new Date).getTime().toString()+".jpg");const d=new FileReader;d.onload=()=>{this[i]=d.result,this._cdr.detectChanges()},d.readAsDataURL(a)}}getImageUrl(e){const i=this.form.get(`${e}`).value;return i instanceof File?URL.createObjectURL(i):""}get f(){return this.form.controls}submit(){const e=new FormData;e.append("id",this.form.get("id").value),e.append("password",this.form.get("password").value),this.form.get("subscriptionId").value&&e.append("subscriptionId",this.form.get("subscriptionId").value),e.append("lastName",this.form.get("lastName").value),e.append("agentId",this.form.get("agentId").value),e.append("firstName",this.form.get("firstName").value),e.append("phoneNumbers",JSON.stringify([this.form.get("phoneNumbers").value])),e.append("passport",this.formData.get("passport")),(new Date).getTime(),e.append("driverLicense",this.formData.get("driverLicense")),(new Date).getTime(),this.form.valid?this.form.value.id?this._driverService.update(this.formData).pipe(i=>((0,M.b)(i),i)).subscribe(i=>{i.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._agentsService.createDriver(e).pipe(i=>((0,M.b)(i),i)).subscribe(i=>{i.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(L.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.WI),t.Y36(O._W),t.Y36(I.P),t.Y36(w),t.Y36(E.K),t.Y36(t.sBO),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-agent-driver"]],standalone:!0,features:[t.jDz],decls:74,vars:63,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],[1,"p-3"],["color","accent",1,"w-full"],["formControlName","phoneNumbers","name","phoneNumbers",3,"cssClass","preferredCountries","enablePlaceholder","enableSearch"],["phoneNumbers",""],["matInput","","formControlName","firstName",3,"ngClass"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"ngClass"],["matInput","","formControlName","password",3,"ngClass"],[1,"flex","flex-wrap","gap-4","items-end","justify-around"],[1,"w-40"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","passport","id","avatar-file-input1","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input1","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","driverLicense","id","avatar-file-input2","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input2","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","subscriptionId",1,"flex","items-center"],["class","w-2/4 m-4 p-4 rounded-lg card-background-black text-white","value","option1",3,"value",4,"ngFor","ngForOf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[1,"object-fill","w-full","h-full",3,"src"],["value","option1",1,"w-2/4","m-4","p-4","rounded-lg","card-background-black","text-white",3,"value"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.YNc(1,X,3,3,"p",1),t.YNc(2,V,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t._UZ(14,"ngx-mat-intl-tel-input",8,9),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"input",10),t.YNc(21,tt,2,0,"mat-error",11),t.qZA()(),t.TgZ(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),t._uU(25),t.ALo(26,"transloco"),t.qZA(),t._UZ(27,"input",12),t.YNc(28,et,2,0,"mat-error",11),t.qZA(),t.TgZ(29,"mat-form-field",7)(30,"mat-label"),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t._UZ(33,"input",13),t.YNc(34,nt,2,0,"mat-error",11),t.YNc(35,at,2,0,"mat-error",11),t.qZA()(),t.TgZ(36,"div",14)(37,"div",15)(38,"mat-label"),t._uU(39),t.ALo(40,"transloco"),t.qZA(),t.TgZ(41,"div",16),t._UZ(42,"div",17),t.TgZ(43,"div",18)(44,"div")(45,"input",19),t.NdJ("change",function(v){return a.selectFile(v,"passport")}),t.qZA(),t.TgZ(46,"label",20),t._UZ(47,"mat-icon",21),t.qZA()()(),t.YNc(48,it,1,1,"img",22),t.YNc(49,ot,3,6,"img",22),t.qZA()(),t.TgZ(50,"div",15)(51,"mat-label"),t._uU(52),t.ALo(53,"transloco"),t.qZA(),t.TgZ(54,"div",16),t._UZ(55,"div",17),t.TgZ(56,"div",18)(57,"div")(58,"input",23),t.NdJ("change",function(v){return a.selectFile(v,"driverLicense")}),t.qZA(),t.TgZ(59,"label",24),t._UZ(60,"mat-icon",21),t.qZA()()(),t.YNc(61,rt,1,1,"img",22),t.YNc(62,lt,3,6,"img",22),t.qZA()()(),t.TgZ(63,"div",6)(64,"mat-radio-group",25),t.YNc(65,st,3,2,"mat-radio-button",26),t.qZA()()()()(),t.TgZ(66,"mat-dialog-actions",27)(67,"div",28)(68,"button",29),t._uU(69),t.ALo(70,"transloco"),t.qZA(),t.TgZ(71,"button",30),t.NdJ("click",function(){return a.submit()}),t._uU(72),t.ALo(73,"transloco"),t.qZA()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",!a.edit),t.xp6(1),t.Q6J("ngIf",a.edit),t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(5),t.Oqu(t.lcZ(13,37,"phone")),t.xp6(2),t.Q6J("cssClass","custom")("preferredCountries",t.DdM(53,ct))("enablePlaceholder",!0)("enableSearch",!0),t.xp6(4),t.Oqu(t.lcZ(19,39,"first_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(54,Y,a.f.firstName.errors)),t.xp6(1),t.Q6J("ngIf",null==a.f.firstName.errors?null:a.f.firstName.errors.required),t.xp6(4),t.Oqu(t.lcZ(26,41,"last_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(56,Y,a.f.lastName.errors)),t.xp6(1),t.Q6J("ngIf",null==a.f.lastName.errors?null:a.f.lastName.errors.required),t.xp6(3),t.Oqu(t.lcZ(32,43,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(58,Y,a.f.password.errors)),t.xp6(1),t.Q6J("ngIf",null==a.f.password.errors?null:a.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==a.f.password.errors?null:a.f.password.errors.maxlength),t.xp6(4),t.Oqu(t.lcZ(40,45,"passport")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",a.passport&&!a.edit),t.xp6(1),t.Q6J("ngIf",a.passport&&a.edit),t.xp6(3),t.hij("",t.lcZ(53,47,"driver_license")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",a.driverLicense&&!a.edit),t.xp6(1),t.Q6J("ngIf",a.driverLicense&&a.edit),t.xp6(3),t.Q6J("ngForOf",a.subscription),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(70,49,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(60,ut,a.form.invalid||a.form.pristine,!a.form.invalid&&!a.form.pristine))("color","primary")("disabled",a.form.invalid||a.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(73,51,"save")," "))},dependencies:[_.y4,_.Ot,Z.mk,N.Co,C.Fk,C.VQ,C.U0,y.FA,z.d,u.c,u.Nt,s.KE,s.hX,s.TO,h.Ps,h.Hw,b.LD,f.ot,f.lW,f.RK,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,g.Is,g.ZT,g.uh,g.xY,g.H8,l.u5,Z.ax,Z.O5,c.p0,s.lN,x.JX,p.TU,m.Tx,A.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return n})();const mt=function(n,o){return{"bg-gray-50 dark:text-black":n,"card-background-black text-white":o}};function pt(n,o){if(1&n&&(t.TgZ(0,"mat-radio-button",11)(1,"p",12),t._uU(2),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw();t.Q6J("color",i.white)("ngClass",t.WLB(4,mt,!i.form.invalid||!i.form.pristine,i.form.invalid&&i.form.pristine))("value",e.id),t.xp6(2),t.hij("$",null==e?null:e.price,"/\u043c\u0435\u0441\u044f\u0446")}}const _t=function(n,o){return{"fuse-mat-button text-white":n,"fuse-mat-button dark":o}};let gt=(()=>{class n{constructor(e,i,a,d,v,q){this.data=e,this._toaster=i,this._agentService=a,this._typeService=d,this.cdr=v,this._dialog=q,this.edit=!1,this.form=new l.cw({driverId:new l.NI(""),subscriptionId:new l.NI(""),agentId:new l.NI("")}),this.data&&this.form.patchValue({driverId:this.data?.driverId,agentId:this.data?.agentId}),this.getSubscription()}getSubscription(){this._typeService.getSubscription().subscribe(e=>{this.subscription=e.data,this.cdr.detectChanges()})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.createsubscription(this.form.value).subscribe(e=>{e.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(L.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.WI),t.Y36(O._W),t.Y36(w),t.Y36(E.K),t.Y36(t.sBO),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-agent-subscription"]],standalone:!0,features:[t.jDz],decls:19,vars:18,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],["formControlName","subscriptionId",1,"flex","items-center"],["class","w-2/4 m-4 p-4 rounded-lg",3,"color","ngClass","value",4,"ngFor","ngForOf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],[1,"w-2/4","m-4","p-4","rounded-lg",3,"color","ngClass","value"],[1,"w-40"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"mat-radio-group",5),t.YNc(10,pt,3,7,"mat-radio-button",6),t.qZA()()(),t.TgZ(11,"mat-dialog-actions",7)(12,"div",8)(13,"button",9),t._uU(14),t.ALo(15,"transloco"),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return a.submit()}),t._uU(17),t.ALo(18,"transloco"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,9,"add_subscription")),t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(2),t.Q6J("ngForOf",a.subscription),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(15,11,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(15,_t,a.form.invalid||a.form.pristine,!a.form.invalid&&!a.form.pristine))("color","primary")("disabled",a.form.invalid||a.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(18,13,"save")," "))},dependencies:[_.y4,_.Ot,Z.mk,N.Co,Z.ax,l.u5,l._Y,l.JJ,l.JL,l.UX,l.sg,l.u,C.Fk,C.VQ,C.U0,y.FA,u.c,h.Ps,h.Hw,b.LD,f.ot,f.lW,f.RK,g.Is,g.ZT,g.uh,g.xY,g.H8,c.p0,s.lN,x.JX,p.TU,m.Tx,A.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return n})();function ft(n,o){1&n&&(t.TgZ(0,"mat-header-cell",18),t._uU(1,"\u2116 "),t.qZA())}function ht(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.Oqu(e+1)}}function vt(n,o){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"admin")," "))}function Zt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.createdBy," ")}}function At(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t.YNc(1,Zt,2,1,"span",19),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","staff"==e.userType)}}function xt(n,o){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"agent")))}function Tt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.createdBy," ")}}function bt(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t.YNc(1,Tt,2,1,"span",19),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","agent"==e.userType)}}function Ct(n,o){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"sum")))}function Dt(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.AsE(" ",null==e?null:e.amount," ",null==e?null:e.currencyName," ")}}function Ut(n,o){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"type")))}function wt(n,o){if(1&n&&(t.TgZ(0,"mat-cell")(1,"span",20),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",null==e?null:e.transctionType," ")}}function qt(n,o){1&n&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"driver")))}function Nt(n,o){1&n&&(t.TgZ(0,"span",22),t._uU(1," ID: "),t.qZA())}function It(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.YNc(2,Nt,2,0,"span",21),t._uU(3),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.user_name," "),t.xp6(1),t.Q6J("ngIf",e.userid),t.xp6(1),t.hij(" ",null==e?null:e.userid," ")}}function yt(n,o){1&n&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"date_time")," "))}function Lt(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.createdAt,"YYYY/MM/dd HH:mm")," ")}}function Ot(n,o){1&n&&t._UZ(0,"mat-header-row")}function Pt(n,o){1&n&&t._UZ(0,"mat-row")}const Et=function(){return[10,20,50,100,200]};let Yt=(()=>{class n{constructor(e,i,a){this.data=e,this._agentService=i,this._dialog=a,this.dataSource=new c.by([]),this.displayedColumns=["index","admin","agent","amount","type","driverId","date"]}ngOnInit(){this.getTransactions(this.data)}getTransactions(e){this._agentService.getAgentTransactions(e).subscribe(i=>{this.dataSource.data=i.data,console.log(this.dataSource)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.WI),t.Y36(w),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-agent-transaction"]],viewQuery:function(i,a){if(1&i&&t.Gf(p.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(a.paginator=d.first)}},standalone:!0,features:[t.jDz],decls:32,vars:7,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","admin"],[4,"matHeaderCellDef"],["matColumnDef","agent"],["matColumnDef","amount"],["matColumnDef","type"],["matColumnDef","driverId"],["matColumnDef","date"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"showFirstLastButtons","length","pageSizeOptions"],[1,"font-bold"],[4,"ngIf"],[1,"tw-text-red-500"],["class","tw-mx-2",4,"ngIf"],[1,"tw-mx-2"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"mat-table",4),t.ynx(8,5),t.YNc(9,ft,2,0,"mat-header-cell",6),t.YNc(10,ht,2,1,"mat-cell",7),t.BQk(),t.ynx(11,8),t.YNc(12,vt,3,3,"mat-header-cell",9),t.YNc(13,At,2,1,"mat-cell",7),t.BQk(),t.ynx(14,10),t.YNc(15,xt,3,3,"mat-header-cell",9),t.YNc(16,bt,2,1,"mat-cell",7),t.BQk(),t.ynx(17,11),t.YNc(18,Ct,3,3,"mat-header-cell",9),t.YNc(19,Dt,2,2,"mat-cell",7),t.BQk(),t.ynx(20,12),t.YNc(21,Ut,3,3,"mat-header-cell",9),t.YNc(22,wt,3,1,"mat-cell",7),t.BQk(),t.ynx(23,13),t.YNc(24,qt,3,3,"mat-header-cell",6),t.YNc(25,It,4,3,"mat-cell",7),t.BQk(),t.ynx(26,14),t.YNc(27,yt,3,3,"mat-header-cell",6),t.YNc(28,Lt,3,4,"mat-cell",7),t.BQk(),t.YNc(29,Ot,1,0,"mat-header-row",15),t.YNc(30,Pt,1,0,"mat-row",16),t.qZA(),t._UZ(31,"mat-paginator",17),t.qZA()),2&i&&(t.xp6(7),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",a.dataSource.data.length)("pageSizeOptions",t.DdM(6,Et)))},dependencies:[_.y4,_.Ot,h.Ps,h.Hw,Z.uU,b.LD,f.ot,f.RK,l.UX,g.Is,g.ZT,g.uh,g.xY,l.u5,Z.O5,c.p0,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,s.lN,u.c,x.JX,p.TU,p.NW,m.Tx,A.rP],encapsulation:2,changeDetection:0})}return n})();var Ft=r(8372),Mt=r(3900);function St(n,o){if(1&n&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",12),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"first_name")),t.xp6(2),t.Q6J("value",e.driverInfo.firstName)}}function Jt(n,o){if(1&n&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",12),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"last_name")),t.xp6(2),t.Q6J("value",e.driverInfo.lastName)}}const Qt=function(n,o){return{"fuse-mat-button text-white":n,"fuse-mat-button ":o}};let jt=(()=>{class n{constructor(e,i,a,d,v,q,F){this.data=e,this._toaster=i,this._agentService=a,this._typeService=d,this._dirfverService=v,this.cdr=q,this._dialog=F,this.edit=!1,this.form=new l.cw({driverId:new l.NI(""),agentId:new l.NI("")}),this.data&&(console.log(this.data),this.form.patchValue({agentId:this.data?.agentId})),this.getSubscription()}ngOnInit(){this.form.get("driverId").valueChanges.pipe((0,Ft.b)(300),(0,Mt.w)(e=>this._dirfverService.get(e))).subscribe(e=>{e.success&&(this.driverInfo=e.data)})}getSubscription(){this._typeService.getSubscription().subscribe(e=>{this.subscription=e.data,this.cdr.detectChanges()})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.connectToAgent(this.form.value).subscribe(e=>{e.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(L.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(g.WI),t.Y36(O._W),t.Y36(w),t.Y36(E.K),t.Y36(I.P),t.Y36(t.sBO),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-connect-driver"]],standalone:!0,features:[t.jDz],decls:24,vars:22,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"px-3",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3","w-full"],["matInput","","formControlName","driverId"],["class","flex-auto gt-xs:pr-3 w-full",4,"ngIf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["matInput","",3,"value"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.YNc(14,St,5,4,"mat-form-field",7),t.YNc(15,Jt,5,4,"mat-form-field",7),t.qZA()(),t.TgZ(16,"mat-dialog-actions",8)(17,"div",9)(18,"button",10),t._uU(19),t.ALo(20,"transloco"),t.qZA(),t.TgZ(21,"button",11),t.NdJ("click",function(){return a.submit()}),t._uU(22),t.ALo(23,"transloco"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,11,"add_subscription")),t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(3),t.Oqu(t.lcZ(12,13,"driver")),t.xp6(3),t.Q6J("ngIf",null==a.driverInfo?null:a.driverInfo.firstName),t.xp6(1),t.Q6J("ngIf",null==a.driverInfo?null:a.driverInfo.lastName),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(20,15,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(19,Qt,a.form.invalid||a.form.pristine,!a.form.invalid&&!a.form.pristine))("color","primary")("disabled",a.form.invalid||a.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(23,17,"save")," "))},dependencies:[_.y4,_.Ot,Z.mk,N.Co,l.u5,l._Y,l.Fj,l.JJ,l.JL,l.UX,l.sg,l.u,C.Fk,y.FA,u.c,u.Nt,s.KE,s.hX,h.Ps,h.Hw,b.LD,f.ot,f.lW,f.RK,g.Is,g.ZT,g.uh,g.xY,g.H8,Z.O5,c.p0,s.lN,x.JX,p.TU,m.Tx,A.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return n})();var kt=r(8236);function Bt(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32)(2,"div",33),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"div",33)(6,"span"),t._uU(7),t.qZA(),t._uU(8,": "),t.TgZ(9,"span"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",32)(12,"div",33),t._uU(13),t.ALo(14,"transloco"),t.qZA(),t.TgZ(15,"div",33)(16,"span"),t._uU(17),t.qZA(),t._uU(18,": "),t.TgZ(19,"span"),t._uU(20),t.qZA()()()()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,6,"active_balance")),t.xp6(4),t.Oqu(null==e?null:e.currencyname),t.xp6(3),t.Oqu(null==e?null:e.activebalance),t.xp6(3),t.Oqu(t.lcZ(14,8,"frozen_balance")),t.xp6(4),t.Oqu(null==e?null:e.currencyname),t.xp6(3),t.Oqu(null==e?null:e.frozenbalance)}}function Wt(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1," No "),t.qZA())}function Rt(n,o){if(1&n&&(t.TgZ(0,"mat-cell",35),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.hij(" ",e+1," ")}}function Ht(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1," ID "),t.qZA())}function Kt(n,o){if(1&n&&(t.TgZ(0,"mat-cell",35),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function $t(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"full_name")," "))}function zt(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.AsE(" ",null==e?null:e.firstName," ",null==e?null:e.lastName," ")}}function Gt(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"phone")," "))}function Xt(n,o){if(1&n&&(t.TgZ(0,"span",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.phoneNumber," ")}}function Vt(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t.YNc(1,Xt,2,1,"span",36),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.phoneNumbers)}}function te(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"register_date")," "))}function ee(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.createdAt,"dd/MM/yyyy HH:mm")," ")}}function ne(n,o){1&n&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"last_enter")," "))}function ae(n,o){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.last_inter," ")}}function ie(n,o){1&n&&t._UZ(0,"mat-header-cell")}function oe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"div",38)(2,"button",39),t.NdJ("click",function(a){return a.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,40)(7,"button",41),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.detail(d.id))}),t.TgZ(8,"mat-icon"),t._uU(9,"remove_red_eye"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA()()()()}if(2&n){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.hij(" ",t.lcZ(11,2,"detail")," ")}}function re(n,o){1&n&&t._UZ(0,"mat-header-row")}function le(n,o){1&n&&t._UZ(0,"mat-row")}const se=function(){return[10,20,50,100,200]},ce=[{path:"",component:(()=>{class n{constructor(e,i,a){this._authService=e,this._agentService=i,this._dialog=a,this.cities=[],this.pageParams={agentId:0,page:0,limit:10,perPage:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.displayedColumns=["index","id","full_name","phone","register_date","last_enter","actions"],this.dataSource=new c.by([]),this.id=this._authService.getDecodedAccessToken().sub}ngOnInit(){this.pageParams.agentId=this.id,this.getAllDrivers(this.pageParams),this.getBalance(this.id)}onPageChange(e){this.pageParams.pageSize=e.pageSize,this.pageParams.page=e.pageIndex,this.getAllDrivers(this.pageParams)}getAllDrivers(e){this._agentService.getAllByAgent(e).subscribe(i=>{this.dataSource.data=i?.data,this.pageParams.pageSize=i?.data?.pageSize,this.pageParams.page=i?.data?.pageIndex,this.pageParams.totalPagesCount=i?.data?.totalPagesCount})}getBalance(e){this._agentService.getAgentbalance(e).subscribe(i=>{this.balances=i?.data})}detail(e){this._dialog.open($,{width:"500px",height:"100vh",data:e,autoFocus:!1,position:{top:"0",right:"0"},maxHeight:"100%"})}connect(){this._dialog.open(jt,{minWidth:"25vw",maxWidth:"40vw",minHeight:"30vh",maxHeight:"60vh",data:{agentId:this.id}})}transaction(){this._dialog.open(Yt,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"80vh",data:this.id,autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}add(){this._dialog.open(dt,{minWidth:"45vw",maxWidth:"60vw",minHeight:"60vh",maxHeight:"80vh",autoFocus:!1,data:{id:this.id}}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}addSubsciption(e){this._dialog.open(gt,{minWidth:"35vw",maxWidth:"40vw",minHeight:"30vh",maxHeight:"40vh",autoFocus:!1,data:{agentId:this.id,driverId:e}}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}delete(e){this._agentService.delete(e).subscribe(()=>{this.getAllDrivers(this.pageParams)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(kt.e),t.Y36(w),t.Y36(g.uw))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-agent-module"]],viewQuery:function(i,a){if(1&i&&t.Gf(p.NW,5),2&i){let d;t.iGM(d=t.CRH())&&(a.paginator=d.first)}},standalone:!0,features:[t.jDz],decls:65,vars:40,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["class","flex flex-row ",4,"ngFor","ngForOf"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"ml-2"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","items-baseline","w-full"],["color","accent",1,"w-50","px-1"],["matInput","",3,"placeholder"],[1,"px-1"],["mat-flat-button","","color","warn",1,""],["mat-flat-button","","color","warn"],[1,"mt-4","h-100"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","full_name"],[4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","register_date"],["matColumnDef","last_enter"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[1,"flex","flex-row"],[1,"mx-3","text-center"],[1,"text-sm","font-semibold"],[1,"font-bold"],[1,"index-column"],["class","px-2",4,"ngFor","ngForOf"],[1,"px-2"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",4),t.YNc(8,Bt,21,10,"div",5),t.TgZ(9,"button",6),t.NdJ("click",function(){return a.transaction()}),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"transloco"),t.qZA()(),t.TgZ(13,"button",6),t.NdJ("click",function(){return a.add()}),t._UZ(14,"mat-icon",8),t.TgZ(15,"span",7),t._uU(16),t.ALo(17,"transloco"),t.qZA()()()(),t.TgZ(18,"div",9)(19,"mat-form-field",10),t._UZ(20,"input",11),t.ALo(21,"transloco"),t.qZA(),t.TgZ(22,"mat-form-field",10),t._UZ(23,"input",11),t.ALo(24,"transloco"),t.qZA(),t.TgZ(25,"mat-form-field",10),t._UZ(26,"input",11),t.ALo(27,"transloco"),t.qZA(),t.TgZ(28,"mat-form-field",10),t._UZ(29,"input",11),t.ALo(30,"transloco"),t.qZA(),t.TgZ(31,"div",12)(32,"button",13),t._uU(33),t.ALo(34,"transloco"),t.qZA()(),t.TgZ(35,"div",12)(36,"button",14),t._uU(37),t.ALo(38,"transloco"),t.qZA()()(),t.TgZ(39,"div",15)(40,"mat-table",16),t.ynx(41,17),t.YNc(42,Wt,2,0,"mat-header-cell",18),t.YNc(43,Rt,2,1,"mat-cell",19),t.BQk(),t.ynx(44,20),t.YNc(45,Ht,2,0,"mat-header-cell",18),t.YNc(46,Kt,2,1,"mat-cell",19),t.BQk(),t.ynx(47,21),t.YNc(48,$t,3,3,"mat-header-cell",18),t.YNc(49,zt,2,2,"mat-cell",22),t.BQk(),t.ynx(50,23),t.YNc(51,Gt,3,3,"mat-header-cell",18),t.YNc(52,Vt,2,1,"mat-cell",22),t.BQk(),t.ynx(53,24),t.YNc(54,te,3,3,"mat-header-cell",18),t.YNc(55,ee,3,4,"mat-cell",22),t.BQk(),t.ynx(56,25),t.YNc(57,ne,3,3,"mat-header-cell",18),t.YNc(58,ae,2,1,"mat-cell",22),t.BQk(),t.ynx(59,26),t.YNc(60,ie,1,0,"mat-header-cell",27),t.YNc(61,oe,12,4,"mat-cell",22),t.BQk(),t.YNc(62,re,1,0,"mat-header-row",28),t.YNc(63,le,1,0,"mat-row",29),t.qZA(),t.TgZ(64,"mat-paginator",30),t.NdJ("page",function(v){return a.onPageChange(v)}),t.qZA()()()()),2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,21,"drivers")),t.xp6(3),t.Q6J("ngForOf",a.balances),t.xp6(1),t.Q6J("color","primary"),t.xp6(2),t.Oqu(t.lcZ(12,23,"transaction")),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(2),t.Oqu(t.lcZ(17,25,"add")),t.xp6(4),t.s9C("placeholder",t.lcZ(21,27,"ID")),t.xp6(3),t.s9C("placeholder",t.lcZ(24,29,"name")),t.xp6(3),t.s9C("placeholder",t.lcZ(27,31,"phone")),t.xp6(3),t.s9C("placeholder",t.lcZ(30,33,"register_date")),t.xp6(4),t.hij(" ",t.lcZ(34,35,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(38,37,"filter"),""),t.xp6(3),t.Q6J("dataSource",a.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",a.pageParams.totalPagesCount-1)("pageSize",a.pageParams.limit)("pageIndex",a.pageParams.page)("pageSizeOptions",t.DdM(39,se)))},dependencies:[_.y4,_.Ot,Z.uU,h.Ps,h.Hw,b.LD,s.KE,f.ot,f.lW,f.RK,Z.ax,c.p0,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,s.lN,u.c,u.Nt,x.JX,x.YE,p.TU,p.NW,m.Tx,m.VK,m.OP,m.p6,A.rP],encapsulation:2,changeDetection:0})}return n})(),resolve:{}}]},6133:(U,T,r)=>{r.d(T,{P:()=>p});var Z=r(2689),A=r(3144),f=r(2223),h=r(8615),_=r(8236);let p=(()=>{class x{constructor(u,s){this._apiService=u,this._authService=s}get(u){let s=new A.LE,m=this._authService.getDecodedAccessToken().userId;return s=s.append("id",u),s=s.append("userId",m),this._apiService.get("/users/drivers/driver-by",s)}getAll(u){return this._apiService.get("/users/drivers/all-drivers",(0,Z.$)(u))}create(u){return this._apiService.post("/users/drivers/register",u)}createTransport(u){return this._apiService.post("/users/driver/transport",u)}updateTransport(u){return this._apiService.put("/users/driver/transport",u)}updateTransportDriver(u){return this._apiService.post("/users/driver/transport/to-verification",u)}getTransportWithDriver(u,s){let m=new A.LE;return m=m.append("driverId",u),m=m.append("transportId",s),this._apiService.get("/users/driver/transport",m)}update(u){return u.phoneNumbers=[u.phoneNumbers],this._apiService.put("/users/drivers/",u)}block(u,s){let m=new A.LE;return m=m.append("id",u),this._apiService.patch("/users/drivers/block-driver",s,m)}active(u){let s=new A.LE;return s=s.append("id",u),this._apiService.patch("/users/drivers/unblock-driver",{},s)}delete(u){let s=new A.LE;return s=s.append("id",u),this._apiService.delete("/users/drivers",s)}static#t=this.\u0275fac=function(s){return new(s||x)(f.LFG(h.s),f.LFG(_.e))};static#e=this.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},943:(U,T,r)=>{r.d(T,{E:()=>x});var Z=r(4755),A=r(6286),f=r(430),h=r(7361),_=r(2223),p=r(4973);let x=(()=>{class c{constructor(s,m){this.data=s,this.dialog=m,this.image="",this.keyName="",this.fileName="",this.file_url="",console.log(this.data),this.keyName=this.data.keyName,this.fileName=this.data.fileName}static#t=this.\u0275fac=function(m){return new(m||c)(_.Y36(A.WI),_.Y36(A.uw))};static#e=this.\u0275cmp=_.Xpm({type:c,selectors:[["app-image-priview"]],standalone:!0,features:[_.jDz],decls:11,vars:6,consts:[[2,"height","calc(100% - 100px)"],[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","leading-5","text-3xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"w-full","flex","items-center","justify-center"],["alt","",1,"object-fill","w-full",3,"src"]],template:function(m,b){1&m&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"p",2),_.TgZ(3,"button",3)(4,"mat-icon",4),_._uU(5,"close"),_.qZA()()(),_.TgZ(6,"mat-dialog-content")(7,"div",5),_._UZ(8,"img",6),_.ALo(9,"async"),_.ALo(10,"fileFetch"),_.qZA()()()),2&m&&(_.xp6(8),_.Q6J("src",_.lcZ(9,1,_.xi3(10,3,b.fileName,b.keyName)),_.LSH))},dependencies:[h.d,p.z,Z.Ov,A.Is,A.ZT,A.uh,A.xY,f.Ps,f.Hw]})}return c})()},4250:(U,T,r)=>{r.d(T,{q:()=>x});var Z=r(3223),A=r(9401),f=r(1728),h=r(6286),_=r(5707),p=r(2223);let x=(()=>{class c{constructor(s,m){this.data=s,this.dialogRef=m}static#t=this.\u0275fac=function(m){return new(m||c)(p.Y36(h.WI),p.Y36(h.so))};static#e=this.\u0275cmp=p.Xpm({type:c,selectors:[["app-message"]],standalone:!0,features:[p.jDz],decls:6,vars:1,consts:[[1,"flex","justify-center","mt-4","mb-3","px-2"],["src","assets/images/icons/info-yellow.svg","alt","info",1,"w-48","h-48"],[1,"flex","justify-center","px-2","mb-8"],[1,"font-bold","text-6xl","text-center","leading-7"]],template:function(m,b){1&m&&(p.TgZ(0,"mat-dialog-content")(1,"div",0),p._UZ(2,"img",1),p.qZA(),p.TgZ(3,"div",2)(4,"p",3),p._uU(5),p.qZA()()()),2&m&&(p.xp6(5),p.Oqu(null==b.data?null:b.data.text))},dependencies:[Z.Su,A.u5,h.Is,h.xY,_.y4,f.ot],encapsulation:2,changeDetection:0})}return c})()},4973:(U,T,r)=>{r.d(T,{z:()=>f});var Z=r(2223),A=r(3817);let f=(()=>{class h{constructor(p){this.fileService=p}transform(p,x){return console.log(x,p),this.fileService.getFileUrl(x,p)}static#t=this.\u0275fac=function(x){return new(x||h)(Z.Y36(A.W,16))};static#e=this.\u0275pipe=Z.Yjl({name:"fileFetch",type:h,pure:!0})}return h})()},7361:(U,T,r)=>{r.d(T,{d:()=>f});var Z=r(4755),A=r(2223);let f=(()=>{class h{static#t=this.\u0275fac=function(x){return new(x||h)};static#e=this.\u0275mod=A.oAB({type:h});static#n=this.\u0275inj=A.cJS({imports:[Z.ez]})}return h})()},3817:(U,T,r)=>{r.d(T,{W:()=>_});var Z=r(9502),A=r(4004),f=r(2223),h=r(3144);let _=(()=>{class p{constructor(c){this.http=c}getFileUrl(c,u){return console.log(c,u),this.http.get(Z.O.references+`/references/files/${c}/${u}`,{responseType:"blob"}).pipe((0,A.U)(s=>(console.log(s),URL.createObjectURL(s))))}downloadImage(c,u){return this.http.get(Z.O.references+`/references/files/${c}/${u}`,{responseType:"blob"}).subscribe(s=>{const m=document.createElement("a");m.href=URL.createObjectURL(s),m.download=Date.now()+".jpg",document.body.appendChild(m),m.click(),document.body.removeChild(m)},s=>{console.error("Error downloading the image: ",s.error.message)})}static#t=this.\u0275fac=function(u){return new(u||p)(f.LFG(h.eN))};static#e=this.\u0275prov=f.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);