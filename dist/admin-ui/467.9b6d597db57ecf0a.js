"use strict";(self.webpackChunkadmin_ui=self.webpackChunkadmin_ui||[]).push([[467],{9467:(B,Z,a)=>{a.r(Z),a.d(Z,{default:()=>G});var y=a(877),m=a(1728),f=a(430),p=a(8001),h=a(6702),C=a(2611),l=a(3627),v=a(9609),g=a(9114),d=a(7406),w=a(6266),x=a(4755),i=a(9401),u=a(6286),t=a(2223),U=a(3648),N=a(2689),J=a(3144),S=a(8615);let T=(()=>{class e{constructor(n){this._apiService=n}get(n){return this._apiService.get(`/references/currencies/${n}`)}getAll(n){return this._apiService.get("/references/currencies/all",(0,N.$)(n))}create(n){return this._apiService.post("/references/currencies",n)}update(n){return this._apiService.put("/references/currencies",n)}delete(n){let r=new J.LE;return r=r.append("id",n),this._apiService.delete("/references/currencies",r)}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(S.s))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q(e,c){1&e&&(t.TgZ(0,"p",14),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_currency")))}function Y(e,c){1&e&&(t.TgZ(0,"p",14),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_currency")))}function L(e,c){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function j(e,c){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}const A=function(e){return{"is-invalid":e}},I=function(e,c){return{"fuse-mat-button text-white":e,"fuse-mat-button ":c}};let b=(()=>{class e{constructor(n,r,o,s){this.data=n,this._toaster=r,this._currencyStatusService=o,this._dialog=s,this.edit=!1,this.form=new i.cw({id:new i.NI(""),name:new i.NI("",[i.kI.required]),code:new i.NI("",[i.kI.required])}),this.data&&(this.edit=!0,this.form.patchValue({id:this.data?.id,name:this.data?.name}))}get f(){return this.form.controls}submit(){this.form.value.id?this._currencyStatusService.update(this.form.value).subscribe(n=>{n.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u0430\u043b\u044e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0430")}):this._currencyStatusService.create(this.form.value).subscribe(n=>{n.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u0430\u043b\u044e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0430")})}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(u.WI),t.Y36(U._W),t.Y36(T),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-currency"]],standalone:!0,features:[t.jDz],decls:25,vars:30,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"flex"],[1,"w-full","px-2"],["color","accent",1,"w-full"],["matInput","","formControlName","name",3,"placeholder","ngClass"],[4,"ngIf"],["matInput","","formControlName","code",3,"placeholder","ngClass"],[1,"flex","justify-end","justify-items-end"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t.YNc(1,Q,3,3,"p",1),t.YNc(2,Y,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7),t._UZ(11,"input",8),t.ALo(12,"transloco"),t.YNc(13,L,3,3,"mat-error",9),t.qZA(),t.TgZ(14,"mat-form-field",7),t._UZ(15,"input",10),t.ALo(16,"transloco"),t.YNc(17,j,3,3,"mat-error",9),t.qZA()()()()(),t.TgZ(18,"mat-dialog-actions",11)(19,"button",12),t._uU(20),t.ALo(21,"transloco"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return o.submit()}),t._uU(23),t.ALo(24,"transloco"),t.qZA()()),2&r&&(t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(4),t.s9C("placeholder",t.lcZ(12,15,"name")),t.Q6J("ngClass",t.VKq(23,A,o.f.name.errors)),t.xp6(2),t.Q6J("ngIf",null==o.f.name.errors?null:o.f.name.errors.required),t.xp6(2),t.s9C("placeholder",t.lcZ(16,17,"code")),t.Q6J("ngClass",t.VKq(25,A,o.f.code.errors)),t.xp6(2),t.Q6J("ngIf",null==o.f.code.errors?null:o.f.code.errors.required),t.xp6(2),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(21,19,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(27,I,o.form.invalid||o.form.pristine,!o.form.invalid&&!o.form.pristine))("color","primary")("disabled",o.form.invalid||o.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(24,21,"save")," "))},dependencies:[p.y4,p.Ot,f.Ps,f.Hw,m.ot,m.lW,m.RK,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,u.Is,u.ZT,u.uh,u.xY,u.H8,i.u5,x.O5,l.p0,x.mk,g.lN,g.KE,g.TO,v.c,v.Nt,C.JX,h.TU,d.Tx,y.rP],encapsulation:2,changeDetection:0})}return e})();function D(e,c){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"name")," "))}function F(e,c){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function q(e,c){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"code")," "))}function H(e,c){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.code," ")}}function O(e,c){1&e&&t._UZ(0,"mat-header-cell")}function k(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"mat-cell")(1,"div",18)(2,"button",19),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,20)(7,"button",21),t.NdJ("click",function(){const s=t.CHM(n).$implicit,_=t.oxw();return t.KtG(_.edit(s))}),t.TgZ(8,"mat-icon"),t._uU(9,"edit"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA(),t.TgZ(12,"button",21),t.NdJ("click",function(){const s=t.CHM(n).$implicit,_=t.oxw();return t.KtG(_.delete(s.id))}),t.TgZ(13,"mat-icon"),t._uU(14,"remove"),t.qZA(),t._uU(15),t.ALo(16,"transloco"),t.qZA()()()()}if(2&e){const n=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(8),t.hij(" ",t.lcZ(11,3,"edit")," "),t.xp6(5),t.hij(" ",t.lcZ(16,5,"remove")," ")}}function W(e,c){1&e&&t._UZ(0,"mat-header-row")}function M(e,c){1&e&&t._UZ(0,"mat-row")}const R=function(){return[10,20,50,100,200]},G=[{path:"",component:(()=>{class e extends w.G{constructor(n,r){super(),this._currencyService=n,this._dialog=r,this.displayedColumns=["name","code","actions"],this.dataSource=new l.by([])}ngOnInit(){this.getAllTruck()}getAllTruck(){this._currencyService.getAll().subscribe(n=>{this.dataSource.data=n.data})}add(){this._dialog.open(b,{minWidth:"25vw",maxWidth:"30vw",minHeight:"30vh",maxHeight:"80vh",autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllTruck()})}edit(n){this._dialog.open(b,{minWidth:"25vw",maxWidth:"30vw",minHeight:"30vh",maxHeight:"80vh",autoFocus:!1,data:n}).afterClosed().subscribe(()=>{this.getAllTruck()})}delete(n){this._currencyService.delete(n).subscribe(()=>{this.getAllTruck()})}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(T),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-currency"]],viewQuery:function(r,o){if(1&r&&t.Gf(h.NW,5),2&r){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},standalone:!0,features:[t.qOj,t.jDz],decls:26,vars:12,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto","border-t"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-4"],["matSort","",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","code"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"showFirstLastButtons","length","pageSizeOptions"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return o.add()}),t._UZ(9,"mat-icon",6),t.TgZ(10,"span",7),t._uU(11,"Add"),t.qZA()()()(),t.TgZ(12,"div",8)(13,"mat-table",9),t.ynx(14,10),t.YNc(15,D,3,3,"mat-header-cell",11),t.YNc(16,F,2,1,"mat-cell",12),t.BQk(),t.ynx(17,13),t.YNc(18,q,3,3,"mat-header-cell",11),t.YNc(19,H,2,1,"mat-cell",12),t.BQk(),t.ynx(20,14),t.YNc(21,O,1,0,"mat-header-cell",11),t.YNc(22,k,17,7,"mat-cell",12),t.BQk(),t.YNc(23,W,1,0,"mat-header-row",15),t.YNc(24,M,1,0,"mat-row",16),t.qZA(),t._UZ(25,"mat-paginator",17),t.qZA()()()),2&r&&(t.xp6(5),t.Oqu(t.lcZ(6,9,"currency")),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",o.dataSource.data.length)("pageSizeOptions",t.DdM(11,R)))},dependencies:[p.y4,p.Ot,f.Ps,f.Hw,m.ot,m.lW,m.RK,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,g.lN,v.c,C.JX,C.YE,h.TU,h.NW,d.Tx,d.VK,d.OP,d.p6,y.rP],encapsulation:2,changeDetection:0})}return e})(),resolve:{}}]}}]);