"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[102],{102:(N,F,l)=>{l.r(F),l.d(F,{default:()=>Mi});var v=l(4755),T=l(877),g=l(1728),Z=l(430),_=l(5707),f=l(6702),x=l(2611),h=l(3627),d=l(9609),p=l(9114),m=l(7406),C=l(787);function G(i,r,e,a,o,s,c){try{var b=i[s](c),A=b.value}catch(U){return void e(U)}b.done?r(A):Promise.resolve(A).then(a,o)}function O(i){return function(){var r=this,e=arguments;return new Promise(function(a,o){var s=i.apply(r,e);function c(A){G(s,a,o,c,b,"next",A)}function b(A){G(s,a,o,c,b,"throw",A)}c(void 0)})}}var n=l(9401),u=l(6286),ot=l(1274),w=l(3231),P=l(8280),D=l(4867),Y=l(1951),M=l(5191),at=l(3223),t=l(2223);let rt=(()=>{class i{constructor(e,a){this.data=e,this.dialogRef=a,console.log(e)}closeDialog(e){this.dialogRef.close(e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.WI),t.Y36(u.so))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-confirm"]],standalone:!0,features:[t.jDz],decls:13,vars:9,consts:[[1,"flex","justify-center","mt-4","mb-3","px-2"],["src","assets/images/icons/info-yellow.svg","alt","info",1,"w-48","h-48"],[1,"flex","justify-center","px-2","mb-8"],[1,"font-bold","text-6xl","text-center","leading-7"],[1,"flex","flex-row","justify-center"],["mat-flat-button","",1,"fuse-mat-button","w-1/3",3,"color","click"],["mat-flat-button","",1,"fuse-mat-button","dark","w-1/3",3,"color","click"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-dialog-content")(1,"div",0),t._UZ(2,"img",1),t.qZA(),t.TgZ(3,"div",2)(4,"p",3),t._uU(5),t.qZA()()(),t.TgZ(6,"mat-dialog-actions",4)(7,"button",5),t.NdJ("click",function(){return o.closeDialog(!1)}),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.closeDialog(!0)}),t._uU(11),t.ALo(12,"transloco"),t.qZA()()),2&a&&(t.xp6(5),t.Oqu(null==o.data?null:o.data.text),t.xp6(2),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(9,5,"no"),""),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(12,7,"yes")," "))},dependencies:[at.Su,n.u5,u.Is,u.xY,u.H8,_.y4,_.Ot,g.ot,g.lW],encapsulation:2,changeDetection:0})}return i})();var $=l(4128),S=l(9158),K=l(7361),J=l(1217),z=l(1292),Q=l(3617),B=l(5136),X=l(3817),k=l(3648),y=l(6133),E=l(2621),H=l(4027),R=l(4973);function nt(i,r){1&i&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_transport_driver")))}function st(i,r){1&i&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_transport_driver")))}function lt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ct(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(i,r){1&i&&(t.TgZ(0,"div",14)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",43),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"number_of_transporter"),""))}function dt(i,r){1&i&&(t.TgZ(0,"div",44)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",45),t.qZA(),t.TgZ(6,"mat-form-field",42)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",46),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function mt(i,r){1&i&&(t.TgZ(0,"div",44)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"mat-select",47)(6,"mat-option",41),t._uU(7,"20(\u0444.)"),t.qZA(),t.TgZ(8,"mat-option",41),t._uU(9,"40(\u0444.)"),t.qZA(),t.TgZ(10,"mat-option",41),t._uU(11,"60(\u0444.)"),t.qZA()()(),t.TgZ(12,"mat-slide-toggle",48),t._uU(13),t.ALo(14,"transloco"),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"volume_f"),""),t.xp6(2),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(3),t.hij(" ",t.lcZ(14,8,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431")," "))}function ut(i,r){1&i&&(t.TgZ(0,"div",44)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",49),t.qZA(),t.TgZ(6,"mat-form-field",42)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",50),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function _t(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"mat-checkbox",51),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onCheckboxChange(o))}),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"mat-checkbox",52),t._uU(5),t.ALo(6,"transloco"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode),t.xp6(1),t.hij(" ",t.lcZ(3,3,"mode"),""),t.xp6(3),t.hij(" ",t.lcZ(6,5,"hook"),"")}}function ft(i,r){1&i&&(t.TgZ(0,"div",14)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",53),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"volume_l"),""))}function gt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ht(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function vt(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Zt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Tt(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(2);t.Q6J("src",e.techPassportFrontFilePath,t.LSH)}}function xt(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(2);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportFrontFilePath,"driver")),t.LSH)}}function At(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(2);t.Q6J("src",e.techPassportBackFilePath,t.LSH)}}function bt(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(2);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportBackFilePath,"driver")),t.LSH)}}function Ct(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(2);t.Q6J("src",e.goodsTransportationLicenseCardFilePath,t.LSH)}}function Ft(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(2);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.goodsTransportationLicenseCardFilePath,"driver")),t.LSH)}}const q=function(i){return{"is-invalid":i}};function It(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"mat-form-field",14)(4,"mat-label"),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t._UZ(7,"input",15),t.YNc(8,lt,3,3,"mat-error",16),t.qZA(),t.TgZ(9,"mat-form-field",14)(10,"mat-label"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t.TgZ(13,"mat-select",17),t.YNc(14,ct,2,2,"mat-option",18),t.qZA()(),t.TgZ(15,"mat-form-field",14)(16,"mat-label"),t._uU(17),t.ALo(18,"transloco"),t.qZA(),t._UZ(19,"input",19),t.qZA(),t.YNc(20,pt,6,3,"div",20),t.YNc(21,dt,11,6,"div",21),t.YNc(22,mt,15,10,"div",21),t.YNc(23,ut,11,6,"div",21),t.YNc(24,_t,7,7,"div",20),t.YNc(25,ft,6,3,"div",22),t.qZA(),t.TgZ(26,"div",23)(27,"mat-form-field",14)(28,"mat-label"),t._uU(29),t.ALo(30,"transloco"),t.qZA(),t._UZ(31,"input",24),t.YNc(32,gt,3,3,"mat-error",16),t.qZA(),t.TgZ(33,"mat-form-field",14)(34,"mat-label"),t._uU(35),t.ALo(36,"transloco"),t.qZA(),t.TgZ(37,"mat-select",25),t.YNc(38,ht,2,2,"mat-option",18),t.qZA()(),t.TgZ(39,"mat-slide-toggle",26),t._uU(40),t.ALo(41,"transloco"),t.qZA()(),t.TgZ(42,"div",13)(43,"mat-form-field",14)(44,"mat-label"),t._uU(45),t.ALo(46,"transloco"),t.qZA(),t.TgZ(47,"mat-select",27),t.YNc(48,vt,2,2,"mat-option",18),t.qZA(),t.YNc(49,Zt,3,3,"mat-error",16),t.qZA()()(),t.TgZ(50,"div",28)(51,"div",29)(52,"mat-label"),t._uU(53),t.ALo(54,"transloco"),t.qZA(),t.TgZ(55,"div",30),t._UZ(56,"div",31),t.TgZ(57,"div",32)(58,"div")(59,"input",33),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.selectFile(o,"techPassportFrontFilePath"))}),t.qZA(),t.TgZ(60,"label",34),t._UZ(61,"mat-icon",35),t.qZA()()(),t.YNc(62,Tt,1,1,"img",36),t.YNc(63,xt,3,6,"img",36),t.qZA()(),t.TgZ(64,"div",29)(65,"mat-label"),t._uU(66),t.ALo(67,"transloco"),t.qZA(),t.TgZ(68,"div",30),t._UZ(69,"div",31),t.TgZ(70,"div",32)(71,"div")(72,"input",37),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.selectFile(o,"techPassportBackFilePath"))}),t.qZA(),t.TgZ(73,"label",38),t._UZ(74,"mat-icon",35),t.qZA()()(),t.YNc(75,At,1,1,"img",36),t.YNc(76,bt,3,6,"img",36),t.qZA()(),t.TgZ(77,"div",29)(78,"mat-label"),t._uU(79),t.ALo(80,"transloco"),t.qZA(),t.TgZ(81,"div",30),t._UZ(82,"div",31),t.TgZ(83,"div",32)(84,"div")(85,"input",39),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.selectFile(o,"goodsTransportationLicenseCardFilePath"))}),t.qZA(),t.TgZ(86,"label",40),t._UZ(87,"mat-icon",35),t.qZA()()(),t.YNc(88,Ct,1,1,"img",36),t.YNc(89,Ft,3,6,"img",36),t.qZA()()()()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Oqu(t.lcZ(6,47,"name")),t.xp6(2),t.Q6J("ngClass",t.VKq(67,q,e.f.name.errors)),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),t.xp6(3),t.hij(" ",t.lcZ(12,49,"transport_cargo"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportKinds)("ngForTrackBy",e.trackByFn),t.xp6(3),t.Oqu(t.lcZ(18,51,"volume_m")),t.xp6(3),t.Q6J("ngIf",e.isAutotransport),t.xp6(1),t.Q6J("ngIf",e.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",e.isContainer),t.xp6(1),t.Q6J("ngIf",e.isLoad),t.xp6(1),t.Q6J("ngIf",e.isRefrigerator),t.xp6(1),t.Q6J("ngIf",e.isCistern),t.xp6(4),t.hij("",t.lcZ(30,53,"state_number")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(69,q,e.f.stateNumber.errors)),t.xp6(1),t.Q6J("ngIf",null==e.f.stateNumber.errors?null:e.f.stateNumber.errors.required),t.xp6(3),t.hij(" ",t.lcZ(36,55,"loading_method"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoLoadingMethods)("ngForTrackBy",e.trackByFn),t.xp6(2),t.hij(" ",t.lcZ(41,57,"isAdr")," "),t.xp6(5),t.hij(" ",t.lcZ(46,59,"type_transport"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn)("ngClass",t.VKq(71,q,e.f.transportTypeIds.errors)),t.xp6(1),t.Q6J("ngForOf",e.transportTypes)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngIf",(null==e.f.transportTypeIds.errors?null:e.f.transportTypeIds.errors.required)&&e.f.transportTypeIds.touched),t.xp6(4),t.hij("",t.lcZ(54,61,"tech_passport_front")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.techPassportFrontFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.techPassportFrontFilePath&&e.edit),t.xp6(3),t.Oqu(t.lcZ(67,63,"tech_passport_back")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.techPassportBackFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.techPassportBackFilePath&&e.edit),t.xp6(3),t.Oqu(t.lcZ(80,65,"good_transportation_lisense")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.goodsTransportationLicenseCardFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.goodsTransportationLicenseCardFilePath&&e.edit)}}function Pt(i,r){if(1&i&&t._uU(0),2&i){const e=t.oxw().$implicit;t.hij(" ",e.name," ")}}function Lt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Nt(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function yt(i,r){1&i&&(t.TgZ(0,"div",14)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",43),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"number_of_transporter"),""))}function qt(i,r){1&i&&(t.TgZ(0,"div",44)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",45),t.qZA(),t.TgZ(6,"mat-form-field",42)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",46),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function wt(i,r){1&i&&(t.TgZ(0,"div",44)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"mat-select",47)(6,"mat-option",41),t._uU(7,"20(\u0444.)"),t.qZA(),t.TgZ(8,"mat-option",41),t._uU(9,"40(\u0444.)"),t.qZA(),t.TgZ(10,"mat-option",41),t._uU(11,"60(\u0444.)"),t.qZA()()(),t.TgZ(12,"mat-slide-toggle",48),t._uU(13),t.ALo(14,"transloco"),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"volume_f"),""),t.xp6(2),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(3),t.hij(" ",t.lcZ(14,8,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431")," "))}function Jt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"mat-checkbox",51),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(3);return t.KtG(s.onCheckboxChange(o))}),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"mat-checkbox",52),t._uU(5),t.ALo(6,"transloco"),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode),t.xp6(1),t.hij(" ",t.lcZ(3,3,"mode"),""),t.xp6(3),t.hij(" ",t.lcZ(6,5,"hook"),"")}}function Ut(i,r){1&i&&(t.TgZ(0,"div",14)(1,"mat-form-field",42)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",53),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"volume_l"),""))}function Dt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Qt(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function kt(i,r){if(1&i&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function jt(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Ot(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"label",59)(1,"mat-icon",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.fileService.downloadImage("driver",o.techPassportFrontFilePath))}),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-down-tray"))}function Yt(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(3);t.Q6J("src",e.techPassportFrontFilePath,t.LSH)}}function Mt(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(3);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportFrontFilePath,"driver")),t.LSH)}}function St(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"label",59)(1,"mat-icon",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.fileService.downloadImage("driver",o.techPassportBackFilePath))}),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-down-tray"))}function Kt(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(3);t.Q6J("src",e.techPassportBackFilePath,t.LSH)}}function Bt(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(3);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportBackFilePath,"driver")),t.LSH)}}function Et(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"label",59)(1,"mat-icon",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.fileService.downloadImage("driver",o.goodsTransportationLicenseCardFilePath))}),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-down-tray"))}function Ht(i,r){if(1&i&&t._UZ(0,"img",54),2&i){const e=t.oxw(3);t.Q6J("src",e.goodsTransportationLicenseCardFilePath,t.LSH)}}function Rt(i,r){if(1&i&&(t._UZ(0,"img",54),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw(3);t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.goodsTransportationLicenseCardFilePath,"driver")),t.LSH)}}function Vt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab"),t.YNc(1,Pt,1,1,"ng-template",57),t.TgZ(2,"div")(3,"form",11)(4,"div",12)(5,"div",13)(6,"mat-form-field",14)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",15),t.YNc(11,Lt,3,3,"mat-error",16),t.qZA(),t.TgZ(12,"mat-form-field",14)(13,"mat-label"),t._uU(14),t.ALo(15,"transloco"),t.qZA(),t.TgZ(16,"mat-select",17),t.YNc(17,Nt,2,2,"mat-option",18),t.qZA()(),t.TgZ(18,"mat-form-field",14)(19,"mat-label"),t._uU(20),t.ALo(21,"transloco"),t.qZA(),t._UZ(22,"input",19),t.qZA(),t.YNc(23,yt,6,3,"div",20),t.YNc(24,qt,11,6,"div",21),t.YNc(25,wt,15,10,"div",21),t.YNc(26,Jt,7,7,"div",20),t.YNc(27,Ut,6,3,"div",22),t.qZA(),t.TgZ(28,"div",23)(29,"mat-form-field",14)(30,"mat-label"),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t._UZ(33,"input",24),t.YNc(34,Dt,3,3,"mat-error",16),t.qZA(),t.TgZ(35,"mat-form-field",14)(36,"mat-label"),t._uU(37),t.ALo(38,"transloco"),t.qZA(),t.TgZ(39,"mat-select",25),t.YNc(40,Qt,2,2,"mat-option",18),t.qZA()(),t.TgZ(41,"mat-slide-toggle",26),t._uU(42),t.ALo(43,"transloco"),t.qZA()(),t.TgZ(44,"div",13)(45,"mat-form-field",14)(46,"mat-label"),t._uU(47),t.ALo(48,"transloco"),t.qZA(),t.TgZ(49,"mat-select",27),t.YNc(50,kt,2,2,"mat-option",18),t.qZA(),t.YNc(51,jt,3,3,"mat-error",16),t.qZA()()(),t.TgZ(52,"div",28)(53,"div",29)(54,"mat-label"),t._uU(55),t.ALo(56,"transloco"),t.qZA(),t.TgZ(57,"div",30),t._UZ(58,"div",31),t.TgZ(59,"div",32)(60,"div")(61,"input",33),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectFile(o,"techPassportFrontFilePath"))}),t.qZA(),t.TgZ(62,"div",6)(63,"label",34),t._UZ(64,"mat-icon",35),t.qZA(),t.YNc(65,Ot,2,1,"label",58),t.qZA()()(),t.YNc(66,Yt,1,1,"img",36),t.YNc(67,Mt,3,6,"img",36),t.qZA()(),t.TgZ(68,"div",29)(69,"mat-label"),t._uU(70),t.ALo(71,"transloco"),t.qZA(),t.TgZ(72,"div",30),t._UZ(73,"div",31),t.TgZ(74,"div",32)(75,"div")(76,"input",37),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectFile(o,"techPassportBackFilePath"))}),t.qZA(),t.TgZ(77,"div",6)(78,"label",38),t._UZ(79,"mat-icon",35),t.qZA(),t.YNc(80,St,2,1,"label",58),t.qZA()()(),t.YNc(81,Kt,1,1,"img",36),t.YNc(82,Bt,3,6,"img",36),t.qZA()(),t.TgZ(83,"div",29)(84,"mat-label"),t._uU(85),t.ALo(86,"transloco"),t.qZA(),t.TgZ(87,"div",30),t._UZ(88,"div",31),t.TgZ(89,"div",32)(90,"div")(91,"input",39),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectFile(o,"goodsTransportationLicenseCardFilePath"))}),t.qZA(),t.TgZ(92,"div",6)(93,"label",40),t._UZ(94,"mat-icon",35),t.qZA(),t.YNc(95,Et,2,1,"label",58),t.qZA()()(),t.YNc(96,Ht,1,1,"img",36),t.YNc(97,Rt,3,6,"img",36),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(5),t.Oqu(t.lcZ(9,49,"name")),t.xp6(2),t.Q6J("ngClass",t.VKq(69,q,e.f.name.errors)),t.xp6(1),t.Q6J("ngIf",null==e.f.name.errors?null:e.f.name.errors.required),t.xp6(3),t.hij(" ",t.lcZ(15,51,"transport_cargo"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportKinds)("ngForTrackBy",e.trackByFn),t.xp6(3),t.Oqu(t.lcZ(21,53,"volume_m")),t.xp6(3),t.Q6J("ngIf",e.isAutotransport),t.xp6(1),t.Q6J("ngIf",e.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",e.isContainer),t.xp6(1),t.Q6J("ngIf",e.isRefrigerator),t.xp6(1),t.Q6J("ngIf",e.isCistern),t.xp6(4),t.hij("",t.lcZ(32,55,"state_number")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(71,q,e.f.stateNumber.errors)),t.xp6(1),t.Q6J("ngIf",null==e.f.stateNumber.errors?null:e.f.stateNumber.errors.required),t.xp6(3),t.hij(" ",t.lcZ(38,57,"loading_method"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoLoadingMethods)("ngForTrackBy",e.trackByFn),t.xp6(2),t.hij(" ",t.lcZ(43,59,"isAdr")," "),t.xp6(5),t.hij(" ",t.lcZ(48,61,"type_transport"),""),t.xp6(2),t.Q6J("compareWith",e.compareFn)("ngClass",t.VKq(73,q,e.f.transportTypeIds.errors)),t.xp6(1),t.Q6J("ngForOf",e.transportTypes)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngIf",(null==e.f.transportTypeIds.errors?null:e.f.transportTypeIds.errors.required)&&e.f.transportTypeIds.touched),t.xp6(4),t.hij("",t.lcZ(56,63,"tech_passport_front")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.techPassportFrontFilePath),t.xp6(1),t.Q6J("ngIf",e.techPassportFrontFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.techPassportFrontFilePath&&e.edit),t.xp6(3),t.Oqu(t.lcZ(71,65,"tech_passport_back")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.techPassportBackFilePath),t.xp6(1),t.Q6J("ngIf",e.techPassportBackFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.techPassportBackFilePath&&e.edit),t.xp6(3),t.Oqu(t.lcZ(86,67,"good_transportation_lisense")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",e.goodsTransportationLicenseCardFilePath),t.xp6(1),t.Q6J("ngIf",e.goodsTransportationLicenseCardFilePath&&!e.edit),t.xp6(1),t.Q6J("ngIf",e.goodsTransportationLicenseCardFilePath&&e.edit)}}function Wt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab-group",55),t.NdJ("selectedTabChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onTabClick(o))}),t.YNc(1,Vt,98,75,"mat-tab",56),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.transports)}}const Gt=function(i,r){return{"fuse-mat-button text-white":i,"fuse-mat-button ":r}};let j=(()=>{class i{constructor(e,a,o,s,c,b,A,U,I){this.fileService=e,this.fb=a,this.data=o,this._toaster=s,this._driverService=c,this._typesService=b,this._subscriptionService=A,this._cdr=U,this._dialog=I,this.findList=[],this.selectedFileName="",this.passwordGenerator=new Y.E,this.viewText=!1,this.citiesSelected=new n.NI,this.selectTechnicalRoomFilterCtrl=new n.NI,this.isRefrigeratorMode=!1,this.roles=[],this.subscription=[],this.edit=!1,this.formData=new FormData,this.transports=[],this.form=this.fb.group({id:new n.NI(""),driverId:new n.NI(""),name:new n.NI("",[n.kI.required]),cubicCapacity:new n.NI("",[n.kI.required]),stateNumber:new n.NI("",[n.kI.required]),transportKindIds:new n.NI([]),transportTypeIds:new n.NI([]),loadingMethodIds:new n.NI([]),refrigeratorFrom:new n.NI(""),refrigeratorTo:new n.NI(""),refrigeratorCount:new n.NI(""),loadFrom:new n.NI(""),loadTo:new n.NI(""),isHook:new n.NI(!1),isAdr:new n.NI(!1),cisternVolume:new n.NI(""),containerVolume:new n.NI(""),high:new n.NI(""),techPassportFrontFilePath:new n.NI("",[n.kI.required]),techPassportBackFilePath:new n.NI("",[n.kI.required]),goodsTransportationLicenseCardFilePath:new n.NI("",[n.kI.required])}),console.log(o),this.form.patchValue({driverId:o?.driverId}),o.edit&&(this.edit=!0),(0,$.D)({currencies:this._typesService.getCurrencies(),cargoTypes:this._typesService.getCargoTypes(),transportTypes:this._typesService.getTransportTypes(),packagesTypes:this._typesService.getPackages(),cargoLoadingMethods:this._typesService.getCargoLoadingMethod(),transportKinds:this._typesService.getTransportKinds()}).subscribe({next:L=>{this.currencies=L.currencies.data,this.cargoTypes=L.cargoTypes.data,this.transportTypes=L.transportTypes.data,this.packagesTypes=L.packagesTypes.data,this.cargoLoadingMethods=L.cargoLoadingMethods.data,this.transportKinds=L.transportKinds.data},error:L=>{console.error("Error fetching currencies and cargo types:",L)}})}ngOnInit(){this.edit&&this._driverService.get(this.f.driverId.value).subscribe(e=>{this.transports=e?.data?.driverTransports,this.changeTab(this.transports[0].id)}),this.transportKindIdsChange()}transportKindIdsChange(){this.form.get("transportKindIds").valueChanges.subscribe(e=>{if(console.log(e),1==e.length){let a=this.transportKinds.find(o=>o.id==e);this.isAutotransport=a?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=a?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=a?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=a?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"),this.isLoad=a?.name?.includes("\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"),this._cdr.detectChanges()}else e.forEach(a=>{let o=this.transportKinds.find(s=>s.id==a);this.isAutotransport=this.isAutotransport||o?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=this.isRefrigerator||o?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=this.isCistern||o?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=this.isContainer||o?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"),this.isLoad=this.isLoad||o?.name?.includes("\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"),console.log(this.isAutotransport),console.log(this.isRefrigerator),console.log(this.isCistern),console.log(this.isContainer),console.log(this.isLoad),this._cdr.detectChanges()})})}transportKindIdsChangeEdit(){console.log("change TransportKinds"),this.form.get("transportKindIds").valueChanges.subscribe(e=>{if(1==e.length){let a=this.transportKinds.find(o=>o.id==e[0].id);this.isAutotransport=a?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=a?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=a?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=a?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"),this.isLoad=a?.name?.includes("\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"),console.log(this.isAutotransport),console.log(this.isRefrigerator),console.log(this.isCistern),console.log(this.isContainer),console.log(this.isLoad),this._cdr.detectChanges()}else e.forEach(a=>{let o=this.transportKinds.find(s=>s.id==a);this.isAutotransport=this.isAutotransport||o?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=this.isRefrigerator||o?.name?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=this.isCistern||o?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=this.isContainer||o?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"),this.isLoad=this.isLoad||o?.name?.includes("\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"),console.log(this.isAutotransport),console.log(this.isRefrigerator),console.log(this.isCistern),console.log(this.isContainer),console.log(this.isLoad),this._cdr.detectChanges()})})}onTabClick(e){let a=this.transports.find((o,s)=>{if(s==e.index)return o});this._driverService.getTransportWithDriver(this.f.driverId.value,a.id).subscribe(o=>{this.techPassportFrontFilePath=o.data[0].techPassportFrontFilePath,this.techPassportBackFilePath=o.data[0].techPassportBackFilePath,this.transportFrontFilePath=o.data[0].transportFrontFilePath,this.goodsTransportationLicenseCardFilePath=o.data[0].goodsTransportationLicenseCardFilePath,this.driverLicenseFilePath=o.data[0].driverLicenseFilePath,this.edit=!0,console.log("change tabs"),this.form.get("transportKindIds").setValue(o.data[0]?.transportKinds),this.form.get("loadingMethodIds").setValue(o.data[0]?.cargoLoadMethods),this.form.get("transportTypeIds").setValue(o.data[0]?.transportTypes),this.transportKindIdsChangeEdit(),this.form.patchValue({id:o.data[0]?.id,name:o.data[0]?.name,isHook:o.data[0]?.isHook,isAdr:o.data[0]?.isAdr,cubicCapacity:o.data[0]?.cubicCapacity,stateNumber:o.data[0]?.stateNumber,techPassportFrontFilePath:o.data[0]?.techPassportFrontFilePath,techPassportBackFilePath:o.data[0]?.techPassportBackFilePath,transportFrontFilePath:o.data[0]?.transportFrontFilePath,goodsTransportationLicenseCardFilePath:o.data[0]?.goodsTransportationLicenseCardFilePath,driverLicenseFilePath:o.data[0]?.driverLicenseFilePath,refrigeratorFrom:o.data[0]?.refrigeratorFrom,refrigeratorTo:o.data[0]?.refrigeratorTo,refrigeratorCount:o.data[0]?.refrigeratorCount})}),this._cdr.detectChanges()}changeTab(e){this._driverService.getTransportWithDriver(this.f.driverId.value,e).subscribe(a=>{this.techPassportFrontFilePath=a.data[0].techPassportFrontFilePath,this.techPassportBackFilePath=a.data[0].techPassportBackFilePath,this.transportFrontFilePath=a.data[0].transportFrontFilePath,this.goodsTransportationLicenseCardFilePath=a.data[0].goodsTransportationLicenseCardFilePath,this.driverLicenseFilePath=a.data[0].driverLicenseFilePath,this.edit=!0,this.form.get("transportKindIds").setValue(a.data[0]?.transportKinds),this.form.get("loadingMethodIds").setValue(a.data[0]?.cargoLoadMethods),this.form.get("transportTypeIds").setValue(a.data[0]?.transportTypes),this.transportKindIdsChangeEdit(),this.form.patchValue({id:a.data[0]?.id,name:a.data[0]?.name,isHook:a.data[0]?.isHook,isAdr:a.data[0]?.isAdr,cubicCapacity:a.data[0]?.cubicCapacity,stateNumber:a.data[0]?.stateNumber,techPassportFrontFilePath:a.data[0]?.techPassportFrontFilePath,techPassportBackFilePath:a.data[0]?.techPassportBackFilePath,transportFrontFilePath:a.data[0]?.transportFrontFilePath,goodsTransportationLicenseCardFilePath:a.data[0]?.goodsTransportationLicenseCardFilePath,driverLicenseFilePath:a.data[0]?.driverLicenseFilePath,refrigeratorFrom:a.data[0]?.refrigeratorFrom,refrigeratorTo:a.data[0]?.refrigeratorTo,refrigeratorCount:a.data[0]?.refrigeratorCount}),this._cdr.detectChanges()}),this._cdr.detectChanges()}onCheckboxChange(e){this.isRefrigeratorMode=e.checked}selectFile(e,a){const o=e.target.files[0];if(o){console.log(a,this.form.get(a)?.value,o),this.formData.append(a,o,(new Date).getTime().toString()+".jpg");const s=new FileReader;s.onload=()=>{this[a]=s.result,this._cdr.detectChanges()},s.readAsDataURL(o)}}changeValue(){this.form.get("transportKindIds").valueChanges.subscribe(e=>{e&&(this.isAutotransport=e?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=e?.includes("\u0420\u0435\u0444\u0440\u0438\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=e?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=e?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"),this.isLoad=e?.includes("\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u0434\u044a\u0435\u043c\u043d\u043e\u0441\u0442\u044c"))})}onFileSelected(e,a){const o=e.target.files[0];switch(a){case"techPassportFrontFilePath":this.form.patchValue({techPassportFrontFilePath:o});case"techPassportBackFilePath":this.form.patchValue({techPassportBackFilePath:o});case"transportFrontFilePath":this.form.patchValue({transportFrontFilePath:o});case"goodsTransportationLicenseCardFilePath":this.form.patchValue({goodsTransportationLicenseCardFilePath:o});case"driverLicenseFilePath":this.form.patchValue({driverLicenseFilePath:o})}}getImageUrl(e){const a=this.form.get(`${e}`).value;return a instanceof File?URL.createObjectURL(a):""}generate(){this.form.patchValue({password:this.passwordGenerator.generateRandomPassword()})}getSubscription(){this._subscriptionService.getAll().subscribe(e=>{this.subscription=e.data})}findCity(e){var a=this;return O(function*(){e.target.value.toString().trim().toLowerCase().length>=2?a.viewText=!0:(a.viewText=!1,a.findList=[])})()}get f(){return this.form.controls}submit(){this.formData.append("id",this.form.get("id").value),this.formData.append("driverId",this.form.get("driverId").value),this.formData.append("name",this.form.get("name").value),this.formData.append("cubicCapacity",this.form.get("cubicCapacity").value),this.formData.append("stateNumber",this.form.get("stateNumber").value),this.form.get("refrigeratorFrom").value&&this.formData.append("refrigeratorFrom",this.form.get("refrigeratorFrom").value),this.form.get("refrigeratorTo").value&&this.formData.append("refrigeratorTo",this.form.get("refrigeratorTo").value),this.form.get("refrigeratorCount").value&&this.formData.append("refrigeratorCount",this.form.get("refrigeratorCount").value),this.form.get("isHook").value&&this.formData.append("isHook",this.form.get("isHook").value),this.form.get("isAdr").value&&this.formData.append("isAdr",this.form.get("isAdr").value),this.form.get("loadFrom").value&&this.formData.append("loadFrom",this.form.get("loadFrom").value),this.form.get("loadTo").value&&this.formData.append("loadTo",this.form.get("loadTo").value),this.form.get("id").value?(this.formData.append("transportKindIds",JSON.stringify(this.setIds(this.form.get("transportKindIds").value))),this.formData.append("transportTypeIds",JSON.stringify(this.setIds(this.form.get("transportTypeIds").value))),this.formData.append("loadingMethodIds",JSON.stringify(this.setIds(this.form.get("loadingMethodIds").value))),this.formData.append("loadingMethodIds",JSON.stringify(this.form.get("loadingMethodIds").value))):(this.formData.append("transportKindIds",JSON.stringify(this.form.get("transportKindIds").value)),this.formData.append("transportTypeIds",JSON.stringify(this.form.get("transportTypeIds").value)),this.formData.append("loadingMethodIds",JSON.stringify(this.form.get("loadingMethodIds").value))),"string"==typeof this.form.get("techPassportFrontFilePath")?.value&&this.formData.append("techPassportFrontFilePath",this.form.get("techPassportFrontFilePath")?.value),"string"==typeof this.form.get("techPassportBackFilePath")?.value&&this.formData.append("techPassportBackFilePath",this.form.get("techPassportBackFilePath")?.value),"string"==typeof this.form.get("transportFrontFilePath")?.value&&this.formData.append("transportFrontFilePath",this.form.get("transportFrontFilePath")?.value),"string"==typeof this.form.get("goodsTransportationLicenseCardFilePath")?.value&&this.formData.append("goodsTransportationLicenseCardFilePath",this.form.get("goodsTransportationLicenseCardFilePath")?.value),"string"==typeof this.form.get("driverLicenseFilePath")?.value&&this.formData.append("driverLicenseFilePath",this.form.get("driverLicenseFilePath")?.value),"string"==typeof this.form.get("passportFilePath")?.value&&this.formData.append("passportFilePath",this.form.get("passportFilePath")?.value);const e=(0,S.l)(this.formData);console.log(this.form.value),this.form.valid?this.form.value.id?this._driverService.updateTransport(e).subscribe(a=>{a.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._driverService.createTransport(e).subscribe(a=>{a.success?(this._dialog.closeAll(),this._toaster.success("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430  \u0443\u0441\u043f\u0435\u0448\u043d\u043e")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(B.d,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}trackByFn(e){return e.id}compareFn(e,a){if(e&&a)return e===a.id}setIds(e){return e.map(a=>a.id)}downloadPhoto(e){this.fileService.downloadImage("driver",e)}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(X.W),t.Y36(n.qu),t.Y36(u.WI),t.Y36(k._W),t.Y36(y.P),t.Y36(E.K),t.Y36(H.F),t.Y36(t.sBO),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-transport"]],standalone:!0,features:[t.jDz],decls:17,vars:16,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup",4,"ngIf"],[3,"selectedTabChange",4,"ngIf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-4"],[1,"px-4"],[1,"flex","items-center"],["type","text","matInput","","formControlName","name",3,"ngClass"],[4,"ngIf"],["formControlName","transportKindIds","multiple","",3,"compareWith"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["type","number","matInput","","formControlName","cubicCapacity"],["class","flex items-center",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["class","flex items-center ",4,"ngIf"],[1,"px-2"],["type","text","matInput","","formControlName","stateNumber",3,"ngClass"],["formControlName","loadingMethodIds","multiple","",3,"compareWith"],["formControlName","isAdr",1,"py-2"],["formControlName","transportTypeIds","multiple","",3,"compareWith","ngClass"],[1,"flex","flex-wrap","gap-4","items-end","justify-start"],[1,"w-40"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","techPassportFrontFilePath","id","avatar-file-input7","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input7","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","techPassportBackFilePath","id","avatar-file-input2","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input2","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","goodsTransportationLicenseCardFilePath","id","avatar-file-input3","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input3","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[3,"value"],[1,"flex","items-center","w-full"],["type","number","matInput","","formControlName","refrigeratorCount"],[1,"flex","items-center","gap-4"],["type","number","min","-10","max","24","matInput","","formControlName","refrigeratorFrom"],["type","number","max","25","min","0","matInput","","formControlName","refrigeratorTo"],["formControlName","containerVolume",3,"value"],["formControlName","isAdr",1,"py-2","w-full"],["type","number","min","17","max","24","matInput","","formControlName","loadFrom"],["type","number","max","25","min","0","matInput","","formControlName","loadTo"],[3,"checked","change"],["formControlName","isHook"],["type","number","matInput","","formControlName","cisternVolume"],[1,"object-fill","w-full","h-full",3,"src"],[3,"selectedTabChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],["class","flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover","matRipple","",4,"ngIf"],["matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon","click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.YNc(1,nt,3,3,"p",1),t.YNc(2,st,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content"),t.YNc(7,It,90,73,"form",4),t.YNc(8,Wt,2,1,"mat-tab-group",5),t.qZA(),t.TgZ(9,"mat-dialog-actions",6)(10,"div",7)(11,"button",8),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return o.submit()}),t._uU(15),t.ALo(16,"transloco"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit),t.xp6(5),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(13,9,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(13,Gt,!o.form.invalid,o.form.invalid))("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(16,11,"save")," "))},dependencies:[_.y4,_.Ot,v.Ov,Q.Nh,Q.uD,Q.uX,Q.SP,K.d,R.z,z.p9,z.oG,J.Ng,J.ey,v.mk,v.ax,C.LD,p.KE,p.hX,p.TO,C.gD,w.Co,D.Fk,P.FA,d.c,d.Nt,Z.Ps,Z.Hw,g.ot,g.lW,g.RK,n.UX,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.qQ,n.Fd,n.sg,n.u,u.Is,u.ZT,u.uh,u.xY,u.H8,n.u5,v.O5,h.p0,p.lN,x.JX,f.TU,m.Tx,T.rP,T.Rr],styles:[".mat-tab-label{width:200px!important;padding:5px}\n"],encapsulation:2,changeDetection:0})}return i})();var $t=l(4250);function zt(i,r){1&i&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_driver")))}function Xt(i,r){1&i&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_driver")))}function te(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ee(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ie(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function oe(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u044f 6 "),t.qZA())}function ae(i,r){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.passport,t.LSH)}}function re(i,r){if(1&i&&(t._UZ(0,"img",30),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.passport,"driver")),t.LSH)}}function ne(i,r){if(1&i&&t._UZ(0,"img",30),2&i){const e=t.oxw();t.Q6J("src",e.driverLicense,t.LSH)}}function se(i,r){if(1&i&&(t._UZ(0,"img",30),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.driverLicense,"driver")),t.LSH)}}const V=function(i){return{"is-invalid":i}},le=function(){return["uz"]},ce=function(i,r){return{"fuse-mat-button text-white":i,"fuse-mat-button ":r}};let tt=(()=>{class i{constructor(e,a,o,s,c,b){this.data=e,this._toaster=a,this._driverService=o,this._subscriptionService=s,this._cdr=c,this._dialog=b,this.findList=[],this.passwordGenerator=new Y.E,this.viewText=!1,this.formData=new FormData,this.citiesSelected=new n.NI,this.selectTechnicalRoomFilterCtrl=new n.NI,this.roles=[],this.subscription=[],this.edit=!1,this.form=new n.cw({id:new n.NI(""),firstName:new n.NI("",[n.kI.required]),lastName:new n.NI("",[n.kI.required]),phoneNumbers:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required,n.kI.maxLength(16),n.kI.minLength(8)]),driverLicense:new n.NI("",[n.kI.required]),passport:new n.NI("",[n.kI.required])}),this.data&&(this.edit=!0,this._driverService.get(this.data).subscribe(A=>{console.log(A),this.passport=A.data?.passport,this.driverLicense=A.data?.driverLicense,this.form.patchValue({id:A.data?.id,firstName:A.data?.firstName,lastName:A.data?.lastName,phoneNumbers:A.data?.phoneNumbers[0]?.phoneNumber,password:A.data?.password,passportFile:A.data?.passport,driverLicense:A.data?.driverLicense})}))}generate(){this.form.patchValue({password:this.passwordGenerator.generateRandomPassword()})}getSubscription(){this._subscriptionService.getAll().subscribe(e=>{this.subscription=e.data})}findCity(e){var a=this;return O(function*(){e.target.value.toString().trim().toLowerCase().length>=2?a.viewText=!0:(a.viewText=!1,a.findList=[])})()}selectFile(e,a){const o=e.target.files[0];if(o){this.formData.append(a,o,(new Date).getTime().toString()+".jpg");const s=new FileReader;s.onload=()=>{this[a]=s.result,this._cdr.detectChanges()},s.readAsDataURL(o)}}get f(){return this.form.controls}submit(){console.log(this.form),console.log(this.form.valid),this.formData.append("id",this.form.get("id").value),this.formData.append("firstName",this.form.get("firstName").value),this.formData.append("lastName",this.form.get("lastName").value),this.formData.append("phoneNumbers",JSON.stringify([this.form.get("phoneNumbers").value])),this.formData.append("password",this.form.get("password").value),"string"==typeof this.form.get("passportFile")?.value&&this.formData.append("passportFile",this.form.get("passportFile")?.value),"string"==typeof this.form.get("driverLicense")?.value&&this.formData.append("driverLicense",this.form.get("driverLicense")?.value);const e=(0,S.l)(this.formData);this.form.valid?this.form.value.id?this._driverService.update(this.formData).pipe(a=>((0,M.b)(a)&&(this.formData=new FormData),a)).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):(this.form.reset(),this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"))}):(this._driverService.create(e).pipe(a=>((0,M.b)(a)&&(this.formData=new FormData),a)).subscribe(a=>{this._dialog.open(rt,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442?"}}).afterClosed().subscribe(o=>{o?this._dialog.open(j,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"100vh",disableClose:!0,autoFocus:!1,data:{driverId:a.data.id}}).afterClosed().subscribe(()=>{this._dialog.closeAll()}):(this.form.reset(),this._dialog.closeAll())})}),this.form.reset(),this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._dialog.open($t.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.WI),t.Y36(k._W),t.Y36(y.P),t.Y36(H.F),t.Y36(t.sBO),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-driver"]],standalone:!0,features:[t.jDz],decls:71,vars:61,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],[1,"p-3"],["color","accent",1,"w-full"],["matInput","","formControlName","firstName",3,"ngClass"],[4,"ngIf"],["formControlName","phoneNumbers","name","phoneNumber",3,"cssClass","preferredCountries","enablePlaceholder","enableSearch"],["phoneNumber",""],["matInput","","formControlName","lastName",3,"ngClass"],["matInput","","formControlName","password",3,"ngClass"],[1,"flex","flex-wrap","gap-4","items-end","justify-start"],[1,"w-40"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","passport","id","avatar-file-input6","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input6","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","driverLicense","id","avatar-file-input4","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input4","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[1,"object-fill","w-full","h-full",3,"src"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.YNc(1,zt,3,3,"p",1),t.YNc(2,Xt,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,te,3,3,"mat-error",9),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"ngx-mat-intl-tel-input",10,11),t.qZA()(),t.TgZ(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),t._uU(25),t.ALo(26,"transloco"),t.qZA(),t._UZ(27,"input",12),t.YNc(28,ee,3,3,"mat-error",9),t.qZA(),t.TgZ(29,"mat-form-field",7)(30,"mat-label"),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t._UZ(33,"input",13),t.YNc(34,ie,3,3,"mat-error",9),t.YNc(35,oe,2,0,"mat-error",9),t.qZA()()(),t.TgZ(36,"div",14)(37,"div",15)(38,"mat-label"),t._uU(39),t.ALo(40,"transloco"),t.qZA(),t.TgZ(41,"div",16),t._UZ(42,"div",17),t.TgZ(43,"div",18)(44,"div")(45,"input",19),t.NdJ("change",function(c){return o.selectFile(c,"passport")}),t.qZA(),t.TgZ(46,"label",20),t._UZ(47,"mat-icon",21),t.qZA()()(),t.YNc(48,ae,1,1,"img",22),t.YNc(49,re,3,6,"img",22),t.qZA()(),t.TgZ(50,"div",15)(51,"mat-label"),t._uU(52),t.ALo(53,"transloco"),t.qZA(),t.TgZ(54,"div",16),t._UZ(55,"div",17),t.TgZ(56,"div",18)(57,"div")(58,"input",23),t.NdJ("change",function(c){return o.selectFile(c,"driverLicense")}),t.qZA(),t.TgZ(59,"label",24),t._UZ(60,"mat-icon",21),t.qZA()()(),t.YNc(61,ne,1,1,"img",22),t.YNc(62,se,3,6,"img",22),t.qZA()()()()(),t.TgZ(63,"mat-dialog-actions",25)(64,"div",26)(65,"button",27),t._uU(66),t.ALo(67,"transloco"),t.qZA(),t.TgZ(68,"button",28),t.NdJ("click",function(){return o.submit()}),t._uU(69),t.ALo(70,"transloco"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Oqu(t.lcZ(13,35,"first_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(51,V,o.f.firstName.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.firstName.errors?null:o.f.firstName.errors.required),t.xp6(3),t.hij("",t.lcZ(19,37,"phone"),"*"),t.xp6(2),t.Q6J("cssClass","custom")("preferredCountries",t.DdM(53,le))("enablePlaceholder",!0)("enableSearch",!0),t.xp6(5),t.Oqu(t.lcZ(26,39,"last_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(54,V,o.f.lastName.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.lastName.errors?null:o.f.lastName.errors.required),t.xp6(3),t.Oqu(t.lcZ(32,41,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(56,V,o.f.password.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.password.errors?null:o.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.f.password.errors?null:o.f.password.errors.maxlength),t.xp6(4),t.Oqu(t.lcZ(40,43,"passport")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.passport&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.passport&&o.edit),t.xp6(3),t.hij("",t.lcZ(53,45,"driver_lisense_card")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.driverLicense&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.driverLicense&&o.edit),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(67,47,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(58,ce,o.form.invalid,!o.form.invalid))("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(70,49,"save")," "))},dependencies:[_.y4,_.Ot,v.mk,w.Co,D.Fk,P.FA,ot.d,d.c,d.Nt,p.KE,p.hX,p.TO,Z.Ps,Z.Hw,C.LD,g.ot,g.lW,g.RK,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,u.Is,u.ZT,u.uh,u.xY,u.H8,n.u5,v.O5,h.p0,p.lN,x.JX,f.TU,m.Tx,T.rP],encapsulation:2,changeDetection:0})}return i})();var et=l(3537),pe=l(943);function de(i,r){if(1&i&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null==e.driver?null:e.driver.phoneNumber)}}function me(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.phoneNumber," ")}}function ue(i,r){if(1&i&&(t.TgZ(0,"p",19),t.YNc(1,me,2,1,"span",31),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.driver?null:e.driver.phoneNumbers)}}function _e(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,null==e.driver?null:e.driver.subscribedAt,"dd/mm/yyyy")," ")}}function fe(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no")," "))}function ge(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"mat-label",33),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"div",34),t._UZ(5,"div",35),t.TgZ(6,"div",36)(7,"label",37)(8,"mat-icon",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.downloadPhoto(o.driver.passportFilePath))}),t.qZA()()(),t._UZ(9,"img",39),t.ALo(10,"async"),t.ALo(11,"fileFetch"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"passport")," "),t.xp6(6),t.Q6J("svgIcon","heroicons_outline:arrow-down-tray"),t.xp6(1),t.Q6J("src",t.lcZ(10,5,t.xi3(11,7,e.driver.passportFilePath,"driver")),t.LSH)}}function he(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"mat-label",33),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"div",34),t._UZ(5,"div",35),t.TgZ(6,"div",36)(7,"div")(8,"label",37)(9,"mat-icon",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.downloadPhoto(o.driver.driverLicenseFilePath))}),t.qZA()()()(),t._UZ(10,"img",39),t.ALo(11,"async"),t.ALo(12,"fileFetch"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"driver_lisense_card")," "),t.xp6(7),t.Q6J("svgIcon","heroicons_outline:arrow-down-tray"),t.xp6(1),t.Q6J("src",t.lcZ(11,5,t.xi3(12,7,e.driver.driverLicenseFilePath,"driver")),t.LSH)}}function ve(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addTransportEdit())}),t._uU(1),t.ALo(2,"transloco"),t.qZA()}2&i&&(t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(2,2,"view_transport")," "))}function Ze(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.block())}),t._uU(1),t.ALo(2,"transloco"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("color","primary")("disabled",null==e.driver?null:e.driver.blocked),t.xp6(1),t.hij(" ",t.lcZ(2,3,"block")," ")}}function Te(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.active())}),t._uU(1),t.ALo(2,"transloco"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("color","primary")("disabled",!(null!=e.driver&&e.driver.blocked)),t.xp6(1),t.hij(" ",t.lcZ(2,3,"unblock")," ")}}let xe=(()=>{class i{constructor(e,a,o,s){this.data=e,this._driverService=a,this._dialog=o,this.fileService=s,this.getDriver(e),this.driverId=e}getDriver(e){this._driverService.get(e).subscribe(a=>{this.driver=a.data,console.log(this.driver)})}ngOnInit(){}downloadPhoto(e){this.fileService.downloadImage("driver",e)}block(){this._dialog.open(et.R,{minWidth:"20vw",maxWidth:"40vw",minHeight:"42vh",maxHeight:"85vh",data:this.driver.id,autoFocus:!1}).afterClosed().subscribe(()=>{this._dialog.closeAll()})}preview(e){this._dialog.open(pe.E,{minWidth:"60vw",maxWidth:"80vw",minHeight:"60vh",maxHeight:"80vh",data:{keyName:"driver",fileName:e},autoFocus:!1}).afterClosed().subscribe(()=>{this._dialog.closeAll()})}addTransport(){this._dialog.open(j,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"100vh",disableClose:!0,autoFocus:!1,data:{driverId:this.driverId}}).afterClosed().subscribe(()=>{})}active(e){this._driverService.active(e).subscribe(()=>{this._dialog.closeAll()})}addTransportEdit(){this._dialog.open(j,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"100vh",disableClose:!0,autoFocus:!1,data:{driverId:this.driverId,edit:!0}}).afterClosed().subscribe(()=>{})}submit(){}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.WI),t.Y36(y.P),t.Y36(u.uw),t.Y36(X.W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail-driver"]],standalone:!0,features:[t.jDz],decls:83,vars:49,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","leading-5","text-3xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"max-w-md","mx-auto","p-4","mt-3","bg-white","dark:bg-black","rounded-lg","shadow-md"],[1,"flex","w-full","justify-between"],[1,"flex"],["src","assets/images/user/user.svg","alt","User Image",1,"rounded-full","w-16","h-16","mr-2"],[1,"text-2xl","font-bold"],[1,"text-gray-600"],[1,"flex","justify-end"],["src","assets/images/icons/start.svg","alt","star Image",1,"rounded-full","w-4","h-4","ml-1","mt-1"],[1,"mb-5","flex"],[1,"text-2xl","leading-4","font-bold"],["src","assets/images/icons/telegram.svg","alt","",1,"ml-auto","h-7","w-7","cursor-pointer"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xl","leading-4","mb-1"],["class","font-bold",4,"ngIf"],[1,"font-bold"],[4,"ngIf"],[1,"flex","items-end","gap-4","mt-2","p-4"],["class","w-40",4,"ngIf"],[1,"flex","justify-end","gap-4","mt-4","px-4"],["mat-flat-button","",3,"color","click",4,"ngIf"],["mat-flat-button","",3,"color","click"],[1,"flex","justify-end","mt-4","px-4"],["mat-flat-button","",3,"color","disabled","click",4,"ngIf"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",3,"color"],["mat-flat-button","",1,"",3,"color","click"],[4,"ngFor","ngForOf"],[1,"w-40"],[1,"text-large","font-bold"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon","click"],[1,"object-fill","w-full","h-full",3,"src"],["mat-flat-button","",3,"color","disabled","click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content",4)(8,"div",5)(9,"div",6)(10,"div",7),t._UZ(11,"img",8),t.TgZ(12,"div")(13,"p",9),t._uU(14),t.qZA(),t.TgZ(15,"p",10),t._uU(16),t.qZA()()(),t.TgZ(17,"div",11)(18,"p",10),t._uU(19," 5.0"),t.qZA(),t._UZ(20,"img",12),t.qZA()()(),t.TgZ(21,"div",5)(22,"div",13)(23,"h2",14),t._uU(24),t.ALo(25,"transloco"),t.qZA(),t._UZ(26,"img",15),t.qZA(),t.TgZ(27,"div",16)(28,"div")(29,"p",17),t._uU(30),t.ALo(31,"transloco"),t.qZA(),t.YNc(32,de,2,1,"p",18),t.YNc(33,ue,2,1,"p",18),t.TgZ(34,"p",19),t._uU(35,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d"),t.qZA()()()(),t.TgZ(36,"div",5)(37,"div",13)(38,"h2",14),t._uU(39),t.ALo(40,"transloco"),t.qZA()(),t.TgZ(41,"div")(42,"p",19),t.YNc(43,_e,3,4,"span",20),t.YNc(44,fe,3,3,"span",20),t.qZA()()(),t.TgZ(45,"div",5)(46,"div",13)(47,"h2",14),t._uU(48),t.ALo(49,"transloco"),t.qZA()(),t.TgZ(50,"div",16)(51,"div")(52,"p",17),t._uU(53),t.ALo(54,"transloco"),t.qZA(),t.TgZ(55,"p",19),t._uU(56),t.ALo(57,"date"),t.qZA()(),t.TgZ(58,"div")(59,"p",17),t._uU(60),t.ALo(61,"transloco"),t.qZA(),t.TgZ(62,"p",19),t._uU(63,"03 \u043d\u043e\u044f\u0431\u0440\u044f 2023 \u0432 19:52"),t.qZA()()()(),t.TgZ(64,"div",21),t.YNc(65,ge,12,10,"div",22),t.YNc(66,he,13,10,"div",22),t.qZA(),t.TgZ(67,"div",23),t.YNc(68,ve,3,4,"button",24),t.TgZ(69,"button",25),t.NdJ("click",function(){return o.addTransport()}),t._uU(70),t.ALo(71,"transloco"),t.qZA()(),t.TgZ(72,"div",26),t.YNc(73,Ze,3,5,"button",27),t.YNc(74,Te,3,5,"button",27),t.qZA()(),t.TgZ(75,"mat-dialog-actions",7)(76,"div",28)(77,"button",29),t._uU(78),t.ALo(79,"transloco"),t.qZA(),t.TgZ(80,"button",30),t.NdJ("click",function(){return o.submit()}),t._uU(81),t.ALo(82,"transloco"),t.qZA()()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,26,"about_driver")),t.xp6(12),t.AsE("",null==o.driver?null:o.driver.firstName," ",null==o.driver?null:o.driver.lastName,""),t.xp6(2),t.hij("# ",null==o.driver?null:o.driver.id,""),t.xp6(8),t.hij(" ",t.lcZ(25,28,"driver_contact")," "),t.xp6(6),t.Oqu(t.lcZ(31,30,"phone")),t.xp6(2),t.Q6J("ngIf",null==o.driver?null:o.driver.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==o.driver?null:o.driver.phoneNumbers),t.xp6(6),t.hij(" ",t.lcZ(40,32,"subscription")," "),t.xp6(4),t.Q6J("ngIf",null==o.driver?null:o.driver.subscription),t.xp6(1),t.Q6J("ngIf",!(null!=o.driver&&o.driver.subscription)),t.xp6(4),t.hij(" ",t.lcZ(49,34,"status")," "),t.xp6(5),t.Oqu(t.lcZ(54,36,"register_date")),t.xp6(3),t.Oqu(t.xi3(57,38,null==o.driver?null:o.driver.createdAt,"d MMMM y \u0432 HH:mm")),t.xp6(4),t.Oqu(t.lcZ(61,41,"last_enter")),t.xp6(5),t.Q6J("ngIf",null==o.driver?null:o.driver.passportFilePath),t.xp6(1),t.Q6J("ngIf",null==o.driver?null:o.driver.driverLicenseFilePath),t.xp6(2),t.Q6J("ngIf",(null==o.driver||null==o.driver.driverTransports?null:o.driver.driverTransports.length)>0),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(71,43,"add_transport")," "),t.xp6(3),t.Q6J("ngIf",!(null!=o.driver&&o.driver.blocked)),t.xp6(1),t.Q6J("ngIf",null==o.driver?null:o.driver.blocked),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(79,45,"send_push"),""),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(82,47,"save")," "))},dependencies:[_.y4,_.Ot,K.d,R.z,v.ez,v.sg,v.O5,v.Ov,v.uU,n.u5,n.UX,d.c,p.hX,w.Co,Z.Ps,Z.Hw,C.LD,g.ot,g.lW,g.RK,u.Is,u.ZT,u.uh,u.xY,u.H8,h.p0,p.lN,x.JX,f.TU,m.Tx,T.rP],styles:[".mat-mdc-dialog-container .mdc-dialog__surface{border-radius:6px 0 0 6px!important;padding:6px!important}.mat-mdc-dialog-content{max-height:83vh;scrollbar-color:#888 #eee;scrollbar-width:thin;padding:0!important}.mat-dialog-content::-webkit-scrollbar{width:2px}.mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}.mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}\n"],encapsulation:2})}return i})();var Ae=l(1983);function be(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Ce(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}const it=function(i){return{"is-invalid":i}},Fe=function(i,r){return{"fuse-mat-button text-white":i,"fuse-mat-button ":r}};let Ie=(()=>{class i{constructor(e,a,o,s){this.data=e,this._toaster=a,this._driverService=o,this._dialog=s,this.form=new n.cw({id:new n.NI(""),theme:new n.NI("",[n.kI.required]),description:new n.NI("",[n.kI.required])}),this.data&&this.form.patchValue({id:this.data?.id,theme:this.data?.theme,description:this.data?.description})}get f(){return this.form.controls}submit(){this.form.valid?this.form.value.id?this._driverService.update(this.form.value).subscribe(e=>{e.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._driverService.create(this.form.value).subscribe(e=>{e.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(B.d,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(u.WI),t.Y36(k._W),t.Y36(y.P),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-send-push"]],standalone:!0,features:[t.jDz],decls:31,vars:31,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"p-3"],["color","accent",1,"w-full"],["matInput","","formControlName","theme",3,"ngClass"],[4,"ngIf"],["matInput","","formControlName","description",3,"ngClass"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,be,3,3,"mat-error",8),t.qZA()(),t.TgZ(16,"div",5)(17,"mat-form-field",6)(18,"mat-label"),t._uU(19),t.ALo(20,"transloco"),t.qZA(),t._UZ(21,"textarea",9),t.YNc(22,Ce,3,3,"mat-error",8),t.qZA()()()(),t.TgZ(23,"mat-dialog-actions",10)(24,"div",11)(25,"button",12),t._uU(26),t.ALo(27,"transloco"),t.qZA(),t.TgZ(28,"button",13),t.NdJ("click",function(){return o.submit()}),t._uU(29),t.ALo(30,"transloco"),t.qZA()()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,14,"send_push")),t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(4),t.Oqu(t.lcZ(13,16,"theme")),t.xp6(2),t.Q6J("ngClass",t.VKq(24,it,o.f.theme.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.theme.errors?null:o.f.theme.errors.required),t.xp6(4),t.Oqu(t.lcZ(20,18,"description")),t.xp6(2),t.Q6J("ngClass",t.VKq(26,it,o.f.description.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.description.errors?null:o.f.description.errors.required),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(27,20,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(28,Fe,o.form.invalid||o.form.pristine,!o.form.invalid&&!o.form.pristine))("color","primary")("disabled",o.form.invalid||o.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(30,22,"save")," "))},dependencies:[_.y4,_.Ot,v.mk,w.Co,D.Fk,P.FA,d.c,d.Nt,p.KE,p.hX,p.TO,Z.Ps,Z.Hw,C.LD,g.ot,g.lW,g.RK,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,u.Is,u.ZT,u.uh,u.xY,u.H8,n.u5,v.O5,h.p0,p.lN,x.JX,f.TU,m.Tx,T.rP],encapsulation:2,changeDetection:0})}return i})();function Pe(i,r){1&i&&(t.TgZ(0,"p",47),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_transport_driver")))}function Le(i,r){1&i&&(t.TgZ(0,"p",47),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_transport_driver")))}function Ne(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ye(i,r){1&i&&(t.TgZ(0,"div",7)(1,"mat-form-field",7)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",48),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"number_of_transporter"),""))}function qe(i,r){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function we(i,r){1&i&&(t.TgZ(0,"div",7)(1,"mat-form-field",7)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",50),t.qZA(),t.TgZ(6,"mat-form-field",7)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",51),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function Je(i,r){1&i&&(t.TgZ(0,"div",7)(1,"mat-form-field",7)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"mat-select",52)(6,"mat-option",49),t._uU(7,"20(\u0444.)"),t.qZA(),t.TgZ(8,"mat-option",49),t._uU(9,"40(\u0444.)"),t.qZA(),t.TgZ(10,"mat-option",49),t._uU(11,"60(\u0444.)"),t.qZA(),t.TgZ(12,"mat-option",49),t._uU(13,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431"),t.qZA()()()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"volume_f"),""),t.xp6(2),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(2),t.Q6J("value","high"))}function Ue(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function De(i,r){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Qe(i,r){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ke(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",53),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onCheckboxChange(o))}),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"mat-checkbox",54),t._uU(5),t.ALo(6,"transloco"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode),t.xp6(1),t.Oqu(t.lcZ(3,3,"mode")),t.xp6(3),t.hij(" ",t.lcZ(6,5,"hook"),"")}}function je(i,r){1&i&&(t.TgZ(0,"div",7)(1,"mat-form-field",7)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",55),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"volume_l"),""))}function Oe(i,r){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Ye(i,r){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Me(i,r){if(1&i&&(t.TgZ(0,"mat-optgroup",56),t.YNc(1,Ye,2,2,"mat-option",13),t.qZA()),2&i){const e=r.$implicit,a=t.oxw();t.Q6J("label",e.name),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)("ngForTrackBy",a.trackByFn)}}function Se(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.techPassportFrontFilePath,t.LSH)}}function Ke(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportFrontFilePath,"driver")),t.LSH)}}function Be(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.techPassportBackFilePath,t.LSH)}}function Ee(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.techPassportBackFilePath,"driver")),t.LSH)}}function He(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.transportFrontFilePath,t.LSH)}}function Re(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.transportFrontFilePath,"driver")),t.LSH)}}function Ve(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.goodsTransportationLicenseCardFilePath,t.LSH)}}function We(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.goodsTransportationLicenseCardFilePath,"driver")),t.LSH)}}function Ge(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.driverLicenseFilePath,t.LSH)}}function $e(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.driverLicenseFilePath,"driver")),t.LSH)}}function ze(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.passportFilePath,t.LSH)}}function Xe(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.passportFilePath,"driver")),t.LSH)}}function ti(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.transportBackFilePath,t.LSH)}}function ei(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.transportBackFilePath,"driver")),t.LSH)}}function ii(i,r){if(1&i&&t._UZ(0,"img",57),2&i){const e=t.oxw();t.Q6J("src",e.transportSideFilePath,t.LSH)}}function oi(i,r){if(1&i&&(t._UZ(0,"img",57),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&i){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,e.transportSideFilePath,"driver")),t.LSH)}}const W=function(i){return{"is-invalid":i}},ai=function(i,r){return{"fuse-mat-button text-white":i,"fuse-mat-button ":r}};let ri=(()=>{class i{constructor(e,a,o,s,c,b,A,U){this.fb=e,this.data=a,this._toaster=o,this._driverService=s,this._typesService=c,this._subscriptionService=b,this._cdr=A,this._dialog=U,this.findList=[],this.selectedFileName="",this.passwordGenerator=new Y.E,this.viewText=!1,this.citiesSelected=new n.NI,this.selectTechnicalRoomFilterCtrl=new n.NI,this.isRefrigeratorMode=!1,this.roles=[],this.subscription=[],this.edit=!1,this.formData=new FormData,this.form=this.fb.group({id:new n.NI(""),driverId:new n.NI(""),transportId:new n.NI(""),name:new n.NI("",[n.kI.required]),cubicCapacity:new n.NI("",[n.kI.required]),stateNumber:new n.NI("",[n.kI.required]),transportKindIds:new n.NI([]),transportTypeIds:new n.NI([]),loadingMethodIds:new n.NI([]),cargoTypeIds:new n.NI([]),refrigeratorFrom:new n.NI(""),refrigeratorTo:new n.NI(""),refrigeratorCount:new n.NI(""),isHook:new n.NI(""),isAdr:new n.NI(!1),techPassportFrontFilePath:new n.NI("",[n.kI.required]),techPassportBackFilePath:new n.NI("",[n.kI.required]),transportFrontFilePath:new n.NI("",[n.kI.required]),transportBackFilePath:new n.NI("",[n.kI.required]),transportSideFilePath:new n.NI("",[n.kI.required]),goodsTransportationLicenseCardFilePath:new n.NI("",[n.kI.required]),driverLicenseFilePath:new n.NI("",[n.kI.required]),passportFilePath:new n.NI("",[n.kI.required])}),this.form.patchValue({driverId:a.driverId,transportId:a.transportId}),this.changeValue(),(0,$.D)({currencies:this._typesService.getCurrencies(),cargoTypes:this._typesService.getCargoTypes(),transportTypes:this._typesService.getTransportTypes(),packagesTypes:this._typesService.getPackages(),cargoLoadingMethods:this._typesService.getCargoLoadingMethod(),transportKinds:this._typesService.getTransportKinds()}).subscribe({next:I=>{this.currencies=I.currencies.data,this.cargoTypes=I.cargoTypes.data,this.transportTypes=I.transportTypes.data,this.packagesTypes=I.packagesTypes.data,this.cargoLoadingMethods=I.cargoLoadingMethods.data,this.transportKinds=I.transportKinds.data},error:I=>{console.error("Error fetching currencies and cargo types:",I)}})}ngOnInit(){this.f.transportId.value&&this._driverService.getTransportWithDriver(this.f.driverId.value,this.f.transportId.value).subscribe(e=>{console.log(e),this.techPassportFrontFilePath=e.data[0].techPassportFrontFilePath,this.techPassportBackFilePath=e.data[0].techPassportBackFilePath,this.transportFrontFilePath=e.data[0].transportFrontFilePath,this.goodsTransportationLicenseCardFilePath=e.data[0].goodsTransportationLicenseCardFilePath,this.driverLicenseFilePath=e.data[0].driverLicenseFilePath,this.passportFilePath=e.data[0].passportFilePath,this.edit=!0,this.form.get("transportKindIds").setValue(e.data[0]?.transportKinds),this.form.get("loadingMethodIds").setValue(e.data[0]?.cargoLoadMethods),this.form.get("transportTypeIds").setValue(e.data[0]?.transportTypes),this.form.get("cargoTypeIds").setValue(e.data[0]?.cargoTypes),this.form.patchValue({name:e.data[0]?.name,isHook:e.data[0]?.isHook,isAdr:e.data[0]?.isAdr,cubicCapacity:e.data[0]?.cubicCapacity,stateNumber:e.data[0]?.stateNumber,techPassportFrontFilePath:e.data[0]?.techPassportFrontFilePath,techPassportBackFilePath:e.data[0]?.techPassportBackFilePath,transportFrontFilePath:e.data[0]?.transportFrontFilePath,goodsTransportationLicenseCardFilePath:e.data[0]?.goodsTransportationLicenseCardFilePath,driverLicenseFilePath:e.data[0]?.driverLicenseFilePath,passportFilePath:e.data[0]?.passportFilePath,refrigeratorFrom:e.data[0]?.refrigeratorFrom,refrigeratorTo:e.data[0]?.refrigeratorTo,refrigeratorCount:e.data[0]?.refrigeratorCount})})}changeValue(){this.form.get("transportKindIds").valueChanges.subscribe(e=>{e&&(this.isAutotransport=e?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=e?.includes("\u0420\u0435\u0444\u0440\u0435\u0436\u0430\u0442\u043e\u0440"),this.isCistern=e?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=e?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437"))})}onFileSelected(e,a){const o=e.target.files[0];switch(a){case"techPassportFrontFilePath":this.form.patchValue({techPassportFrontFilePath:o});case"techPassportBackFilePath":this.form.patchValue({techPassportBackFilePath:o});case"transportFrontFilePath":this.form.patchValue({transportFrontFilePath:o});case"transportBackFilePath":this.form.patchValue({transportBackFilePath:o});case"transportSideFilePath":this.form.patchValue({transportSideFilePath:o});case"goodsTransportationLicenseCardFilePath":this.form.patchValue({goodsTransportationLicenseCardFilePath:o});case"driverLicenseFilePath":this.form.patchValue({driverLicenseFilePath:o});case"passportFilePath":this.form.patchValue({passportFilePath:o})}}getImageUrl(e){const a=this.form.get(`${e}`).value;return a instanceof File?URL.createObjectURL(a):""}generate(){this.form.patchValue({password:this.passwordGenerator.generateRandomPassword()})}getSubscription(){this._subscriptionService.getAll().subscribe(e=>{this.subscription=e.data})}findCity(e){var a=this;return O(function*(){e.target.value.toString().trim().toLowerCase().length>=2?a.viewText=!0:(a.viewText=!1,a.findList=[])})()}get f(){return this.form.controls}selectFile(e,a){const o=e.target.files[0];if(o){this.formData.append(a,o,(new Date).getTime().toString()+".jpg");const s=new FileReader;s.onload=()=>{this[a]=s.result,this._cdr.detectChanges()},s.readAsDataURL(o)}}submit(){this.formData.append("id",this.form.get("id").value),this.formData.append("driverId",this.form.get("driverId").value),this.formData.append("transportId",this.form.get("transportId").value),this.formData.append("name",this.form.get("name").value),this.formData.append("cubicCapacity",this.form.get("cubicCapacity").value),this.formData.append("stateNumber",this.form.get("stateNumber").value),this.form.get("refrigeratorFrom").value&&this.formData.append("refrigeratorFrom",this.form.get("refrigeratorFrom").value),this.form.get("refrigeratorTo").value&&this.formData.append("refrigeratorTo",this.form.get("refrigeratorTo").value),this.form.get("refrigeratorCount").value&&this.formData.append("refrigeratorCount",this.form.get("refrigeratorCount").value),this.form.get("isHook").value&&this.formData.append("isHook",this.form.get("isHook").value),this.formData.append("refrigeratorTo",this.form.get("refrigeratorTo").value),this.formData.append("refrigeratorCount",this.form.get("refrigeratorCount").value),this.formData.append("isHook",this.form.get("isHook").value),this.formData.append("isAdr",this.form.get("isAdr").value),this.form.get("id").value?(this.formData.append("transportKindIds",JSON.stringify(this.setIds(this.form.get("transportKindIds").value))),this.formData.append("transportTypeIds",JSON.stringify(this.setIds(this.form.get("transportTypeIds").value))),this.formData.append("loadingMethodIds",JSON.stringify(this.setIds(this.form.get("loadingMethodIds").value))),this.formData.append("cargoTypeIds",JSON.stringify(this.setIds(this.form.get("cargoTypeIds").value)))):(this.formData.append("transportKindIds",JSON.stringify(this.form.get("transportKindIds").value)),this.formData.append("transportTypeIds",JSON.stringify(this.form.get("transportTypeIds").value)),this.formData.append("loadingMethodIds",JSON.stringify(this.form.get("loadingMethodIds").value)),this.formData.append("cargoTypeIds",JSON.stringify(this.form.get("cargoTypeIds").value))),"string"==typeof this.form.get("techPassportFrontFilePath")?.value&&this.formData.append("techPassportFrontFilePath",this.form.get("techPassportFrontFilePath")?.value),"string"==typeof this.form.get("techPassportBackFilePath")?.value&&this.formData.append("techPassportBackFilePath",this.form.get("techPassportBackFilePath")?.value),"string"==typeof this.form.get("transportFrontFilePath")?.value&&this.formData.append("transportFrontFilePath",this.form.get("transportFrontFilePath")?.value),"string"==typeof this.form.get("transportBackFilePath")?.value&&this.formData.append("transportBackFilePath",this.form.get("transportBackFilePath")?.value),"string"==typeof this.form.get("transportSideFilePath")?.value&&this.formData.append("transportSideFilePath",this.form.get("transportSideFilePath")?.value),"string"==typeof this.form.get("goodsTransportationLicenseCardFilePath")?.value&&this.formData.append("goodsTransportationLicenseCardFilePath",this.form.get("goodsTransportationLicenseCardFilePath")?.value),"string"==typeof this.form.get("driverLicenseFilePath")?.value&&this.formData.append("driverLicenseFilePath",this.form.get("driverLicenseFilePath")?.value),"string"==typeof this.form.get("passportFilePath")?.value&&this.formData.append("passportFilePath",this.form.get("passportFilePath")?.value);const e=(0,S.l)(this.formData);this.form.valid?this._driverService.updateTransportDriver(e).pipe(a=>((0,M.b)(a),a)).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430  \u0443\u0441\u043f\u0435\u0448\u043d\u043e")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(B.d,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}trackByFn(e){return e.id}compareFn(e,a){if(e&&a)return e===a.id}setIds(e){return e.map(a=>a.id)}setId(e){return e.id}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(n.qu),t.Y36(u.WI),t.Y36(k._W),t.Y36(y.P),t.Y36(E.K),t.Y36(H.F),t.Y36(t.sBO),t.Y36(u.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-verification"]],standalone:!0,features:[t.jDz],decls:175,vars:132,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-4"],[1,"px-4"],[1,"flex","items-center"],["type","text","matInput","","formControlName","name",3,"ngClass"],[4,"ngIf"],["type","number","matInput","","formControlName","cubicCapacity"],["class","flex items-center",4,"ngIf"],["formControlName","transportKindIds","multiple","",3,"compareWith"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["type","text","matInput","","formControlName","stateNumber",3,"ngClass"],["formControlName","transportTypeIds","multiple","",3,"compareWith","ngClass"],["formControlName","isAdr",1,"py-2"],["formControlName","loadingMethodIds","multiple","",3,"compareWith"],["formControlName","cargoTypeIds","multiple","",3,"compareWith"],[3,"label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-wrap","gap-4","items-end","justify-between","px-3"],[1,"w-40"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","techPassportFrontFilePath","id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["formControlName","techPassportBackFilePath","id","avatar-file-input8","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input8","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","transportFrontFilePath","id","avatar-file-input2","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input2","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","goodsTransportationLicenseCardFilePath","id","avatar-file-input3","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input3","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","driverLicenseFilePath","id","avatar-file-input4","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input4","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","passportFilePath","id","avatar-file-input5","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input5","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","transportBackFilePath","id","avatar-file-input6","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input6","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["formControlName","transportSideFilePath","id","avatar-file-input7","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input7","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["type","number","matInput","","formControlName","refrigeratorCount"],[3,"value"],["type","number","matInput","","formControlName","refrigeratorFrom"],["type","number","matInput","","formControlName","refrigeratorTo"],["formControlName","containerVolume",3,"value"],[3,"checked","change"],["formControlName","isHook"],["type","number","matInput","","formControlName","cisternVolume"],[3,"label"],[1,"object-fill","w-full","h-full",3,"src"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.YNc(1,Pe,3,3,"p",1),t.YNc(2,Le,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,Ne,3,3,"mat-error",9),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"input",10),t.qZA(),t.YNc(21,ye,6,3,"div",11),t.TgZ(22,"mat-form-field",7)(23,"mat-label"),t._uU(24),t.ALo(25,"transloco"),t.qZA(),t.TgZ(26,"mat-select",12),t.YNc(27,qe,2,2,"mat-option",13),t.qZA()(),t.YNc(28,we,11,6,"div",11),t.YNc(29,Je,14,8,"div",11),t.qZA(),t.TgZ(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),t._uU(33),t.ALo(34,"transloco"),t.qZA(),t._UZ(35,"input",14),t.YNc(36,Ue,3,3,"mat-error",9),t.qZA(),t.TgZ(37,"mat-form-field",7)(38,"mat-label"),t._uU(39),t.ALo(40,"transloco"),t.qZA(),t.TgZ(41,"mat-select",15),t.YNc(42,De,2,2,"mat-option",13),t.qZA(),t.YNc(43,Qe,3,3,"mat-error",9),t.qZA(),t.TgZ(44,"mat-slide-toggle",16),t._uU(45),t.ALo(46,"transloco"),t.qZA(),t.YNc(47,ke,7,7,"div",9),t.YNc(48,je,6,3,"div",11),t.qZA(),t.TgZ(49,"div",6)(50,"mat-form-field",7)(51,"mat-label"),t._uU(52),t.ALo(53,"transloco"),t.qZA(),t.TgZ(54,"mat-select",17),t.YNc(55,Oe,2,2,"mat-option",13),t.qZA()(),t.TgZ(56,"mat-form-field",7)(57,"mat-label"),t._uU(58),t.ALo(59,"transloco"),t.qZA(),t.TgZ(60,"mat-select",18),t.YNc(61,Me,2,3,"mat-optgroup",19),t.qZA()()()(),t.TgZ(62,"div",20)(63,"div",21)(64,"mat-label"),t._uU(65),t.ALo(66,"transloco"),t.qZA(),t.TgZ(67,"div",22),t._UZ(68,"div",23),t.TgZ(69,"div",24)(70,"div")(71,"input",25),t.NdJ("change",function(c){return o.selectFile(c,"techPassportFrontFilePath")}),t.qZA(),t.TgZ(72,"label",26),t._UZ(73,"mat-icon",27),t.qZA()()(),t.YNc(74,Se,1,1,"img",28),t.YNc(75,Ke,3,6,"img",28),t.qZA()(),t.TgZ(76,"div",21)(77,"mat-label"),t._uU(78),t.ALo(79,"transloco"),t.qZA(),t.TgZ(80,"div",22),t._UZ(81,"div",23),t.TgZ(82,"div",24)(83,"div")(84,"input",29),t.NdJ("change",function(c){return o.selectFile(c,"techPassportBackFilePath")}),t.qZA(),t.TgZ(85,"label",30),t._UZ(86,"mat-icon",27),t.qZA()()(),t.YNc(87,Be,1,1,"img",28),t.YNc(88,Ee,3,6,"img",28),t.qZA()(),t.TgZ(89,"div",21)(90,"mat-label"),t._uU(91),t.ALo(92,"transloco"),t.qZA(),t.TgZ(93,"div",22),t._UZ(94,"div",23),t.TgZ(95,"div",24)(96,"div")(97,"input",31),t.NdJ("change",function(c){return o.selectFile(c,"transportFrontFilePath")}),t.qZA(),t.TgZ(98,"label",32),t._UZ(99,"mat-icon",27),t.qZA()()(),t.YNc(100,He,1,1,"img",28),t.YNc(101,Re,3,6,"img",28),t.qZA()(),t.TgZ(102,"div",21)(103,"mat-label"),t._uU(104),t.ALo(105,"transloco"),t.qZA(),t.TgZ(106,"div",22),t._UZ(107,"div",23),t.TgZ(108,"div",24)(109,"div")(110,"input",33),t.NdJ("change",function(c){return o.selectFile(c,"goodsTransportationLicenseCardFilePath")}),t.qZA(),t.TgZ(111,"label",34),t._UZ(112,"mat-icon",27),t.qZA()()(),t.YNc(113,Ve,1,1,"img",28),t.YNc(114,We,3,6,"img",28),t.qZA()(),t.TgZ(115,"div",21)(116,"mat-label"),t._uU(117),t.ALo(118,"transloco"),t.qZA(),t.TgZ(119,"div",22),t._UZ(120,"div",23),t.TgZ(121,"div",24)(122,"div")(123,"input",35),t.NdJ("change",function(c){return o.selectFile(c,"driverLicenseFilePath")}),t.qZA(),t.TgZ(124,"label",36),t._UZ(125,"mat-icon",27),t.qZA()()(),t.YNc(126,Ge,1,1,"img",28),t.YNc(127,$e,3,6,"img",28),t.qZA()(),t.TgZ(128,"div",21)(129,"mat-label"),t._uU(130),t.ALo(131,"transloco"),t.qZA(),t.TgZ(132,"div",22),t._UZ(133,"div",23),t.TgZ(134,"div",24)(135,"div")(136,"input",37),t.NdJ("change",function(c){return o.selectFile(c,"passportFilePath")}),t.qZA(),t.TgZ(137,"label",38),t._UZ(138,"mat-icon",27),t.qZA()()(),t.YNc(139,ze,1,1,"img",28),t.YNc(140,Xe,3,6,"img",28),t.qZA()(),t.TgZ(141,"div",21)(142,"mat-label"),t._uU(143),t.ALo(144,"transloco"),t.qZA(),t.TgZ(145,"div",22),t._UZ(146,"div",23),t.TgZ(147,"div",24)(148,"div")(149,"input",39),t.NdJ("change",function(c){return o.selectFile(c,"transportBackFilePath")}),t.qZA(),t.TgZ(150,"label",40),t._UZ(151,"mat-icon",27),t.qZA()()(),t.YNc(152,ti,1,1,"img",28),t.YNc(153,ei,3,6,"img",28),t.qZA()(),t.TgZ(154,"div",21)(155,"mat-label"),t._uU(156),t.ALo(157,"transloco"),t.qZA(),t.TgZ(158,"div",22),t._UZ(159,"div",23),t.TgZ(160,"div",24)(161,"div")(162,"input",41),t.NdJ("change",function(c){return o.selectFile(c,"transportSideFilePath")}),t.qZA(),t.TgZ(163,"label",42),t._UZ(164,"mat-icon",27),t.qZA()()(),t.YNc(165,ii,1,1,"img",28),t.YNc(166,oi,3,6,"img",28),t.qZA()()()()(),t.TgZ(167,"mat-dialog-actions",43)(168,"div",44)(169,"button",45),t._uU(170),t.ALo(171,"transloco"),t.qZA(),t.TgZ(172,"button",46),t.NdJ("click",function(){return o.submit()}),t._uU(173),t.ALo(174,"transloco"),t.qZA()()()),2&a&&(t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",o.edit),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(5),t.Oqu(t.lcZ(13,87,"name")),t.xp6(2),t.Q6J("ngClass",t.VKq(123,W,o.f.name.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.name.errors?null:o.f.name.errors.required),t.xp6(3),t.Oqu(t.lcZ(19,89,"volume_m")),t.xp6(3),t.Q6J("ngIf",o.isAutotransport),t.xp6(3),t.hij(" ",t.lcZ(25,91,"transport_cargo"),""),t.xp6(2),t.Q6J("compareWith",o.compareFn),t.xp6(1),t.Q6J("ngForOf",o.transportKinds)("ngForTrackBy",o.trackByFn),t.xp6(1),t.Q6J("ngIf",o.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",o.isContainer),t.xp6(4),t.hij("",t.lcZ(34,93,"state_number")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(125,W,o.f.stateNumber.errors)),t.xp6(1),t.Q6J("ngIf",null==o.f.stateNumber.errors?null:o.f.stateNumber.errors.required),t.xp6(3),t.hij(" ",t.lcZ(40,95,"type_transport"),""),t.xp6(2),t.Q6J("compareWith",o.compareFn)("ngClass",t.VKq(127,W,o.f.transportTypeIds.errors)),t.xp6(1),t.Q6J("ngForOf",o.transportTypes)("ngForTrackBy",o.trackByFn),t.xp6(1),t.Q6J("ngIf",(null==o.f.transportTypeIds.errors?null:o.f.transportTypeIds.errors.required)&&o.f.transportTypeIds.touched),t.xp6(2),t.hij(" ",t.lcZ(46,97,"isAdr")," "),t.xp6(2),t.Q6J("ngIf",o.isRefrigerator),t.xp6(1),t.Q6J("ngIf",o.isCistern),t.xp6(4),t.hij(" ",t.lcZ(53,99,"loading_method"),""),t.xp6(2),t.Q6J("compareWith",o.compareFn),t.xp6(1),t.Q6J("ngForOf",o.cargoLoadingMethods)("ngForTrackBy",o.trackByFn),t.xp6(3),t.hij(" ",t.lcZ(59,101,"cargo_type"),""),t.xp6(2),t.Q6J("compareWith",o.compareFn),t.xp6(1),t.Q6J("ngForOf",o.cargoTypes)("ngForTrackBy",o.trackByFn),t.xp6(4),t.hij("",t.lcZ(66,103,"tech_passport_front")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.techPassportFrontFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.techPassportFrontFilePath&&o.edit),t.xp6(3),t.Oqu(t.lcZ(79,105,"tech_passport_back")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.techPassportBackFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.techPassportBackFilePath&&o.edit),t.xp6(3),t.hij("",t.lcZ(92,107,"transport_front_photo")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.transportFrontFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.transportFrontFilePath&&o.edit),t.xp6(3),t.Oqu(t.lcZ(105,109,"good_transportation_lisense")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.goodsTransportationLicenseCardFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.goodsTransportationLicenseCardFilePath&&o.edit),t.xp6(3),t.hij("",t.lcZ(118,111,"driver_lisense_card")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.driverLicenseFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.driverLicenseFilePath&&o.edit),t.xp6(3),t.hij("",t.lcZ(131,113,"driver_lisense_card")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.passportFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.passportFilePath&&o.edit),t.xp6(3),t.hij("",t.lcZ(144,115,"transport_back_photo")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.transportBackFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.transportBackFilePath&&o.edit),t.xp6(3),t.hij("",t.lcZ(157,117,"transport_side_photo")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",o.transportSideFilePath&&!o.edit),t.xp6(1),t.Q6J("ngIf",o.transportSideFilePath&&o.edit),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(171,119,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(129,ai,!o.form.invalid,o.form.invalid))("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(174,121,"save")," "))},dependencies:[_.y4,_.Ot,v.Ov,K.d,R.z,v.mk,v.ax,C.LD,p.KE,p.hX,p.TO,C.gD,J.ey,J.Nv,w.Co,D.Fk,P.FA,d.c,d.Nt,Z.Ps,Z.Hw,g.ot,g.lW,g.RK,n.UX,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.sg,n.u,u.Is,u.ZT,u.uh,u.xY,u.H8,n.u5,v.O5,h.p0,p.lN,x.JX,f.TU,m.Tx,T.rP,T.Rr],encapsulation:2,changeDetection:0})}return i})();var ni=l(3045),si=l(6530);function li(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.add())}),t._UZ(1,"mat-icon",48),t.TgZ(2,"span",49),t._uU(3),t.ALo(4,"transloco"),t.qZA()()}2&i&&(t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(2),t.Oqu(t.lcZ(4,3,"add")))}function ci(i,r){if(1&i&&(t.TgZ(0,"mat-option",50),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1," No "),t.qZA())}function di(i,r){if(1&i&&(t.TgZ(0,"mat-cell",52),t._uU(1),t.qZA()),2&i){const e=r.index;t.xp6(1),t.hij(" ",e+1," ")}}function mi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1," ID "),t.qZA())}function ui(i,r){if(1&i&&(t.TgZ(0,"mat-cell",52),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function _i(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"full_name")," "))}function fi(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.AsE(" ",null==e?null:e.firstName," ",null==e?null:e.lastName,"")}}function gi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"phone")," "))}function hi(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.phoneNumber," ")}}function vi(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t.YNc(1,hi,2,1,"span",53),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e.phoneNumbers)}}function Zi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"type_transport")," "))}function Ti(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function xi(i,r){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,Ti,2,1,"div",53),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e.transportTypes)}}function Ai(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t.YNc(1,xi,2,1,"span",53),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e.driverTransports)}}function bi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"register_date")," "))}function Ci(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.createdAt,"dd/MM/yyyy")," ")}}function Fi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"last_enter")," "))}function Ii(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.last_inter," ")}}function Pi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"status")," "))}function Li(i,r){1&i&&t._UZ(0,"button",56)}function Ni(i,r){1&i&&t._UZ(0,"button",57)}function yi(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t.YNc(1,Li,1,0,"button",54),t.YNc(2,Ni,1,0,"button",55),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.blocked)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.blocked)}}function qi(i,r){1&i&&(t.TgZ(0,"mat-header-cell",51),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"subscription")," "))}function wi(i,r){if(1&i&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.subscription?null:e.subscription.name," ")}}function Ji(i,r){1&i&&t._UZ(0,"mat-header-cell")}function Ui(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.block(o.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"lock"),t.qZA(),t._uU(3),t.ALo(4,"transloco"),t.qZA()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"block")," "))}function Di(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.active(o.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"lock_open"),t.qZA(),t._uU(3),t.ALo(4,"transloco"),t.qZA()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"unblock")," "))}function Qi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"div",58)(2,"button",59),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,60)(7,"button",61),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.edit(s.id))}),t.TgZ(8,"mat-icon"),t._uU(9,"edit"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA(),t.TgZ(12,"button",62),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.detail(s.id))}),t.TgZ(13,"mat-icon"),t._uU(14,"remove_red_eye"),t.qZA(),t._uU(15),t.ALo(16,"transloco"),t.qZA(),t.YNc(17,Ui,5,3,"button",63),t.YNc(18,Di,5,3,"button",63),t.TgZ(19,"button",64),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.delete(s.id))}),t.TgZ(20,"mat-icon"),t._uU(21,"remove"),t.qZA(),t._uU(22),t.ALo(23,"transloco"),t.qZA()()()()}if(2&i){const e=r.$implicit,a=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("disabled",e.blocked),t.xp6(3),t.hij(" ",t.lcZ(11,8,"edit")," "),t.xp6(5),t.hij(" ",t.lcZ(16,10,"detail")," "),t.xp6(2),t.Q6J("ngIf",!e.blocked),t.xp6(1),t.Q6J("ngIf",e.blocked),t.xp6(1),t.Q6J("disabled",e.blocked),t.xp6(3),t.hij(" ",t.lcZ(23,12,"delete")," ")}}function ki(i,r){1&i&&t._UZ(0,"mat-header-row")}function ji(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-row",65),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.detail(s.id))}),t.qZA()}}function Oi(i,r){1&i&&t._UZ(0,"app-no-data-placeholder",66)}const Yi=function(){return[10,20,50,100,200]},Mi=[{path:"",component:(()=>{class i{constructor(e,a,o,s,c,b){this._driversService=e,this._permissionService=a,this._dialog=o,this._typeService=s,this.utilsService=c,this.cdr=b,this.cities=[],this.transportKinds=[],this.filters={driverId:"",firstName:"",phoneNumber:"",transportKindId:"",isSubscribed:"",isVerified:"",createdAtFrom:"",createdAtTo:"",lastLoginFrom:"",lastLoginTo:""},this.pageParams={page:0,limit:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.displayedColumns=["index","id","full_name","phone","type_transport","register_date","last_enter","status","subscription","actions"],this.dataSource=new h.by([])}ngOnInit(){this.getAllDrivers(this.pageParams),this._typeService.getTransportKinds().subscribe(e=>{this.transportKinds=e.data}),this.cdr.detectChanges()}hasPermission(e){return this.utilsService.hasPermission(e)}clearFilters(){this.filters={driverId:"",firstName:"",phoneNumber:"",transportKindId:"",isSubscribed:"",isVerified:"",createdAtFrom:"",createdAtTo:"",lastLoginFrom:"",lastLoginTo:""},this.getAllDrivers(this.pageParams)}filterDrivers(){}verification(e,a){this._dialog.open(ri,{minWidth:"60vw",maxWidth:"80vw",minHeight:"60vh",maxHeight:"100vh",disableClose:!0,autoFocus:!1,data:{driverId:e,transportId:a}}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}getAllDrivers(e){this._driversService.getAll(Object.assign(this.filters,e)).subscribe(a=>{this.dataSource.data=a?.data?.content,this.pageParams.limit=a?.data?.per_page,this.pageParams.page=a?.data?.pageIndex,this.pageParams.totalPagesCount=a?.data?.totalPagesCount})}onPageChange(e){this.pageParams.limit=e.pageSize,this.pageParams.page=e.pageIndex,this.getAllDrivers(this.pageParams)}send(){this._dialog.open(Ie,{minWidth:"20vw",maxWidth:"30vw",minHeight:"30vh",maxHeight:"50vh",autoFocus:!1})}detail(e){this._dialog.open(xe,{width:"500px",height:"100vh",autoFocus:!1,data:e,position:{top:"0",right:"0"},maxHeight:"100%"})}add(){this._dialog.open(tt,{minWidth:"40vw",maxWidth:"50vw",minHeight:"42vh",maxHeight:"80vh",autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}block(e){this._dialog.open(et.R,{minWidth:"20vw",maxWidth:"40vw",minHeight:"42vh",maxHeight:"85vh",data:e,autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}active(e){this._driversService.active(e).subscribe(()=>{this.getAllDrivers(this.pageParams)})}edit(e){this._dialog.open(tt,{minWidth:"40vw",maxWidth:"50vw",minHeight:"42vh",maxHeight:"80vh",autoFocus:!1,data:e}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}addTransport(e,a){this._dialog.open(j,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"100vh",disableClose:!0,autoFocus:!1,data:{driverId:e,transportId:a}}).afterClosed().subscribe(()=>{this.getAllDrivers(this.pageParams)})}delete(e){this._driversService.delete(e).subscribe(()=>{this.getAllDrivers(this.pageParams)})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(y.P),t.Y36(ni.YI),t.Y36(u.uw),t.Y36(E.K),t.Y36(si.I),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-drivers"]],viewQuery:function(a,o){if(1&a&&t.Gf(f.NW,5),2&a){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:113,vars:84,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",1,"sm:inline-flex","ml-3",3,"color","click"],["class"," sm:inline-flex ml-3","mat-flat-button","",3,"color","click",4,"ngIf"],[1,"flex","items-baseline","flex-wrap"],["color","accent",1,"w-50","px-1"],["matInput","","name","ID",3,"placeholder","ngModel","ngModelChange"],["matInput","","name","name",3,"placeholder","ngModel","ngModelChange"],["matInput","","name","phone",3,"placeholder","ngModel","ngModelChange"],[1,"flex","items-center","w-50"],["name","transportKindId",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","isSubscribed",3,"placeholder","ngModel","ngModelChange"],["value","true"],["value","false"],["name","isVerified",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","placeholder","ngModelChange"],["matIconSuffix","",3,"for"],["picker1",""],["picker",""],["picker2",""],["picker3",""],[1,"px-1"],["mat-flat-button","","color","warn",1,"",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"mt-4","shadow-table"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","full_name"],[4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","type_transport"],["matColumnDef","register_date"],["matColumnDef","last_enter"],["matColumnDef","status"],["matColumnDef","subscription"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],["class","m-1",4,"ngIf"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[3,"value"],[1,"font-bold"],[1,"index-column"],[4,"ngFor","ngForOf"],["class","bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full",4,"ngIf"],["class","bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-full",4,"ngIf"],[1,"bg-green-500","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"disabled","click"],["mat-menu-item","","color","accent",3,"click"],["mat-menu-item","","color","accent",3,"click",4,"ngIf"],["mat-menu-item","","color","warn",3,"disabled","click"],[3,"click"],[1,"m-1"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return o.send()}),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"transloco"),t.qZA()(),t.YNc(12,li,5,5,"button",6),t.qZA()(),t.TgZ(13,"div",7)(14,"mat-form-field",8)(15,"input",9),t.NdJ("ngModelChange",function(c){return o.filters.driverId=c}),t.ALo(16,"transloco"),t.qZA()(),t.TgZ(17,"mat-form-field",8)(18,"input",10),t.NdJ("ngModelChange",function(c){return o.filters.firstName=c}),t.ALo(19,"transloco"),t.qZA()(),t.TgZ(20,"mat-form-field",8)(21,"input",11),t.NdJ("ngModelChange",function(c){return o.filters.phoneNumber=c}),t.ALo(22,"transloco"),t.qZA()(),t.TgZ(23,"mat-form-field",12)(24,"mat-select",13),t.NdJ("ngModelChange",function(c){return o.filters.transportKindId=c}),t.ALo(25,"transloco"),t.YNc(26,ci,2,2,"mat-option",14),t.qZA()(),t.TgZ(27,"mat-form-field",8)(28,"mat-select",15),t.NdJ("ngModelChange",function(c){return o.filters.isSubscribed=c}),t.ALo(29,"transloco"),t.TgZ(30,"mat-option",16),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t.TgZ(33,"mat-option",17),t._uU(34),t.ALo(35,"transloco"),t.qZA()()(),t.TgZ(36,"mat-form-field",8)(37,"mat-select",18),t.NdJ("ngModelChange",function(c){return o.filters.isVerified=c}),t.ALo(38,"transloco"),t.TgZ(39,"mat-option",16),t._uU(40),t.ALo(41,"transloco"),t.qZA(),t.TgZ(42,"mat-option",17),t._uU(43),t.ALo(44,"transloco"),t.qZA()()(),t.TgZ(45,"mat-form-field",8)(46,"input",19),t.NdJ("ngModelChange",function(c){return o.filters.createdAtFrom=c}),t.ALo(47,"transloco"),t.qZA(),t._UZ(48,"mat-datepicker-toggle",20)(49,"mat-datepicker",null,21),t.qZA(),t.TgZ(51,"mat-form-field",8)(52,"input",19),t.NdJ("ngModelChange",function(c){return o.filters.createdAtTo=c}),t.ALo(53,"transloco"),t.qZA(),t._UZ(54,"mat-datepicker-toggle",20)(55,"mat-datepicker",null,22),t.qZA(),t.TgZ(57,"mat-form-field",8)(58,"input",19),t.NdJ("ngModelChange",function(c){return o.filters.lastLoginFrom=c}),t.ALo(59,"transloco"),t.qZA(),t._UZ(60,"mat-datepicker-toggle",20)(61,"mat-datepicker",null,23),t.qZA(),t.TgZ(63,"mat-form-field",8)(64,"input",19),t.NdJ("ngModelChange",function(c){return o.filters.lastLoginTo=c}),t.ALo(65,"transloco"),t.qZA(),t._UZ(66,"mat-datepicker-toggle",20)(67,"mat-datepicker",null,24),t.qZA(),t.TgZ(69,"div",25)(70,"button",26),t.NdJ("click",function(){return o.clearFilters()}),t._uU(71),t.ALo(72,"transloco"),t.qZA()(),t.TgZ(73,"div",25)(74,"button",27),t.NdJ("click",function(){return o.getAllDrivers()}),t._uU(75),t.ALo(76,"transloco"),t.qZA()()(),t.TgZ(77,"div",28)(78,"mat-table",29),t.ynx(79,30),t.YNc(80,pi,2,0,"mat-header-cell",31),t.YNc(81,di,2,1,"mat-cell",32),t.BQk(),t.ynx(82,33),t.YNc(83,mi,2,0,"mat-header-cell",31),t.YNc(84,ui,2,1,"mat-cell",32),t.BQk(),t.ynx(85,34),t.YNc(86,_i,3,3,"mat-header-cell",31),t.YNc(87,fi,2,2,"mat-cell",35),t.BQk(),t.ynx(88,36),t.YNc(89,gi,3,3,"mat-header-cell",31),t.YNc(90,vi,2,1,"mat-cell",35),t.BQk(),t.ynx(91,37),t.YNc(92,Zi,3,3,"mat-header-cell",31),t.YNc(93,Ai,2,1,"mat-cell",35),t.BQk(),t.ynx(94,38),t.YNc(95,bi,3,3,"mat-header-cell",31),t.YNc(96,Ci,3,4,"mat-cell",35),t.BQk(),t.ynx(97,39),t.YNc(98,Fi,3,3,"mat-header-cell",31),t.YNc(99,Ii,2,1,"mat-cell",35),t.BQk(),t.ynx(100,40),t.YNc(101,Pi,3,3,"mat-header-cell",31),t.YNc(102,yi,3,2,"mat-cell",35),t.BQk(),t.ynx(103,41),t.YNc(104,qi,3,3,"mat-header-cell",31),t.YNc(105,wi,2,1,"mat-cell",35),t.BQk(),t.ynx(106,42),t.YNc(107,Ji,1,0,"mat-header-cell",43),t.YNc(108,Qi,24,14,"mat-cell",35),t.BQk(),t.YNc(109,ki,1,0,"mat-header-row",44),t.YNc(110,ji,1,0,"mat-row",45),t.qZA(),t.YNc(111,Oi,1,0,"app-no-data-placeholder",46),t.TgZ(112,"mat-paginator",47),t.NdJ("page",function(c){return o.onPageChange(c)}),t.qZA()()()()),2&a){const s=t.MAs(50),c=t.MAs(56),b=t.MAs(62),A=t.MAs(68);t.xp6(5),t.Oqu(t.lcZ(6,47,"drivers")),t.xp6(3),t.Q6J("color","primary"),t.xp6(2),t.Oqu(t.lcZ(11,49,"send")),t.xp6(2),t.Q6J("ngIf",o.hasPermission("addDriver")),t.xp6(3),t.s9C("placeholder",t.lcZ(16,51,"ID")),t.Q6J("ngModel",o.filters.driverId),t.xp6(3),t.s9C("placeholder",t.lcZ(19,53,"first_name")),t.Q6J("ngModel",o.filters.firstName),t.xp6(3),t.s9C("placeholder",t.lcZ(22,55,"phone")),t.Q6J("ngModel",o.filters.phoneNumber),t.xp6(3),t.s9C("placeholder",t.lcZ(25,57,"transport_cargo")),t.Q6J("ngModel",o.filters.transportKindId),t.xp6(2),t.Q6J("ngForOf",o.transportKinds),t.xp6(2),t.s9C("placeholder",t.lcZ(29,59,"subscription")),t.Q6J("ngModel",o.filters.isSubscribed),t.xp6(3),t.Oqu(t.lcZ(32,61,"subscribed")),t.xp6(3),t.Oqu(t.lcZ(35,63,"notSubscribed")),t.xp6(3),t.s9C("placeholder",t.lcZ(38,65,"verified")),t.Q6J("ngModel",o.filters.isVerified),t.xp6(3),t.Oqu(t.lcZ(41,67,"verified")),t.xp6(3),t.Oqu(t.lcZ(44,69,"notVerified")),t.xp6(3),t.s9C("placeholder",t.lcZ(47,71,"start_date_reg")),t.Q6J("matDatepicker",s)("ngModel",o.filters.createdAtFrom),t.xp6(2),t.Q6J("for",s),t.xp6(4),t.s9C("placeholder",t.lcZ(53,73,"end_date_reg")),t.Q6J("matDatepicker",c)("ngModel",o.filters.createdAtTo),t.xp6(2),t.Q6J("for",c),t.xp6(4),t.s9C("placeholder",t.lcZ(59,75,"start_date_log")),t.Q6J("matDatepicker",b)("ngModel",o.filters.lastLoginFrom),t.xp6(2),t.Q6J("for",b),t.xp6(4),t.s9C("placeholder",t.lcZ(65,77,"end_date_log")),t.Q6J("matDatepicker",A)("ngModel",o.filters.lastLoginTo),t.xp6(2),t.Q6J("for",A),t.xp6(5),t.hij(" ",t.lcZ(72,79,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(76,81,"filter"),""),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",!o.dataSource.data.length),t.xp6(1),t.Q6J("length",o.pageParams.totalPagesCount-1)("pageSize",o.pageParams.limit)("pageIndex",o.pageParams.page)("pageSizeOptions",t.DdM(83,Yi))}},dependencies:[_.y4,_.Ot,v.uU,Z.Ps,Z.Hw,P.FA,P.Mq,P.hl,P.nW,n.u5,n.Fj,n.JJ,n.On,n.UX,C.LD,p.KE,p.R9,C.gD,J.ey,Ae.o,g.ot,g.lW,g.RK,v.ax,v.O5,h.p0,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,p.lN,d.c,d.Nt,x.JX,x.YE,f.TU,f.NW,m.Tx,m.VK,m.OP,m.p6,T.rP],encapsulation:2,changeDetection:0})}return i})(),resolve:{}}]},6133:(N,F,l)=>{l.d(F,{P:()=>f});var v=l(2689),T=l(3144),g=l(2223),Z=l(8615),_=l(8236);let f=(()=>{class x{constructor(d,p){this._apiService=d,this._authService=p}get(d){let p=new T.LE,m=this._authService.getDecodedAccessToken().userId;return p=p.append("id",d),p=p.append("userId",m),this._apiService.get("/users/drivers/driver-by",p)}getAll(d){return this._apiService.get("/users/drivers/all-drivers",(0,v.$)(d))}create(d){return this._apiService.post("/users/drivers/register",d)}createTransport(d){return this._apiService.post("/users/driver/transport",d)}updateTransport(d){return this._apiService.put("/users/driver/transport",d)}updateTransportDriver(d){return this._apiService.post("/users/driver/transport/to-verification",d)}getTransportWithDriver(d,p){let m=new T.LE;return m=m.append("driverId",d),m=m.append("transportId",p),this._apiService.get("/users/driver/transport",m)}update(d){return d.phoneNumbers=[d.phoneNumbers],this._apiService.put("/users/drivers/",d)}block(d,p){let m=new T.LE;return m=m.append("id",d),this._apiService.patch("/users/drivers/block-driver",p,m)}active(d){let p=new T.LE;return p=p.append("id",d),this._apiService.patch("/users/drivers/unblock-driver",{},p)}delete(d){let p=new T.LE;return p=p.append("id",d),this._apiService.delete("/users/drivers",p)}static#t=this.\u0275fac=function(p){return new(p||x)(g.LFG(Z.s),g.LFG(_.e))};static#e=this.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},943:(N,F,l)=>{l.d(F,{E:()=>x});var v=l(4755),T=l(6286),g=l(430),Z=l(7361),_=l(2223),f=l(4973);let x=(()=>{class h{constructor(p,m){this.data=p,this.dialog=m,this.image="",this.keyName="",this.fileName="",this.file_url="",console.log(this.data),this.keyName=this.data.keyName,this.fileName=this.data.fileName}static#t=this.\u0275fac=function(m){return new(m||h)(_.Y36(T.WI),_.Y36(T.uw))};static#e=this.\u0275cmp=_.Xpm({type:h,selectors:[["app-image-priview"]],standalone:!0,features:[_.jDz],decls:11,vars:6,consts:[[2,"height","calc(100% - 100px)"],[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","leading-5","text-3xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"w-full","flex","items-center","justify-center"],["alt","",1,"object-fill","w-full",3,"src"]],template:function(m,C){1&m&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"p",2),_.TgZ(3,"button",3)(4,"mat-icon",4),_._uU(5,"close"),_.qZA()()(),_.TgZ(6,"mat-dialog-content")(7,"div",5),_._UZ(8,"img",6),_.ALo(9,"async"),_.ALo(10,"fileFetch"),_.qZA()()()),2&m&&(_.xp6(8),_.Q6J("src",_.lcZ(9,1,_.xi3(10,3,C.fileName,C.keyName)),_.LSH))},dependencies:[Z.d,f.z,v.Ov,T.Is,T.ZT,T.uh,T.xY,g.Ps,g.Hw]})}return h})()},4250:(N,F,l)=>{l.d(F,{q:()=>x});var v=l(3223),T=l(9401),g=l(1728),Z=l(6286),_=l(5707),f=l(2223);let x=(()=>{class h{constructor(p,m){this.data=p,this.dialogRef=m}static#t=this.\u0275fac=function(m){return new(m||h)(f.Y36(Z.WI),f.Y36(Z.so))};static#e=this.\u0275cmp=f.Xpm({type:h,selectors:[["app-message"]],standalone:!0,features:[f.jDz],decls:6,vars:1,consts:[[1,"flex","justify-center","mt-4","mb-3","px-2"],["src","assets/images/icons/info-yellow.svg","alt","info",1,"w-48","h-48"],[1,"flex","justify-center","px-2","mb-8"],[1,"font-bold","text-6xl","text-center","leading-7"]],template:function(m,C){1&m&&(f.TgZ(0,"mat-dialog-content")(1,"div",0),f._UZ(2,"img",1),f.qZA(),f.TgZ(3,"div",2)(4,"p",3),f._uU(5),f.qZA()()()),2&m&&(f.xp6(5),f.Oqu(null==C.data?null:C.data.text))},dependencies:[v.Su,T.u5,Z.Is,Z.xY,_.y4,g.ot],encapsulation:2,changeDetection:0})}return h})()},4973:(N,F,l)=>{l.d(F,{z:()=>g});var v=l(2223),T=l(3817);let g=(()=>{class Z{constructor(f){this.fileService=f}transform(f,x){return console.log(x,f),this.fileService.getFileUrl(x,f)}static#t=this.\u0275fac=function(x){return new(x||Z)(v.Y36(T.W,16))};static#e=this.\u0275pipe=v.Yjl({name:"fileFetch",type:Z,pure:!0})}return Z})()},7361:(N,F,l)=>{l.d(F,{d:()=>g});var v=l(4755),T=l(2223);let g=(()=>{class Z{static#t=this.\u0275fac=function(x){return new(x||Z)};static#e=this.\u0275mod=T.oAB({type:Z});static#i=this.\u0275inj=T.cJS({imports:[v.ez]})}return Z})()},3817:(N,F,l)=>{l.d(F,{W:()=>_});var v=l(9502),T=l(4004),g=l(2223),Z=l(3144);let _=(()=>{class f{constructor(h){this.http=h}getFileUrl(h,d){return console.log(h,d),this.http.get(v.O.references+`/references/files/${h}/${d}`,{responseType:"blob"}).pipe((0,T.U)(p=>(console.log(p),URL.createObjectURL(p))))}downloadImage(h,d){return this.http.get(v.O.references+`/references/files/${h}/${d}`,{responseType:"blob"}).subscribe(p=>{const m=document.createElement("a");m.href=URL.createObjectURL(p),m.download=Date.now()+".jpg",document.body.appendChild(m),m.click(),document.body.removeChild(m)},p=>{console.error("Error downloading the image: ",p.error.message)})}static#t=this.\u0275fac=function(d){return new(d||f)(g.LFG(Z.eN))};static#e=this.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()}}]);