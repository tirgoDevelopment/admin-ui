"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[467],{9467:(K,Z,r)=>{r.r(Z),r.d(Z,{default:()=>B});var _=r(4755),x=r(877),m=r(1728),g=r(430),h=r(5707),C=r(6702),y=r(2611),c=r(3627),v=r(9609),d=r(9114),p=r(7406),U=r(6266),l=r(9401),u=r(6286),e=r(2223),N=r(3648),S=r(2689),w=r(3144),J=r(8615);let A=(()=>{class t{constructor(n){this._apiService=n}get(n){return this._apiService.get(`/references/currencies/${n}`)}getAll(n){return this._apiService.get("/references/currencies/all",(0,S.$)(n))}create(n){return this._apiService.post("/references/currencies",n)}update(n){return this._apiService.put("/references/currencies",n)}delete(n){let o=new w.LE;return o=o.append("id",n),this._apiService.delete("/references/currencies",o)}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(J.s))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function I(t,i){1&t&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"add_currency")))}function Q(t,i){1&t&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"edit_currency")))}function Y(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}function P(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}const T=function(t){return{"is-invalid":t}},L=function(t,i){return{"fuse-mat-button text-white":t,"fuse-mat-button ":i}};let b=(()=>{class t{constructor(n,o,a,s){this.data=n,this._toaster=o,this._currencyStatusService=a,this._dialog=s,this.edit=!1,this.form=new l.cw({id:new l.NI(""),name:new l.NI("",[l.kI.required]),code:new l.NI("",[l.kI.required])}),this.data&&(this.edit=!0,this.form.patchValue({id:this.data?.id,name:this.data?.name}))}get f(){return this.form.controls}submit(){this.form.value.id?this._currencyStatusService.update(this.form.value).subscribe(n=>{n.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u0430\u043b\u044e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0430")}):this._currencyStatusService.create(this.form.value).subscribe(n=>{n.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u0430\u043b\u044e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0430")})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.WI),e.Y36(N._W),e.Y36(A),e.Y36(u.uw))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-currency"]],standalone:!0,features:[e.jDz],decls:29,vars:30,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"flex"],[1,"w-full","px-2"],["color","accent",1,"w-full"],["matInput","","formControlName","name",3,"ngClass"],[4,"ngIf"],["matInput","","formControlName","code",3,"ngClass"],[1,"flex","justify-end","justify-items-end"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0),e.YNc(1,I,3,3,"p",1),e.YNc(2,Q,3,3,"p",1),e.TgZ(3,"button",2)(4,"mat-icon",3),e._uU(5,"close"),e.qZA()()(),e.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),e._uU(12),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,Y,3,3,"mat-error",9),e.qZA(),e.TgZ(16,"mat-form-field",7)(17,"mat-label"),e._uU(18),e.ALo(19,"transloco"),e.qZA(),e._UZ(20,"input",10),e.YNc(21,P,3,3,"mat-error",9),e.qZA()()()()(),e.TgZ(22,"mat-dialog-actions",11)(23,"button",12),e._uU(24),e.ALo(25,"transloco"),e.qZA(),e.TgZ(26,"button",13),e.NdJ("click",function(){return a.submit()}),e._uU(27),e.ALo(28,"transloco"),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("ngIf",!a.edit),e.xp6(1),e.Q6J("ngIf",a.edit),e.xp6(5),e.Q6J("formGroup",a.form),e.xp6(5),e.Oqu(e.lcZ(13,15,"name")),e.xp6(2),e.Q6J("ngClass",e.VKq(23,T,a.f.name.errors)),e.xp6(1),e.Q6J("ngIf",null==a.f.name.errors?null:a.f.name.errors.required),e.xp6(3),e.Oqu(e.lcZ(19,17,"code")),e.xp6(2),e.Q6J("ngClass",e.VKq(25,T,a.f.code.errors)),e.xp6(1),e.Q6J("ngIf",null==a.f.code.errors?null:a.f.code.errors.required),e.xp6(2),e.Q6J("color","warn"),e.xp6(1),e.hij(" ",e.lcZ(25,19,"cancel"),""),e.xp6(2),e.Q6J("ngClass",e.WLB(27,L,a.form.invalid||a.form.pristine,!a.form.invalid&&!a.form.pristine))("color","primary")("disabled",a.form.invalid||a.form.pristine),e.xp6(1),e.hij(" ",e.lcZ(28,21,"save")," "))},dependencies:[h.y4,h.Ot,g.Ps,g.Hw,m.ot,m.lW,m.RK,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,u.Is,u.ZT,u.uh,u.xY,u.H8,l.u5,_.O5,c.p0,_.mk,d.lN,d.KE,d.hX,d.TO,v.c,v.Nt,y.JX,C.TU,p.Tx,x.rP],encapsulation:2,changeDetection:0})}return t})();var j=r(1983);function D(t,i){1&t&&(e.TgZ(0,"mat-header-cell",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"name")," "))}function q(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.name," ")}}function O(t,i){1&t&&(e.TgZ(0,"mat-header-cell",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij("",e.lcZ(2,1,"code")," "))}function H(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.code," ")}}function F(t,i){1&t&&e._UZ(0,"mat-header-cell")}function z(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"mat-cell")(1,"div",21)(2,"button",22),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"mat-menu",null,23)(7,"button",24),e.NdJ("click",function(){const s=e.CHM(n).$implicit,f=e.oxw();return e.KtG(f.edit(s))}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA(),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e.TgZ(12,"button",24),e.NdJ("click",function(){const s=e.CHM(n).$implicit,f=e.oxw();return e.KtG(f.delete(s.id))}),e.TgZ(13,"mat-icon"),e._uU(14,"remove"),e.qZA(),e._uU(15),e.ALo(16,"transloco"),e.qZA()()()()}if(2&t){const n=e.MAs(6);e.xp6(2),e.Q6J("matMenuTriggerFor",n),e.xp6(8),e.hij(" ",e.lcZ(11,3,"edit")," "),e.xp6(5),e.hij(" ",e.lcZ(16,5,"remove")," ")}}function W(t,i){1&t&&e._UZ(0,"mat-header-row")}function M(t,i){1&t&&e._UZ(0,"mat-row")}function R(t,i){1&t&&e._UZ(0,"app-no-data-placeholder",25)}const G=function(){return[10,20,50,100,200]},B=[{path:"",component:(()=>{class t extends U.G{constructor(n,o){super(),this._currencyService=n,this._dialog=o,this.displayedColumns=["name","code","actions"],this.pageParams={page:1,limit:10,perPage:10,sortBy:"id",sortType:"asc"},this.dataSource=new c.by([])}ngOnInit(){this.getAllCurrency(this.pageParams)}getAllCurrency(n){this._currencyService.getAll(n).subscribe(o=>{this.dataSource.data=o.data})}onPageChange(n){this.pageParams.limit=n.pageSize,this.pageParams.perPage=n.pageSize,this.pageParams.page=n.pageIndex,this.getAllCurrency(this.pageParams)}add(){this._dialog.open(b,{minWidth:"25vw",maxWidth:"30vw",minHeight:"30vh",maxHeight:"80vh",autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllCurrency(this.pageParams)})}edit(n){this._dialog.open(b,{minWidth:"25vw",maxWidth:"30vw",minHeight:"30vh",maxHeight:"80vh",autoFocus:!1,data:n}).afterClosed().subscribe(()=>{this.getAllCurrency(this.pageParams)})}delete(n){this._currencyService.delete(n).subscribe(()=>{this.getAllCurrency(this.pageParams)})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(A),e.Y36(u.uw))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-currency"]],viewQuery:function(o,a){if(1&o&&e.Gf(C.NW,5),2&o){let s;e.iGM(s=e.CRH())&&(a.paginator=s.first)}},standalone:!0,features:[e.qOj,e.jDz],decls:27,vars:15,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto","border-t"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-4","h-100"],["matSort","",3,"dataSource"],["matColumnDef","name"],["class","font-extrabold ",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","code"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","m-1",4,"ngIf"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[1,"font-extrabold"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],[1,"m-1"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e._uU(5),e.ALo(6,"transloco"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return a.add()}),e._UZ(9,"mat-icon",6),e.TgZ(10,"span",7),e._uU(11,"Add"),e.qZA()()()(),e.TgZ(12,"div",8)(13,"mat-table",9),e.ynx(14,10),e.YNc(15,D,3,3,"mat-header-cell",11),e.YNc(16,q,2,1,"mat-cell",12),e.BQk(),e.ynx(17,13),e.YNc(18,O,3,3,"mat-header-cell",11),e.YNc(19,H,2,1,"mat-cell",12),e.BQk(),e.ynx(20,14),e.YNc(21,F,1,0,"mat-header-cell",15),e.YNc(22,z,17,7,"mat-cell",12),e.BQk(),e.YNc(23,W,1,0,"mat-header-row",16),e.YNc(24,M,1,0,"mat-row",17),e.qZA(),e.YNc(25,R,1,0,"app-no-data-placeholder",18),e.TgZ(26,"mat-paginator",19),e.NdJ("page",function(f){return a.onPageChange(f)}),e.qZA()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,12,"currency")),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(4),e.Q6J("dataSource",a.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("ngIf",!a.dataSource.data.length),e.xp6(1),e.Q6J("showFirstLastButtons",!0)("length",a.dataSource.data.length)("pageSize",a.pageParams.limit)("pageIndex",a.pageParams.page)("pageSizeOptions",e.DdM(14,G)))},dependencies:[h.y4,h.Ot,g.Ps,g.Hw,m.ot,m.lW,m.RK,j.o,_.O5,c.p0,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d.lN,v.c,y.JX,y.YE,C.TU,C.NW,p.Tx,p.VK,p.OP,p.p6,x.rP],encapsulation:2,changeDetection:0})}return t})(),resolve:{}}]}}]);