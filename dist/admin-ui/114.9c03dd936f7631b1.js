"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[114],{5976:(M,S,n)=>{n.r(S),n.d(S,{default:()=>J});var x=n(4755),c=n(9401),C=n(1728),F=n(1292),E=n(9114),Z=n(430),y=n(9609),I=n(8467),w=n(3844),U=n(5191),D=n(5656),A=n(787),t=n(2223),e=n(8236),s=n(5159),i=n(3045),u=n(6530),o=n(1217);const a=["signInNgForm"];function f(r,T){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b "),t.qZA())}function g(r,T){1&r&&t._UZ(0,"mat-icon",19),2&r&&t.Q6J("svgIcon","heroicons_solid:eye")}function m(r,T){1&r&&t._UZ(0,"mat-icon",19),2&r&&t.Q6J("svgIcon","heroicons_solid:eye-slash")}function d(r,T){1&r&&t._UZ(0,"mat-progress-spinner",21),2&r&&t.Q6J("diameter",24)("mode","indeterminate")}function v(r,T){if(1&r&&(t.TgZ(0,"span"),t.YNc(1,d,1,2,"mat-progress-spinner",20),t._uU(2," \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f "),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("ngIf",l.signInForm.disabled)}}const J=[{path:"",component:(()=>{class r{constructor(l,h,p,_,V){this._authService=l,this._formBuilder=h,this._router=p,this._permissionService=_,this.utilsService=V}ngOnInit(){this.signInForm=this._formBuilder.group({username:["",[c.kI.required]],password:["",c.kI.required],userType:["staff"]})}signIn(){this.signInForm.invalid||(this.signInForm.disable(),this._authService.signIn(this.signInForm.value).pipe(l=>((0,U.b)(l)&&this.signInForm.enable(),l)).subscribe(l=>{const h=(0,D.o)(l.data.token);this._router.navigateByUrl(l.data.token&&h.role?.permission.agentPage&&!h.role?.permission.adminPage?"agent-module":"dashboards")}))}static#t=this.\u0275fac=function(h){return new(h||r)(t.Y36(e.e),t.Y36(c.QS),t.Y36(s.F0),t.Y36(i.YI),t.Y36(u.I))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["auth-sign-in"]],viewQuery:function(h,p){if(1&h&&t.Gf(a,5),2&h){let _;t.iGM(_=t.CRH())&&(p.signInNgForm=_.first)}},standalone:!0,features:[t.jDz],decls:31,vars:10,consts:[[1,"flex","justify-center","items-center","h-full","w-full"],[1,"login-contianer"],["src","assets/images/logo/auth-logo.svg"],[1,"mt-10","p-8","login-card"],[1,"text-5xl","md:text-4xl","sm:text-3xl","font-boldtracking-tight","leading-tight","text-center"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],[1,"w-full"],["id","username","matInput","",3,"formControlName"],[4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["color","accent",1,"w-50","px-1"],["placeholder","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","name","transportTypeId",3,"formControlName"],["value","staff"],["value","agent"],["mat-flat-button","",1,"fuse-mat-button-large  ml-3","w-full","mt-6",3,"color","disabled","click"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(h,p){if(1&h){const _=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5," \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u0410\u0426\u0418\u042f"),t.qZA(),t.TgZ(6,"form",5,6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"\u041b\u043e\u0433\u0438\u043d"),t.qZA(),t._UZ(11,"input",8),t.YNc(12,f,2,0,"mat-error",9),t.qZA(),t.TgZ(13,"mat-form-field",7)(14,"mat-label"),t._uU(15,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(16,"input",10,11),t.TgZ(18,"button",12),t.NdJ("click",function(){t.CHM(_);const Q=t.MAs(17);return t.KtG(Q.type="password"===Q.type?"text":"password")}),t.YNc(19,g,1,1,"mat-icon",13),t.YNc(20,m,1,1,"mat-icon",13),t.qZA(),t.TgZ(21,"mat-error"),t._uU(22," \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u043e\u043b\u044c "),t.qZA()(),t.TgZ(23,"mat-form-field",14)(24,"mat-select",15)(25,"mat-option",16),t._uU(26,"\u0410\u0434\u043c\u0438\u043d"),t.qZA(),t.TgZ(27,"mat-option",17),t._uU(28,"\u0410\u0433\u0435\u043d\u0442"),t.qZA()()(),t.TgZ(29,"button",18),t.NdJ("click",function(){return p.signIn()}),t.YNc(30,v,3,1,"span",9),t.qZA()()()()()}if(2&h){const _=t.MAs(17);t.xp6(6),t.Q6J("formGroup",p.signInForm),t.xp6(5),t.Q6J("formControlName","username"),t.xp6(1),t.Q6J("ngIf",p.signInForm.get("username").hasError("required")),t.xp6(4),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===_.type),t.xp6(1),t.Q6J("ngIf","text"===_.type),t.xp6(4),t.Q6J("formControlName","userType"),t.xp6(5),t.Q6J("color","primary")("disabled",p.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",!p.signInForm.disabled)}},dependencies:[x.O5,c.u5,c._Y,c.Fj,c.JJ,c.JL,c.UX,c.sg,c.u,E.lN,E.KE,E.hX,E.TO,E.R9,y.c,y.Nt,C.ot,C.lW,C.RK,Z.Ps,Z.Hw,F.p9,I.Cq,I.Ou,A.LD,A.gD,o.ey],styles:[".login-contianer{width:485px;flex-shrink:0}.login-contianer .login-card{background:#E8E8E8;border-radius:30px}\n"],encapsulation:2,data:{animation:w.L}})}return r})()}]},418:(M,S,n)=>{n.d(S,{A8:()=>D,Ov:()=>w,Z9:()=>E,eX:()=>I,k:()=>A,o2:()=>F,yy:()=>y});var x=n(4033),c=n(7579),C=n(2223);class F{}function E(t){return t&&"function"==typeof t.connect&&!(t instanceof x.c)}class y{applyChanges(e,s,i,u,o){e.forEachOperation((a,f,g)=>{let m,d;if(null==a.previousIndex){const v=i(a,f,g);m=s.createEmbeddedView(v.templateRef,v.context,v.index),d=1}else null==g?(s.remove(f),d=3):(m=s.get(f),s.move(m,g),d=2);o&&o({context:m?.context,operation:d,record:a})})}detach(){}}class I{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,s,i,u,o){e.forEachOperation((a,f,g)=>{let m,d;null==a.previousIndex?(m=this._insertView(()=>i(a,f,g),g,s,u(a)),d=m?1:0):null==g?(this._detachAndCacheView(f,s),d=3):(m=this._moveView(f,g,s,u(a)),d=2),o&&o({context:m?.context,operation:d,record:a})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,i,u){const o=this._insertViewFromCache(s,i);if(o)return void(o.context.$implicit=u);const a=e();return i.createEmbeddedView(a.templateRef,a.context,a.index)}_detachAndCacheView(e,s){const i=s.detach(e);this._maybeCacheView(i,s)}_moveView(e,s,i,u){const o=i.get(e);return i.move(o,s),o.context.$implicit=u,o}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=s.indexOf(e);-1===i?e.destroy():s.remove(i)}}_insertViewFromCache(e,s){const i=this._viewCache.pop();return i&&s.insert(i,e),i||null}}class w{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,s,i=!0,u){this._multiple=e,this._emitChanges=i,this.compareWith=u,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new c.x,s&&s.length&&(e?s.forEach(o=>this._markSelected(o)):this._markSelected(s[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}setSelection(...e){this._verifyValueAssignment(e);const s=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),s.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const u=this._hasQueuedChanges();return this._emitChangeEvent(),u}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const s=this._hasQueuedChanges();return e&&this._emitChangeEvent(),s}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let s of this._selection)if(this.compareWith(e,s))return s;return e}return e}}let D=(()=>{class t{constructor(){this._listeners=[]}notify(s,i){for(let u of this._listeners)u(s,i)}listen(s){return this._listeners.push(s),()=>{this._listeners=this._listeners.filter(i=>s!==i)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const A=new C.OlP("_ViewRepeater")}}]);