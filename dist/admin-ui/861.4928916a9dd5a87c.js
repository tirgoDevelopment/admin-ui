"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[861],{7861:(Ue,w,r)=>{r.r(w),r.d(w,{default:()=>qe});var f=r(4755),l=r(9401),m=r(1728),p=r(9114),g=r(430),A=r(7406),c=r(3627),O=r(6702),W=r(5656),x=r(8995),q=r(1292),s=r(6286),_=r(9609),U=r(8467),h=r(787),M=r(3844),Z=r(8280),t=r(2223);let K=(()=>{class a{constructor(e){this.dialogRef=e}ngOnInit(){}closeModal(){this.dialogRef.close("close")}accepted(){this.dialogRef.close("accept")}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.so))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["agreement"]],standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"overflow-auto"],["align","end"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"text-center"],[1,"text-3xl","font-bold","mb-5"],["mat-flat-button","",1,"fuse-mat-button-large","dark","mt-6","w-full",3,"color","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return o.closeModal()}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4),t._uU(5,"\u0421\u041e\u0413\u041b\u0410\u0428\u0415\u041d\u0418\u0415"),t.qZA()(),t.TgZ(6,"div",3),t._uU(7," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return o.accepted()}),t._uU(9,"\u041f\u0440\u0438\u043d\u044f\u0442\u044c "),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("color","primary"))},dependencies:[Z.FA,h.LD,x.Bb,s.Is,l.u5,l.UX,p.lN,_.c,m.ot,m.lW,g.Ps,g.Hw,q.p9,U.Cq],encapsulation:2,data:{animation:M.L}})}return a})();var H=r(7579),P=r(8372),$=r(1884),Y=r(8505),S=r(3900),R=r(262),k=r(9646),V=r(4128),C=r(5707),L=r(3144),G=r(2689),T=r(9502);let b=(()=>{class a{constructor(e){this.http=e}getOrders(e){return this.http.get(T.O.orderApiUrl+"/orders/staffs/all-orders",{params:(0,G.$)(e)})}getOrderById(e){let n=new L.LE;return n=n.append("orderId",e),this.http.get(T.O.orderApiUrl+"/orders/staffs/order-by-id",{params:n})}createOrder(e){return this.http.post(T.O.orderApiUrl+"/orders/staffs",e)}cancelOrder(e){let n=new L.LE;return n=n.append("id",e),this.http.post(T.O.orderApiUrl+"/orders/staffs/cancel-order",{},{params:n})}updateOrder(e){return this.http.put(T.O.orderApiUrl+"/orders/staffs/update-order",e)}static#t=this.\u0275fac=function(n){return new(n||a)(t.LFG(L.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var I=r(2621),z=r(8501),X=r(3648),D=r(1217);function tt(a,u){1&a&&t._UZ(0,"div")}function et(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.previousStep())}),t.qZA()}}function at(a,u){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=u.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function ot(a,u){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=u.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function nt(a,u){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"first_name")),t.xp6(2),t.Q6J("value",e.clientInfo.firstName)}}function ut(a,u){if(1&a&&(t.TgZ(0,"mat-form-field",20)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",43),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"last_name")),t.xp6(2),t.Q6J("value",e.clientInfo.lastName)}}function it(a,u){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-option",42),t._uU(2),t.qZA(),t.BQk()),2&a){const e=u.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e.displayName," ")}}function rt(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"div",20)(1,"mat-form-field",20)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"input",44),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.findCity(o))}),t.qZA(),t.TgZ(5,"mat-autocomplete",22,45),t.YNc(7,it,3,2,"ng-container",24),t.qZA(),t._UZ(8,"mat-icon",25),t.qZA()()}if(2&a){const e=u.$implicit,n=t.MAs(6),o=t.oxw(2);t.xp6(3),t.Oqu(o.getDynamicLabel(e)),t.xp6(1),t.Q6J("matAutocomplete",n)("formControlName",e),t.xp6(1),t.Q6J("displayWith",o.displayFn),t.xp6(2),t.Q6J("ngForOf",o.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin")}}function lt(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),t._uU(4,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t._UZ(5,"mat-datepicker-toggle",16)(6,"input",17)(7,"mat-datepicker",null,18),t.qZA()(),t.TgZ(9,"div",19)(10,"mat-form-field",20)(11,"mat-label"),t._uU(12,"\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(13,"input",21),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.findCity(o))}),t.qZA(),t.TgZ(14,"mat-autocomplete",22,23),t.YNc(16,at,3,2,"ng-container",24),t.qZA(),t._UZ(17,"mat-icon",25),t.qZA(),t.TgZ(18,"mat-form-field",20)(19,"mat-label"),t._uU(20,"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"input",26),t.NdJ("input",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.findCity(o))}),t.qZA(),t.TgZ(22,"mat-autocomplete",22,27),t.YNc(24,ot,3,2,"ng-container",24),t.qZA(),t._UZ(25,"mat-icon",25),t.qZA()(),t.TgZ(26,"div",19)(27,"mat-form-field")(28,"mat-label"),t._uU(29,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"),t.qZA(),t.TgZ(30,"mat-select",28)(31,"mat-option",29),t._uU(32,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(33,"mat-option",30),t._uU(34,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(35,"mat-option",31),t._uU(36,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(37,"mat-option",32),t._uU(38,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA()()(),t.TgZ(39,"mat-form-field",20)(40,"mat-label"),t._uU(41),t.ALo(42,"transloco"),t.qZA(),t._UZ(43,"input",33),t.qZA(),t.YNc(44,nt,5,4,"mat-form-field",34),t.YNc(45,ut,5,4,"mat-form-field",34),t.qZA(),t.TgZ(46,"div",35),t.YNc(47,rt,9,6,"div",36),t.qZA(),t._UZ(48,"hr"),t.TgZ(49,"div",37)(50,"mat-checkbox",38),t._uU(51,"ADR (\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0430 \u043e\u043f\u0430\u0441\u043d\u044b\u0445 \u0433\u0440\u0443\u0437\u043e\u0432)"),t.qZA(),t.TgZ(52,"mat-checkbox",39),t._uU(53,"Carnet TIR"),t.qZA(),t.TgZ(54,"mat-checkbox",40),t._uU(55,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(56,"mat-checkbox",41),t._uU(57,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA()()()}if(2&a){const e=t.MAs(8),n=t.MAs(15),o=t.MAs(23),i=t.oxw();t.xp6(5),t.Q6J("for",e),t.xp6(1),t.Q6J("matDatepicker",e),t.xp6(7),t.Q6J("matAutocomplete",n),t.xp6(1),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",i.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(4),t.Q6J("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",i.displayFn),t.xp6(2),t.Q6J("ngForOf",i.findList),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map-pin"),t.xp6(16),t.Oqu(t.lcZ(42,14,"client")),t.xp6(3),t.Q6J("ngIf",null==i.clientInfo?null:i.clientInfo.firstName),t.xp6(1),t.Q6J("ngIf",null==i.clientInfo?null:i.clientInfo.lastName),t.xp6(2),t.Q6J("ngForOf",i.form.get("selectedLocations").value)}}function dt(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function st(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ct(a,u){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u0430\u044f \u0446\u0435\u043d\u0430"),t.qZA(),t._UZ(5,"input",48),t.TgZ(6,"mat-select",49),t.YNc(7,dt,2,2,"mat-option",50),t.qZA()(),t.TgZ(8,"mat-form-field",47)(9,"mat-label"),t._uU(10,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t._UZ(11,"input",51),t.TgZ(12,"mat-select",52),t.YNc(13,st,2,2,"mat-option",50),t.qZA()()(),t.TgZ(14,"div",46)(15,"mat-form-field",47)(16,"mat-label"),t._uU(17,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(18,"mat-select",53)(19,"mat-option",54),t._uU(20,"\u041d\u0430\u043b\u0438\u0447\u0438"),t.qZA(),t.TgZ(21,"mat-option",55),t._uU(22,"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435"),t.qZA()()(),t.TgZ(23,"mat-checkbox",56),t._uU(24,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA()()()),2&a){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.currencies),t.xp6(6),t.Q6J("ngForOf",e.currencies),t.xp6(5),t.Q6J("compareWith",e.compareFin)}}function mt(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function gt(a,u){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t._UZ(4,"input",73),t.qZA()())}function ft(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",74),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onCheckboxChange(o))}),t._uU(2,"\u0420\u0435\u0436\u0438\u043c"),t.qZA(),t.TgZ(3,"mat-checkbox",75),t._uU(4,"\u041a\u0440\u044e\u043a"),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.isRefrigeratorMode)}}function _t(a,u){1&a&&(t.TgZ(0,"div",76)(1,"mat-form-field",77)(2,"mat-label"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"input",78),t.qZA(),t.TgZ(6,"mat-form-field",77)(7,"mat-label"),t._uU(8),t.ALo(9,"transloco"),t.qZA(),t._UZ(10,"input",79),t.qZA()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"mode_from")),t.xp6(5),t.Oqu(t.lcZ(9,4,"mode_to")))}function ht(a,u){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t._UZ(4,"input",80),t.qZA()())}function Zt(a,u){1&a&&(t.TgZ(0,"div",46)(1,"mat-form-field",47)(2,"mat-label"),t._uU(3,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(4,"mat-select",81)(5,"mat-option",42),t._uU(6,"20"),t.qZA(),t.TgZ(7,"mat-option",42),t._uU(8,"40"),t.qZA(),t.TgZ(9,"mat-option",42),t._uU(10,"60"),t.qZA(),t.TgZ(11,"mat-option",42),t._uU(12,"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043a\u0443\u0431"),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("value","EU"),t.xp6(1),t.Q6J("value","20"),t.xp6(2),t.Q6J("value","40"),t.xp6(2),t.Q6J("value","60"),t.xp6(2),t.Q6J("value","high"))}function Ct(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Tt(a,u){if(1&a&&(t.TgZ(0,"mat-optgroup",82),t.YNc(1,Ct,2,2,"mat-option",50),t.qZA()),2&a){const e=u.$implicit;t.Q6J("label",e.name),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)}}function vt(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function At(a,u){if(1&a&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function xt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"div",46)(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(5,"mat-select",57),t.YNc(6,mt,2,2,"mat-option",50),t.qZA()(),t.TgZ(7,"mat-form-field",47)(8,"mat-label"),t._uU(9,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.TgZ(10,"mat-select",58),t.YNc(11,pt,2,2,"mat-option",50),t.qZA()()(),t.YNc(12,gt,5,0,"div",59),t.YNc(13,ft,5,1,"div",1),t.YNc(14,_t,11,6,"div",60),t.YNc(15,ht,5,0,"div",59),t.YNc(16,Zt,13,5,"div",59),t.TgZ(17,"div",46)(18,"mat-form-field",47)(19,"mat-label"),t._uU(20,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(21,"mat-select",61),t.YNc(22,Tt,2,2,"mat-optgroup",62),t.qZA()(),t.TgZ(23,"mat-form-field",47)(24,"mat-label"),t._uU(25,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430(\u0431\u0440\u0443\u0442\u0442\u043e)"),t.qZA(),t._UZ(26,"input",63),t.qZA(),t.TgZ(27,"mat-form-field",47)(28,"mat-label"),t._uU(29,"\u041a\u0443\u0431\u0430\u0442\u0443\u0440\u0430"),t.qZA(),t._UZ(30,"input",64),t.qZA()(),t.TgZ(31,"div",65)(32,"div",66),t._uU(33,"\u0413\u0430\u0431\u0430\u0440\u0438\u0442\u044b \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(34,"div",67)(35,"mat-form-field",65),t._UZ(36,"input",68),t.qZA(),t.TgZ(37,"mat-form-field",65),t._UZ(38,"input",69),t.qZA(),t.TgZ(39,"mat-form-field",65),t._UZ(40,"input",70),t.qZA()()(),t.TgZ(41,"div",46)(42,"mat-form-field",47)(43,"mat-label"),t._uU(44,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(45,"mat-select",71),t.YNc(46,vt,2,2,"mat-option",50),t.qZA()(),t.TgZ(47,"mat-form-field",47)(48,"mat-label"),t._uU(49,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(50,"mat-select",72),t.YNc(51,At,2,2,"mat-option",50),t.qZA()()()()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportTypes),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.transportKinds),t.xp6(1),t.Q6J("ngIf",e.isAutotransport),t.xp6(1),t.Q6J("ngIf",e.isRefrigerator),t.xp6(1),t.Q6J("ngIf",e.isRefrigeratorMode),t.xp6(1),t.Q6J("ngIf",e.isCistern),t.xp6(1),t.Q6J("ngIf",e.isContainer),t.xp6(5),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoTypes)("ngForTrackBy",e.group),t.xp6(23),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.cargoLoadingMethods),t.xp6(4),t.Q6J("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.packagesTypes)}}function yt(a,u){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),t.qZA())}function Ot(a,u){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function qt(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.nextStep())}),t.YNc(1,yt,2,0,"span",1),t.YNc(2,Ot,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}function Ut(a,u){1&a&&(t.TgZ(0,"span"),t._uU(1,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),t.qZA())}function Lt(a,u){1&a&&t._UZ(0,"mat-progress-spinner",85),2&a&&t.Q6J("diameter",24)("mode","indeterminate")}function bt(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createOrder())}),t.YNc(1,Ut,2,0,"span",1),t.YNc(2,Lt,1,2,"mat-progress-spinner",84),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.loading)("color","primary"),t.xp6(1),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("ngIf",e.loading)}}let B=(()=>{class a{constructor(e,n,o,i,d,F,Q,E){this.dialogRef=e,this.formBuilder=n,this._orderService=o,this._typesService=i,this._clientService=d,this.toastr=F,this.dialog=Q,this.data=E,this.inputVisited=!1,this.prefixes=["Mr.","Mrs.","Ms.","Dr.","Prof."],this.loading=!1,this.findList=[],this.viewText=!1,this.currentStep=1,this.isRefrigeratorMode=!1,this.searchSubject=new H.x,this.searchSubject.pipe((0,P.b)(300),(0,$.x)(),(0,Y.b)(()=>this.loading=!0),(0,S.w)(v=>this.findCities(v.trim().toLowerCase()).pipe((0,R.K)(()=>(0,k.of)([])),(0,Y.b)(()=>this.loading=!1)))).subscribe(v=>{this.findList=v.data}),this.data&&this.getOrderById(this.data.id)}onInputFocus(){this.inputVisited=!0}getOrderById(e){this._orderService.getOrderById(e).subscribe(n=>{n.success&&this.form.patchValue({id:n.data?.id,clientId:n.data?.clientMerchant?.id,sendDate:n.data?.sendDate,loadingLocation:n.data?.loadingLocation,deliveryLocation:n.data?.deliveryLocation,selectedLocations:[n.data?.customsPlaceLocation?"customsPlaceLocation":null,n.data?.customsClearancePlaceLocation?"customsClearancePlaceLocation":null,n.data?.additionalLoadingLocation?"additionalLoadingLocation":null,n.data?.additionalDeliveryLocation?"additionalDeliveryLocation":null].filter(o=>null!==o),customsPlaceLocation:n.data?.customsPlaceLocation,customsClearancePlaceLocation:n.data?.customsClearancePlaceLocation,additionalLoadingLocation:n.data?.additionalLoadingLocation,additionalDeliveryLocation:n.data?.additionalDeliveryLocation,isUrgent:n.data?.isUrgent,isTwoDays:n.data?.isTwoDays,isAdr:n.data?.isAdr,isCarnetTir:n.data?.isCarnetTir,isGlonas:n.data?.isGlonas,isParanom:n.data?.isParanom,offeredPrice:n.data?.offeredPrice,offeredPriceCurrencyId:n.data?.offeredPriceCurrency.id,inAdvancePrice:n.data?.inAdvancePrice,inAdvancePriceCurrencyId:n.data?.inAdvancePriceCurrency.id,paymentMethod:n.data?.paymentMethod,isSafeTransaction:n.data?.isSafeTransaction,transportKindIds:n.data?.transportKinds,transportTypeIds:n.data?.transportTypes,refrigeratorFrom:n.data?.refrigeratorFrom,refrigeratorTo:n.data?.refrigeratorTo,refrigeratorCount:n.data?.refrigeratorCount,isHook:n.data?.isHook,cargoTypeId:n.data?.cargoType,cargoWeight:n.data?.cargoWeight,cargoLength:n.data?.cargoLength,cargoWidth:n.data?.cargoWidth,cargoHeight:n.data?.cargoHeight,cubature:n.data?.cubature,cargoPackageId:n.data?.cargoPackage,loadingMethodId:n.data?.loadingMethod})})}ngOnInit(){this.form=this.formBuilder.group({id:[null],clientId:[null],sendDate:[null],loadingLocation:[null],deliveryLocation:[null],selectedLocations:[[]],customsPlaceLocation:[null],customsClearancePlaceLocation:[null],additionalLoadingLocation:[null],additionalDeliveryLocation:[null],isUrgent:[!0],isTwoDays:[!1],isAdr:[!1],isCarnetTir:[!1],isGlonas:[!1],isParanom:[!1],offeredPrice:[null],offeredPriceCurrencyId:[null],inAdvancePrice:[0],inAdvancePriceCurrencyId:[null],paymentMethod:["cash"],isSafeTransaction:[!1],transportKindIds:[null,l.kI.required],transportTypeIds:[null,l.kI.required],refrigeratorFrom:[null],refrigeratorTo:[null],refrigeratorCount:[null],isHook:[null],cargoTypeId:[null,l.kI.required],cargoWeight:[null,l.kI.required],cargoLength:[null],cargoWidth:[null],cargoHeight:[null],cubature:[null],cargoPackageId:[null],loadingMethodId:[null]}),this.changeValue(),(0,V.D)({currencies:this._typesService.getCurrencies(),cargoTypes:this._typesService.getCargoTypes(),transportTypes:this._typesService.getTransportTypes(),packagesTypes:this._typesService.getPackages(),cargoLoadingMethods:this._typesService.getCargoLoadingMethod(),transportKinds:this._typesService.getTransportKinds(),users:this._clientService.getAll()}).subscribe({next:e=>{this.currencies=e.currencies.data,this.cargoTypes=e.cargoTypes.data,this.transportTypes=e.transportTypes.data,this.packagesTypes=e.packagesTypes.data,this.cargoLoadingMethods=e.cargoLoadingMethods.data,this.transportKinds=e.transportKinds.data,this.users=e.users,this.form.patchValue({offeredPriceCurrencyId:this.currencies[0].id,inAdvancePriceCurrencyId:this.currencies[0].id})},error:e=>{console.error("Error fetching currencies and cargo types:",e)}}),this.form.get("clientId").valueChanges.pipe((0,P.b)(300),(0,S.w)(e=>this._clientService.get(e))).subscribe(e=>{e.success&&(this.clientInfo=e.data)})}trackByFn(e){return e.id}compareFn(e,n){if(e&&n)return e===n.id}compareFin(e,n){if(e&&n)return e===n}setIds(e){return e.map(n=>n.id)}setId(e){return e.id}createOrder(){const e=["customsPlaceLocation","customsClearancePlaceLocation","additionalLoadingLocation","additionalDeliveryLocation"];for(const n of e)this.form.value[n]&&this.form.patchValue({[n]:{name:this.form.value[n].displayName,latitude:this.form.value[n].latitude,longitude:this.form.value[n].longitude}});this.form.patchValue({loadingLocation:{name:this.form.value.loadingLocation.displayName,latitude:this.form.value.loadingLocation.latitude,longitude:this.form.value.loadingLocation.longitude},deliveryLocation:{name:this.form.value.deliveryLocation.displayName,latitude:this.form.value.deliveryLocation.latitude,longitude:this.form.value.deliveryLocation.longitude}}),this.form.get("id").value&&this.form.patchValue({transportKindIds:this.setIds(this.form.get("transportKindIds").value),transportTypeIds:this.setIds(this.form.get("transportTypeIds").value),cargoTypeId:this.setId(this.form.get("cargoTypeId").value),cargoPackageId:this.setId(this.form.get("cargoPackageId").value),loadingMethodId:this.setId(this.form.get("loadingMethodId").value)}),this.form.value.id?this._orderService.updateOrder(this.form.value).subscribe(n=>{n.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"))}):this._orderService.createOrder(this.form.value).subscribe(n=>{n.success&&(this.dialog.closeAll(),this.toastr.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"))})}nextStep(){this.currentStep<3&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}changeValue(){this.form.get("isUrgent").valueChanges.subscribe(e=>{e&&this.form.get("isTwoDays").setValue(!1)}),this.form.get("isTwoDays").valueChanges.subscribe(e=>{e&&this.form.get("isUrgent").setValue(!1)}),this.form.get("isSafeTransaction").valueChanges.subscribe(e=>{e&&this.agreementModal()}),this.form.get("transportKindIds").valueChanges.subscribe(e=>{if(1==e.length){let n=this.transportKinds.find(o=>o.id==e);this.isAutotransport=n?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=n?.name?.includes("\u0420\u0435\u0444\u0440\u0435\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=n?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=n?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")}else e.forEach(n=>{let o=this.transportKinds.find(i=>i.id==n);this.isAutotransport=this.isAutotransport||o?.name?.includes("\u0410\u0432\u0442\u043e\u0432\u043e\u0437"),this.isRefrigerator=this.isRefrigerator||o?.name?.includes("\u0420\u0435\u0444\u0440\u0435\u0436\u0435\u0440\u0430\u0442\u043e\u0440"),this.isCistern=this.isCistern||o?.name?.includes("\u0426\u0438\u0441\u0442\u0435\u0440\u043d\u0430"),this.isContainer=this.isContainer||o?.name?.includes("\u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432\u043e\u0437")})})}findCity(e){const n=e.target.value.toString().trim().toLowerCase();this.searchSubject.next(n)}displayFn(e){return e?e.displayName:""}findCities(e){return e?this._typesService.getCities(e,"en"):(0,k.of)({data:[]})}closeModal(){this.dialogRef.close()}agreementModal(){this.dialog.open(K,{autoFocus:!1,disableClose:!0,width:"600px"}).afterClosed().subscribe(n=>{"close"===n&&this.form.get("isSafeTransaction")?.setValue(!1)})}getDynamicLabel(e){switch(e){case"customsPlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"customsClearancePlaceLocation":return"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438";case"additionalLoadingLocation":case"additionalDeliveryLocation":return"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438";default:return null}}onCheckboxChange(e){this.isRefrigeratorMode=e.checked}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.so),t.Y36(l.qu),t.Y36(b),t.Y36(I.K),t.Y36(z.y),t.Y36(X._W),t.Y36(s.uw),t.Y36(s.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["create-order"]],standalone:!0,features:[t.jDz],decls:26,vars:16,consts:[[1,"flex","justify-between"],[4,"ngIf"],["class","cursor-pointer","svgIcon","heroicons_outline:arrow-long-left",3,"click",4,"ngIf"],["svgIcon","heroicons_outline:x-mark",1,"cursor-pointer",3,"click"],[1,"flex","items-center","justify-center","gap-1","mb-5"],[1,"stepper-item","active"],["svgIcon","heroicons_outline:arrow-long-right",1,"step-arrow"],[1,"stepper-item"],[1,"font-bold","text-3xl","flex","justify-center"],[1,"mat-typography","m-auto","px-3"],[1,"mt-8","w-full",3,"formGroup"],["align","center"],["class","fuse-mat-button-large  w-full mt-6","mat-flat-button","",3,"disabled","color","click",4,"ngIf"],["svgIcon","heroicons_outline:arrow-long-left",1,"cursor-pointer",3,"click"],[1,"grid","sm:grid-cols-1","gap-4"],[1,"flex-auto","gt-xs:pr-3","w-1/2"],["matIconSuffix","",3,"for"],["matInput","","readonly","","formControlName","sendDate",3,"matDatepicker"],["picker",""],[1,"grid","sm:grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex-auto","gt-xs:pr-3","md:w-72","sm:w-full"],["type","text","matInput","","formControlName","loadingLocation",3,"matAutocomplete","input"],["autoActiveFirstOption","",3,"displayWith"],["loadingLocation","matAutocomplete"],[4,"ngFor","ngForOf"],["matSuffix","",1,"icon-size-5",3,"svgIcon"],["type","text","matInput","","formControlName","deliveryLocation",3,"matAutocomplete","input"],["deliveryLocation","matAutocomplete"],["multiple","","formControlName","selectedLocations"],["value","customsPlaceLocation"],["value","customsClearancePlaceLocation"],["value","additionalLoadingLocation"],["value","additionalDeliveryLocation"],["matInput","","formControlName","clientId"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngIf"],[1,"grid","grid-cols-2"],["class","flex-auto gt-xs:pr-3 md:w-72 sm:w-full",4,"ngFor","ngForOf"],[1,"flex","flex-col"],["formControlName","isAdr"],["formControlName","isCarnetTir"],["formControlName","isGlonas"],["formControlName","isParanom"],[3,"value"],["matInput","",3,"value"],["type","text","matInput","",3,"matAutocomplete","formControlName","input"],["auto","matAutocomplete"],[1,"flex","gap-2"],[1,"flex-auto","md:w-72","sm:w-full"],["type","number","matInput","","formControlName","offeredPrice"],["matPrefix","","formControlName","offeredPriceCurrencyId"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","inAdvancePrice"],["matPrefix","","formControlName","inAdvancePriceCurrencyId"],["formControlName","paymentMethod",3,"compareWith"],["value","cash"],["value","cashless"],["formControlName","isSafeTransaction",1,"flex-auto","md:w-72","sm:w-full"],["formControlName","transportTypeIds","multiple","",3,"compareWith"],["formControlName","transportKindIds","multiple","",3,"compareWith"],["class","flex gap-2",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],["formControlName","cargoTypeId",3,"compareWith"],[3,"label",4,"ngFor","ngForOf","ngForTrackBy"],["type","number","matInput","","formControlName","cargoWeight"],["type","number","matInput","","formControlName","cubature"],[1,"flex-auto"],[1,"text-[#1e293b]","font-medium","dark:text-white"],[1,"flex","items-baseline","gap-2"],["type","number","matInput","","formControlName","cargoLength","placeholder","\u0414\u043b\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoWidth","placeholder","\u0428\u0438\u0440\u0438\u043d\u0430"],["type","number","matInput","","formControlName","cargoHeight","placeholder","\u0412\u044b\u0441\u043e\u0442\u0430"],["formControlName","loadingMethodId",3,"compareWith"],["formControlName","cargoPackageId",3,"compareWith"],["type","number","matInput","","formControlName","refrigeratorCount"],[3,"checked","change"],["formControlName","isHook"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","w-full"],["type","number","min","-10","max","24","matInput","","formControlName","refrigeratorFrom"],["type","number","max","25","min","0","matInput","","formControlName","refrigeratorTo"],["type","number","matInput","","formControlName","cisternVolume"],["formControlName","containerVolume",3,"value"],[3,"label"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"disabled","color","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,tt,1,0,"div",1),t.YNc(2,et,1,0,"mat-icon",2),t.TgZ(3,"mat-icon",3),t.NdJ("click",function(){return o.closeModal()}),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"span"),t._uU(7,"1"),t.qZA()(),t._UZ(8,"mat-icon",6),t.TgZ(9,"div",7)(10,"span"),t._uU(11,"2"),t.qZA()(),t._UZ(12,"mat-icon",6),t.TgZ(13,"div",7)(14,"span"),t._uU(15,"3"),t.qZA()()(),t.TgZ(16,"div",8),t._uU(17,"\u0420\u0410\u0417\u041c\u0415\u0429\u0415\u041d\u0418\u0415 \u0413\u0420\u0423\u0417\u0410"),t.qZA(),t.TgZ(18,"mat-dialog-content",9)(19,"form",10),t.YNc(20,lt,58,16,"div",1),t.YNc(21,ct,25,3,"div",1),t.YNc(22,xt,52,16,"div",1),t.qZA()(),t.TgZ(23,"mat-dialog-actions",11),t.YNc(24,qt,3,4,"button",12),t.YNc(25,bt,3,4,"button",12),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",1==o.currentStep),t.xp6(1),t.Q6J("ngIf",1!=o.currentStep),t.xp6(6),t.ekj("step-arrow-active",2===o.currentStep||3===o.currentStep),t.xp6(1),t.ekj("active",2===o.currentStep||3===o.currentStep),t.xp6(3),t.ekj("step-arrow-active",3===o.currentStep),t.xp6(1),t.ekj("active",3===o.currentStep),t.xp6(6),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngIf",1==o.currentStep),t.xp6(1),t.Q6J("ngIf",2==o.currentStep),t.xp6(1),t.Q6J("ngIf",3==o.currentStep),t.xp6(2),t.Q6J("ngIf",3!==o.currentStep),t.xp6(1),t.Q6J("ngIf",3==o.currentStep))},dependencies:[f.O5,f.ax,q.p9,q.oG,C.y4,C.Ot,h.LD,p.KE,p.hX,p.qo,p.R9,h.gD,D.ey,D.Nv,_.c,_.Nt,p.lN,g.Ps,g.Hw,l.u5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.Fd,l.UX,l.sg,l.u,Z.FA,Z.Mq,Z.hl,Z.nW,x.Bb,x.XC,x.ZL,s.Is,s.xY,s.H8,m.ot,m.lW,U.Cq,U.Ou],styles:[".active{background-color:#f97c00!important;box-shadow:0 0 5px #f97c00!important}.stepper-item{position:relative;width:50px;height:50px;border-radius:50%;background-color:#cdcdcd;box-shadow:0 0 5px #c0bebb}.stepper-item span{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700}.step-arrow-active{color:#f97c00}.prefix-select-container{display:flex;align-items:center}.prefix{margin-right:8px}\n"],encapsulation:2,data:{animation:M.L}})}return a})();var It=r(3617),Dt=r(3649),N=r(1848),Nt=r(7361);let Jt=(()=>{class a{transform(e,n=!0){const i=new Date(e),d=i.getUTCDate(),F=i.getUTCMonth(),Q=i.getUTCFullYear(),E=i.getUTCHours().toString().padStart(2,"0"),v=i.getUTCMinutes().toString().padStart(2,"0");let j=`${d} ${["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"][F]} ${Q}`;return n&&(j+=` \u0432 ${E}:${v}`),j}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275pipe=t.Yjl({name:"dateFormat",type:a,pure:!0})}return a})();function Ft(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0437\u0430\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsPlaceLocation?null:e.data.customsPlaceLocation.name,"")}}function Qt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0441\u0442\u0430\u043c\u043e\u0436\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.customsClearancePlaceLocation?null:e.data.customsClearancePlaceLocation.name,"")}}function Et(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalLoadingLocation?null:e.data.additionalLoadingLocation.name,"")}}function wt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data||null==e.data.additionalDeliveryLocation?null:e.data.additionalDeliveryLocation.name,"")}}function Mt(a,u){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Pt(a,u){if(1&a&&(t.TgZ(0,"p",11),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Yt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0432\u0442\u043e\u0432\u043e\u0437"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorCount,"")}}function St(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u043e\u0442 (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorFrom,"")}}function kt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u0420\u0435\u0436\u0438\u043c \u0434\u043e (\xb0\u0421)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.refrigeratorTo,"")}}function Bt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041a\u0440\u044e\u043a"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.isHook,"")}}function jt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u043b)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.cisternVolume,"")}}function Wt(a,u){if(1&a&&(t.TgZ(0,"div")(1,"p",10),t._uU(2,"\u041e\u0431\u044a\u0435\u043c(\u0444)"),t.qZA(),t.TgZ(3,"p",11),t._uU(4),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",null==e.data?null:e.data.containerVolume,"")}}const y=function(a,u){return[a,u]};let Kt=(()=>{class a{constructor(e,n,o){this.data=e,this.orderService=n,this.typesService=o,this.editing=!1}ngOnInit(){this.typesService.getCurrencies().subscribe(e=>{e.success&&(this.currencies=e.data)}),this.getOrderById(),this.updateDriverOffers()}getOrderById(){this.orderService.getOrderById(this.data).subscribe(e=>{e.success&&(this.data=e.data,console.log(this.data))})}updateDriverOffers(){this.data.driverOffers&&Array.isArray(this.data.driverOffers)&&(this.data.driverOffers=this.data.driverOffers.filter(e=>0==e.rejected))}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(s.WI),t.Y36(b),t.Y36(I.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-order-detail"]],standalone:!0,features:[t.jDz],decls:122,vars:52,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"h-60","w-full","mt-4"],[3,"center","zoom"],[3,"referencePoints"],[1,"max-w-md","mx-auto","mt-3","rounded-lg","shadow-md"],[1,"grid","grid-cols-2","gap-4"],[1,"text-lg","mb-1"],[1,"font-bold"],[4,"ngIf"],["class","font-bold",4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content",4)(7,"div",5)(8,"ya-map",6),t._UZ(9,"ya-multiroute",7),t.qZA()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),t._uU(14,"\u041e\u0442\u043a\u0443\u0434\u0430"),t.qZA(),t.TgZ(15,"p",11),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"p",10),t._uU(19,"\u041a\u0443\u0434\u0430"),t.qZA(),t.TgZ(20,"p",11),t._uU(21),t.qZA()(),t.YNc(22,Ft,5,1,"div",12),t.YNc(23,Qt,5,1,"div",12),t.YNc(24,Et,5,1,"div",12),t.YNc(25,wt,5,1,"div",12),t.TgZ(26,"div")(27,"p",10),t._uU(28,"\u0422\u0438\u043f \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(29,"p",11),t._uU(30),t.qZA()(),t.TgZ(31,"div")(32,"p",10),t._uU(33,"\u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(34,Mt,2,1,"p",13),t.qZA(),t.TgZ(35,"div")(36,"p",10),t._uU(37,"\u0412\u0438\u0434 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),t.qZA(),t.YNc(38,Pt,2,1,"p",13),t.qZA(),t.TgZ(39,"div")(40,"p",10),t._uU(41,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(42,"p",11),t._uU(43),t.qZA()(),t.TgZ(44,"div")(45,"p",10),t._uU(46,"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"),t.qZA(),t.TgZ(47,"p",11),t._uU(48),t.qZA()(),t.TgZ(49,"div")(50,"p",10),t._uU(51,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),t.qZA(),t.TgZ(52,"p",11),t._uU(53),t.qZA()(),t.TgZ(54,"div")(55,"p",10),t._uU(56,"\u0410\u0432\u0430\u043d\u0441"),t.qZA(),t.TgZ(57,"p",11),t._uU(58),t.qZA()(),t.TgZ(59,"div")(60,"p",10),t._uU(61,"\u0414\u0430\u0442\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"),t.qZA(),t.TgZ(62,"p",11),t._uU(63),t.ALo(64,"dateFormat"),t.qZA()(),t.TgZ(65,"div")(66,"p",10),t._uU(67,"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430"),t.qZA(),t.TgZ(68,"p",11),t._uU(69),t.ALo(70,"dateFormat"),t.qZA()(),t.TgZ(71,"div")(72,"p",10),t._uU(73,"\u0421\u0442\u0430\u0442\u0443\u0441"),t.qZA(),t.TgZ(74,"p",11),t._uU(75),t.qZA()(),t.TgZ(76,"div")(77,"p",10),t._uU(78,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA(),t.TgZ(79,"p",11),t._uU(80),t.qZA()(),t.TgZ(81,"div")(82,"p",10),t._uU(83,"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430"),t.qZA(),t.TgZ(84,"p",11),t._uU(85),t.qZA()(),t.TgZ(86,"div")(87,"p",10),t._uU(88,"ADR"),t.qZA(),t.TgZ(89,"p",11),t._uU(90),t.qZA()(),t.TgZ(91,"div")(92,"p",10),t._uU(93,"Carnet TIR"),t.qZA(),t.TgZ(94,"p",11),t._uU(95),t.qZA()(),t.TgZ(96,"div")(97,"p",10),t._uU(98,"\u0413\u041b\u041e\u041d\u0410\u0421\u0421"),t.qZA(),t.TgZ(99,"p",11),t._uU(100),t.qZA()(),t.TgZ(101,"div")(102,"p",10),t._uU(103,"\u041f\u0430\u0440\u043e\u043c\u043e\u043c"),t.qZA(),t.TgZ(104,"p",11),t._uU(105),t.qZA()(),t.YNc(106,Yt,5,1,"div",12),t.YNc(107,St,5,1,"div",12),t.YNc(108,kt,5,1,"div",12),t.YNc(109,Bt,5,1,"div",12),t.YNc(110,jt,5,1,"div",12),t.YNc(111,Wt,5,1,"div",12),t.TgZ(112,"div")(113,"p",10),t._uU(114,"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA(),t.TgZ(115,"p",11),t._uU(116),t.qZA()(),t.TgZ(117,"div")(118,"p",10),t._uU(119,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"),t.qZA(),t.TgZ(120,"p",11),t._uU(121),t.qZA()()()()()),2&n&&(t.xp6(2),t.hij("ID #",o.data.id,""),t.xp6(6),t.Q6J("center",t.WLB(40,y,o.data.loadingLocation.latitude,o.data.loadingLocation.longitude))("zoom",12),t.xp6(1),t.Q6J("referencePoints",t.WLB(49,y,t.WLB(43,y,o.data.loadingLocation.latitude,o.data.loadingLocation.longitude),t.WLB(46,y,o.data.deliveryLocation.latitude,o.data.deliveryLocation.longitude))),t.xp6(7),t.Oqu(null==o.data||null==o.data.loadingLocation?null:o.data.loadingLocation.name),t.xp6(5),t.Oqu(null==o.data||null==o.data.deliveryLocation?null:o.data.deliveryLocation.name),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.customsPlaceLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.customsClearancePlaceLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.additionalLoadingLocation),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.additionalDeliveryLocation),t.xp6(5),t.Oqu(null==o.data||null==o.data.cargoType?null:o.data.cargoType.name),t.xp6(4),t.Q6J("ngForOf",o.data.transportTypes),t.xp6(4),t.Q6J("ngForOf",o.data.transportKinds),t.xp6(5),t.lnq(" \u0434: ",null!=o.data&&o.data.cargoLength?(null==o.data?null:o.data.cargoLength)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0428: ",null!=o.data&&o.data.cargoWidth?(null==o.data?null:o.data.cargoWidth)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," \u0412: ",null!=o.data&&o.data.cargoHeight?(null==o.data?null:o.data.cargoHeight)+"\u0441\u043c.":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.cargoWeight?(null==o.data?null:o.data.cargoWeight)+"\u043a\u0433":"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.offeredPrice?(null==o.data?null:o.data.offeredPrice)+" "+(null==o.data||null==o.data.offeredPriceCurrency?null:o.data.offeredPriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.hij(" ",null!=o.data&&o.data.inAdvancePrice?(null==o.data?null:o.data.inAdvancePrice)+" "+(null==o.data||null==o.data.inAdvancePriceCurrency?null:o.data.inAdvancePriceCurrency.name):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430"," "),t.xp6(5),t.Oqu(t.lcZ(64,36,null==o.data?null:o.data.createdAt)),t.xp6(6),t.Oqu(t.lcZ(70,38,null==o.data?null:o.data.sendDate)),t.xp6(6),t.hij(" ",null==o.data||null==o.data.cargoStatus?null:o.data.cargoStatus.name,""),t.xp6(5),t.hij(" ","cash"==(null==o.data?null:o.data.paymentMethod)?"\u041d\u0430\u043b\u0438\u0447\u0438":"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0435",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isSafe?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isAdr?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isCarnetTir?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isGlonas?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(5),t.hij(" ",null!=o.data&&o.data.isParanom?"\u0414\u0430":"\u041d\u0435\u0442",""),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorCount),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorFrom),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.refrigeratorTo),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.isHook),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.cisternVolume),t.xp6(1),t.Q6J("ngIf",null==o.data?null:o.data.containerVolume),t.xp6(5),t.hij(" ",null!=o.data.loadingMethod&&o.data.loadingMethod.name?null==o.data.loadingMethod?null:o.data.loadingMethod.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""),t.xp6(5),t.hij(" ",null!=o.data.cargoPackage&&o.data.cargoPackage.name?null==o.data.cargoPackage?null:o.data.cargoPackage.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",""))},dependencies:[g.Ps,g.Hw,It.Nh,f.O5,Nt.d,Jt,p.lN,_.c,h.LD,l.u5,l.UX,N.te,N.k0,N.Vz,s.Is,s.ZT,s.uh,s.xY,C.y4,m.ot,m.RK,f.ax,Dt.AV],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:2px!important;padding:15px 20px}[_nghost-%COMP%]     ::-webkit-scrollbar{display:none}[_nghost-%COMP%]     .mat-mdc-dialog-content{max-height:83vh;padding:0!important}[_nghost-%COMP%]     .mdc-dialog__title{padding:0 0 9px!important}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar{width:2px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_nghost-%COMP%]     .mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}[_nghost-%COMP%]     .yandex{height:calc(100% - 135px)}[_nghost-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-content{padding:0}"]})}return a})();var J=r(2611),Ht=r(877),$t=r(8236);function Rt(a,u){if(1&a&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Vt(a,u){if(1&a&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Gt(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1," No "),t.qZA())}function zt(a,u){if(1&a&&(t.TgZ(0,"mat-cell",45),t._uU(1),t.qZA()),2&a){const e=u.index;t.xp6(1),t.hij(" ",e+1," ")}}function Xt(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1," ID "),t.qZA())}function te(a,u){if(1&a&&(t.TgZ(0,"mat-cell",45),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function ee(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"from")))}function ae(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.loadingLocation?null:e.loadingLocation.name," ")}}function oe(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"where")))}function ne(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.deliveryLocation?null:e.deliveryLocation.name," ")}}function ue(a,u){1&a&&(t.TgZ(0,"mat-header-cell",46),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"status"),""))}function ie(a,u){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",47)(2,"span"),t._uU(3),t.qZA()()()),2&a){const e=u.$implicit,n=t.oxw();t.xp6(1),t.Tol(n.returnClassStatusOrder(e.cargoStatus.name)),t.xp6(2),t.Oqu(n.statusOrderCheck(e.cargoStatus.name))}}function re(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"cargo_type")))}function le(a,u){if(1&a&&(t.TgZ(0,"mat-cell")(1,"div",48),t._uU(2),t.qZA()()),2&a){const e=u.$implicit;t.xp6(2),t.Oqu(e.cargoType.name)}}function de(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"cargo_type")))}function se(a,u){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ce(a,u){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,se,3,1,"span",50),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.transportTypes)}}function me(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t.YNc(1,ce,2,1,"span",49),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.Q6J("ngIf",e.transportTypes)}}function pe(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"secure_transaction")))}function ge(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.Oqu(e.isSafe?"\u0414\u0430":"\u041d\u0435\u0442")}}function fe(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"price")))}function _e(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",e.offeredPrice," ")}}function he(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shipment_date")))}function Ze(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=u.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,e.isUrgent?n.addTwoDays(e.createdAt):e.createdAt,"dd.MM.YYYY")," ")}}function Ce(a,u){1&a&&(t.TgZ(0,"mat-header-cell",44),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"client")))}function Te(a,u){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const e=u.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.deliveryLocation," ")}}function ve(a,u){1&a&&t._UZ(0,"mat-header-cell")}function Ae(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"div",51)(2,"button",52),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,53)(7,"button",54),t.NdJ("click",function(){const i=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.cancel(i))}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA()()()()}if(2&a){const e=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.hij(" ",t.lcZ(11,2,"cancel")," ")}}function xe(a,u){1&a&&t._UZ(0,"mat-header-row")}function ye(a,u){if(1&a){const e=t.EpF();t.TgZ(0,"mat-row",55),t.NdJ("click",function(){const i=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.detail(i.id))}),t.qZA()}}const Oe=function(){return[10,20,50,100,200]},qe=[{path:"",component:(()=>{class a{constructor(e,n,o,i){this.orderService=e,this.authService=n,this.dialog=o,this._typeService=i,this.isLoading=!1,this.displayedColumns=["index","id","sendLocation","cargoDeliveryLocation","status","date_send","offeredPrice","secure_transaction","type_cargo","transport_type","client","actions"],this.transportKinds=[],this.transportTypes=[],this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""},this.pageParams={page:1,limit:10,perPage:10,sortBy:"id",sortType:"asc"},this.dataSource=new c.by([])}ngOnInit(){this.currentUser=(0,W.o)(this.authService.accessToken),this.getOrders(),this._typeService.getTransportKinds().subscribe(e=>{this.transportKinds=e.data}),this._typeService.getTransportTypes().subscribe(e=>{this.transportTypes=e.data})}detail(e){this.dialog.open(Kt,{width:"500px",height:"100vh",autoFocus:!1,position:{top:"0",right:"0"},maxHeight:"100%",data:e}).afterClosed().subscribe(()=>{this.getOrders(this.pageParams)})}clearFilters(){this.filters={orderId:"",statusId:"",loadingLocation:"",deliveryLocation:"",transportKindId:"",transportTypeId:"",createdBy:"",createdAt:"",sendDate:"",merchantOrder:""}}filterDrivers(){}onPageChange(e){this.pageParams.limit=e.pageSize,this.pageParams.perPage=e.pageSize,this.pageParams.page=e.pageIndex,this.getOrders(this.pageParams)}getOrders(e){this.isLoading=!0,this.orderService.getOrders(Object.assign(this.filters,e)).subscribe(n=>{n&&n.success?(this.isLoading=!1,this.dataSource=n.data):(this.isLoading=!1,this.dataSource.data=[])}),this.isLoading=!1}addTwoDays(e){const n=new Date(e);return n.setDate(n.getDate()+2),n}statusOrderCheck(e){switch(e){case"waiting":return"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0439";case 1:return"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f";case 2:return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case 3:return"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";case 4:return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";default:return"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"}}returnClassStatusOrder(e){switch(e){case"waiting":return"status-order-blue";case 1:return"status-order-yellow";case 2:return"status-order-green";case 3:return"status-order-info";case 4:return"status-order-red";default:return"status-order"}}cancel(e){this.orderService.cancelOrder(e.id).subscribe(n=>{n&&n.success&&this.getOrders(this.pageParams)})}edit(e){this.dialog.open(B,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0,data:e}).afterClosed().subscribe(o=>{this.getOrders(this.pageParams)})}createOrderModal(){this.dialog.open(B,{minWidth:"50vw",maxWidth:"70vw",minHeight:"50vh",maxHeight:"95vh",autoFocus:!1,disableClose:!0}).afterClosed().subscribe(n=>{this.getOrders(this.pageParams)})}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(b),t.Y36($t.e),t.Y36(s.uw),t.Y36(I.K))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-orders"]],viewQuery:function(n,o){if(1&n&&t.Gf(O.NW,5),2&n){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first)}},standalone:!0,features:[t.jDz],decls:88,vars:43,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto","border-t"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",3,"color","click"],[1,"flex","items-baseline","flex-wrap"],["color","accent",1,"w-50","px-1"],["matInput","","name","ID",3,"placeholder","ngModel","ngModelChange"],["matInput","","name","StatusID",3,"placeholder","ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","loadingLocation",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0433\u0440\u0443\u0437\u0430","name","deliveryLocation",3,"ngModel","ngModelChange"],["name","transportTypeId",3,"placeholder","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","transportKindId",3,"placeholder","ngModel","ngModelChange"],["name","merchantOrder",3,"placeholder","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"px-1"],["mat-flat-button","","color","warn",1,"",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"mt-4","h-100"],["matSort","",1,"table",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","sendLocation"],[4,"matCellDef"],["matColumnDef","cargoDeliveryLocation"],["matColumnDef","status"],["class","font-bold","mat-sort-header","","sortActionDescription","Sort by status",4,"matHeaderCellDef"],["matColumnDef","type_cargo"],["matColumnDef","transport_type"],["matColumnDef","secure_transaction"],["matColumnDef","offeredPrice"],["matColumnDef","date_send"],["matColumnDef","client"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"showFirstLastButtons","pageSizeOptions"],[3,"value"],[1,"font-bold"],[1,"index-column"],["mat-sort-header","","sortActionDescription","Sort by status",1,"font-bold"],[1,"status-badge"],[1,"truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],[3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"\u0413\u0440\u0443\u0437\u044b"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return o.createOrderModal()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA(),t._uU(10," \u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0433\u0440\u0443\u0437 "),t.qZA()()(),t.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"input",8),t.NdJ("ngModelChange",function(d){return o.filters.orderId=d}),t.ALo(14,"transloco"),t.qZA()(),t.TgZ(15,"mat-form-field",7)(16,"input",9),t.NdJ("ngModelChange",function(d){return o.filters.statusId=d}),t.ALo(17,"transloco"),t.qZA()(),t.TgZ(18,"mat-form-field",7)(19,"input",10),t.NdJ("ngModelChange",function(d){return o.filters.loadingLocation=d}),t.qZA()(),t.TgZ(20,"mat-form-field",7)(21,"input",11),t.NdJ("ngModelChange",function(d){return o.filters.deliveryLocation=d}),t.qZA()(),t.TgZ(22,"mat-form-field",7)(23,"mat-select",12),t.NdJ("ngModelChange",function(d){return o.filters.transportTypeId=d}),t.ALo(24,"transloco"),t.YNc(25,Rt,2,2,"mat-option",13),t.qZA()(),t.TgZ(26,"mat-form-field",7)(27,"mat-select",14),t.NdJ("ngModelChange",function(d){return o.filters.transportKindId=d}),t.ALo(28,"transloco"),t.YNc(29,Vt,2,2,"mat-option",13),t.qZA()(),t.TgZ(30,"mat-form-field",7)(31,"mat-select",15),t.NdJ("ngModelChange",function(d){return o.filters.merchantOrder=d}),t.ALo(32,"transloco"),t.TgZ(33,"mat-option",16),t._uU(34),t.ALo(35,"transloco"),t.qZA(),t.TgZ(36,"mat-option",17),t._uU(37),t.ALo(38,"transloco"),t.qZA()()(),t.TgZ(39,"div",18)(40,"button",19),t.NdJ("click",function(){return o.clearFilters()}),t._uU(41),t.ALo(42,"transloco"),t.qZA()(),t.TgZ(43,"div",18)(44,"button",20),t.NdJ("click",function(){return o.getOrders()}),t._uU(45),t.ALo(46,"transloco"),t.qZA()()(),t.TgZ(47,"div",21)(48,"mat-table",22),t.ynx(49,23),t.YNc(50,Gt,2,0,"mat-header-cell",24),t.YNc(51,zt,2,1,"mat-cell",25),t.BQk(),t.ynx(52,26),t.YNc(53,Xt,2,0,"mat-header-cell",24),t.YNc(54,te,2,1,"mat-cell",25),t.BQk(),t.ynx(55,27),t.YNc(56,ee,3,3,"mat-header-cell",24),t.YNc(57,ae,2,1,"mat-cell",28),t.BQk(),t.ynx(58,29),t.YNc(59,oe,3,3,"mat-header-cell",24),t.YNc(60,ne,2,1,"mat-cell",28),t.BQk(),t.ynx(61,30),t.YNc(62,ue,3,3,"mat-header-cell",31),t.YNc(63,ie,4,3,"mat-cell",28),t.BQk(),t.ynx(64,32),t.YNc(65,re,3,3,"mat-header-cell",24),t.YNc(66,le,3,1,"mat-cell",28),t.BQk(),t.ynx(67,33),t.YNc(68,de,3,3,"mat-header-cell",24),t.YNc(69,me,2,1,"mat-cell",28),t.BQk(),t.ynx(70,34),t.YNc(71,pe,3,3,"mat-header-cell",24),t.YNc(72,ge,2,1,"mat-cell",28),t.BQk(),t.ynx(73,35),t.YNc(74,fe,3,3,"mat-header-cell",24),t.YNc(75,_e,2,1,"mat-cell",28),t.BQk(),t.ynx(76,36),t.YNc(77,he,3,3,"mat-header-cell",24),t.YNc(78,Ze,3,4,"mat-cell",28),t.BQk(),t.ynx(79,37),t.YNc(80,Ce,3,3,"mat-header-cell",24),t.YNc(81,Te,2,1,"mat-cell",28),t.BQk(),t.ynx(82,38),t.YNc(83,ve,1,0,"mat-header-cell",39),t.YNc(84,Ae,12,4,"mat-cell",28),t.BQk(),t.YNc(85,xe,1,0,"mat-header-row",40),t.YNc(86,ye,1,0,"mat-row",41),t.qZA(),t._UZ(87,"mat-paginator",42),t.qZA()()()),2&n&&(t.xp6(7),t.Q6J("color","primary"),t.xp6(6),t.s9C("placeholder",t.lcZ(14,24,"ID")),t.Q6J("ngModel",o.filters.orderId),t.xp6(3),t.s9C("placeholder",t.lcZ(17,26,"StatusID")),t.Q6J("ngModel",o.filters.statusId),t.xp6(3),t.Q6J("ngModel",o.filters.loadingLocation),t.xp6(2),t.Q6J("ngModel",o.filters.deliveryLocation),t.xp6(2),t.s9C("placeholder",t.lcZ(24,28,"transport_type")),t.Q6J("ngModel",o.filters.transportTypeId),t.xp6(2),t.Q6J("ngForOf",o.transportTypes),t.xp6(2),t.s9C("placeholder",t.lcZ(28,30,"transport_cargo")),t.Q6J("ngModel",o.filters.transportKindId),t.xp6(2),t.Q6J("ngForOf",o.transportKinds),t.xp6(2),t.s9C("placeholder",t.lcZ(32,32,"merchant_order")),t.Q6J("ngModel",o.filters.merchantOrder),t.xp6(3),t.Oqu(t.lcZ(35,34,"merchant_order")),t.xp6(3),t.Oqu(t.lcZ(38,36,"no_merchant_order")),t.xp6(4),t.hij(" ",t.lcZ(42,38,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(46,40,"filter"),""),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("pageSizeOptions",t.DdM(42,Oe)))},dependencies:[C.y4,C.Ot,f.uU,g.Ps,g.Hw,Z.FA,l.u5,l.Fj,l.JJ,l.On,l.UX,h.LD,p.KE,h.gD,D.ey,m.ot,m.lW,m.RK,f.ax,f.O5,c.p0,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,p.lN,_.c,_.Nt,J.JX,J.YE,J.nU,O.TU,O.NW,A.Tx,A.VK,A.OP,A.p6,Ht.rP],encapsulation:2})}return a})(),resolve:{}}]}}]);