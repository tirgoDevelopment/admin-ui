"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[670],{8617:(K,k,m)=>{m.r(k),m.d(k,{default:()=>Ta});var d=m(4755),x=m(877),p=m(1728),_=m(430),f=m(5707),h=m(6702),v=m(2611),u=m(3627),A=m(9609),g=m(9114),Z=m(7406),E=m(6266),S=m(1983),r=m(9401),s=m(6286),b=m(787),B=m(1274),$=m(1951),J=m(5191),R=m(9158),y=m(4250),t=m(2223),D=m(3648),F=m(2689),U=m(3144),Q=m(9502),G=m(8615);let q=(()=>{class e{constructor(a,o){this._apiService=a,this._http=o}get(a){let o=new U.LE;return o=o.append("id",a),this._apiService.get("/users/agents/agent-by",o)}getAll(a){return this._apiService.get("/users/agents",(0,F.$)(a))}getAllByAgent(a){return this._apiService.get("/users/drivers/by-agent",(0,F.$)(a))}getAgentTransactions(a){let o=new U.LE;return o=o.append("agentId",a),this._http.get(Q.O.merchantUrl+"/finance/transaction/agent-transactions",{params:o})}getAgentbalance(a){console.log(a);let o=new U.LE;return o=o.append("agentId",a),this._http.get(Q.O.merchantUrl+"/finance/transaction/agent-balance",{params:o})}block(a,o){let n=new U.LE;return n=n.append("id",a),this._apiService.patch("/users/agents/block-agent",o,n)}active(a){let o=new U.LE;return o=o.append("id",a),this._apiService.patch("/users/agents/activate-agent",{},o)}getAllDeleted(a){return this._apiService.get("/agents/deleted",(0,F.$)(a))}create(a){return this._apiService.post("/users/agents/register",a)}CreateBalanseAgent(a){return this._http.post(Q.O.merchantUrl+"/finance/transaction",a)}createsubscription(a){return this._apiService.post("/users/agents/add-subscription-driver",a)}connectToAgent(a){return this._apiService.post("/users/drivers/append-driver-to-agent",a)}update(a){return this._apiService.put("/users/agents/update",a)}delete(a){let o=new U.LE;return o=o.append("id",a),this._apiService.delete("/users/agents",o)}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(G.s),t.LFG(U.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var I=m(2621),H=m(1217);function z(e,i){1&e&&(t.TgZ(0,"p",40),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_agent")))}function X(e,i){1&e&&(t.TgZ(0,"p",40),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_agent")))}function V(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function tt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function et(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u044f 6 "),t.qZA())}function at(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," \u042d\u0442\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b \u0438 \u0447\u0438\u0441\u043b\u043e "),t.qZA())}function nt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ot(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function it(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function rt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function lt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function st(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ct(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function mt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function ut(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function pt(e,i){if(1&e&&(t.TgZ(0,"mat-option",46),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function dt(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-form-field",41)(1,"mat-label"),t._uU(2,"Bank Account"),t.qZA(),t._UZ(3,"input",42),t.TgZ(4,"mat-select",43),t.YNc(5,pt,2,2,"mat-option",44),t.qZA(),t.TgZ(6,"button",45),t.NdJ("click",function(){const l=t.CHM(a).index,c=t.oxw();return t.KtG(c.removeItem(l))}),t._uU(7,"Remove"),t.qZA()()}if(2&e){const a=i.index,o=t.oxw();t.Q6J("formGroupName",a),t.xp6(5),t.Q6J("ngForOf",o.currencies),t.xp6(1),t.Q6J("color","warn")}}function gt(e,i){if(1&e&&t._UZ(0,"img",47),2&e){const a=t.oxw();t.Q6J("src",a.registrationCertificateFilePath,t.LSH)}}function _t(e,i){if(1&e&&(t._UZ(0,"img",47),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&e){const a=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,a.registrationCertificateFilePath,"driver")),t.LSH)}}function ft(e,i){if(1&e&&t._UZ(0,"img",47),2&e){const a=t.oxw();t.Q6J("src",a.managerPassportFilePath,t.LSH)}}function ht(e,i){if(1&e&&(t._UZ(0,"img",47),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&e){const a=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,a.managerPassportFilePath,"driver")),t.LSH)}}const T=function(e){return{"is-invalid":e}},At=function(){return["uz"]},Zt=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button ":i}};let M=(()=>{class e{constructor(a,o,n,l,c,C,j){this.fb=a,this.data=o,this._toaster=n,this._agentService=l,this._typeService=c,this._cdr=C,this._dialog=j,this.edit=!1,this.passwordGenerator=new $.E,this.formData=new FormData,this.form=new r.cw({id:new r.NI(""),username:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required,r.kI.maxLength(6),r.kI.pattern("^[a-zA-Z]+d{1,6}$")]),companyName:new r.NI("",[r.kI.required]),legalAddress:new r.NI("",[r.kI.required]),physicalAddress:new r.NI("",[r.kI.required]),managerFirstName:new r.NI("",[r.kI.required]),managerLastName:new r.NI("",[r.kI.required]),inn:new r.NI("",[r.kI.required]),oked:new r.NI("",[r.kI.required]),mfo:new r.NI("",[r.kI.required]),bankAccounts:new r.Oe([]),bankBranchName:new r.NI("",[r.kI.required]),registrationCertificateFilePath:new r.NI("",[r.kI.required]),managerPassportFilePath:new r.NI("",[r.kI.required]),phoneNumber:new r.NI("",[r.kI.required])}),this._typeService.getCurrencies().subscribe(Ca=>{this.currencies=Ca.data}),this.data&&(this.edit=!0,console.log(this.data),this.getAgentById(this.data.id)),this.addItem()}getAgentById(a){this._agentService.get(a).subscribe(o=>{this.registrationCertificateFilePath=o.data.registrationCertificateFilePath,this.managerPassportFilePath=o.data.managerPassportFilePath,o.success&&this.form.patchValue({id:o.data.id,username:o.data.username,phoneNumber:o.data.phoneNumber,companyName:o.data.companyName,legalAddress:o.data.legalAddress,physicalAddress:o.data.physicalAddress,managerFirstName:o.data.managerFirstName,managerLastName:o.data.managerLastName,inn:o.data.inn,oked:o.data.oked,mfo:o.data.mfo,bankBranchName:o.data.bankBranchName,bankAccounts:o.data.bankAccounts,registrationCertificateFilePath:o.data.registrationCertificateFilePath,managerPassportFilePath:o.data.managerPassportFilePath})})}selectFile(a,o){const n=a.target.files[0];if(n){this.formData.append(o,n,(new Date).getTime().toString()+".jpg");const l=new FileReader;l.onload=()=>{this[o]=l.result,this._cdr.detectChanges()},l.readAsDataURL(n)}}getImageUrl(a){const o=this.form.get(`${a}`).value;return o instanceof File?URL.createObjectURL(o):""}get itemsFormArray(){return this.form.get("bankAccounts")}addItem(){this.itemsFormArray.push(this.createItem())}createItem(){return this.fb.group({currencyId:["",r.kI.required],account:["",r.kI.required]})}removeItem(a){this.itemsFormArray.removeAt(a)}onFileSelected(a,o){const n=a.target.files[0];switch(o){case"registrationCertificateFilePath":this.form.patchValue({registrationCertificateFilePath:n});case"managerPassportFilePath":this.form.patchValue({managerPassportFilePath:n})}}get f(){return this.form.controls}submit(){this.formData.append("id",this.form.get("id").value),this.formData.append("username",this.form.get("username").value),this.formData.append("companyName",this.form.get("companyName").value),this.formData.append("password",this.form.get("password").value),this.formData.append("bankAccounts",JSON.stringify(this.form.get("bankAccounts").value)),this.formData.append("legalAddress",this.form.get("legalAddress").value),this.formData.append("physicalAddress",this.form.get("physicalAddress").value),this.formData.append("managerFirstName",this.form.get("managerFirstName").value),this.formData.append("managerLastName",this.form.get("managerLastName").value),this.formData.append("inn",this.form.get("inn").value),this.formData.append("oked",this.form.get("oked").value),this.formData.append("mfo",this.form.get("mfo").value),this.formData.append("bankBranchName",this.form.get("bankBranchName").value),this.formData.append("phoneNumber",this.form.get("phoneNumber").value),"string"==typeof this.form.get("registrationCertificateFilePath")?.value&&this.formData.append("registrationCertificateFilePath",this.form.get("registrationCertificateFilePath")?.value),"string"==typeof this.form.get("managerPassportFilePath")?.value&&this.formData.append("managerPassportFilePath",this.form.get("managerPassportFilePath")?.value);const a=(0,R.l)(this.formData);this.form.valid?this.form.value.id?this._agentService.update(this.form.value).pipe(o=>((0,J.b)(o),o)).subscribe(o=>{o.success?(this._dialog.closeAll(),this._toaster.success("\u0410\u0433\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0433\u0435\u043d\u0442")}):this._agentService.create(a).pipe(o=>((0,J.b)(o),o)).subscribe(o=>{o.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0410\u0433\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0433\u0435\u043d\u0442")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}generate(){this.form.patchValue({password:this.passwordGenerator.generateRandomPassword()})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(s.WI),t.Y36(D._W),t.Y36(q),t.Y36(I.K),t.Y36(t.sBO),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-agent"]],standalone:!0,features:[t.jDz],decls:124,vars:121,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-3","gap-4","px-3"],["matInput","","formControlName","username",3,"ngClass"],[4,"ngIf"],["matInput","","required","","formControlName","password",3,"ngClass"],["required","","matInput","","name","companyName","formControlName","companyName",3,"ngClass"],["required","","matInput","","name","legalAddress","formControlName","legalAddress",3,"ngClass"],["required","","matInput","","name","physicalAddress","formControlName","physicalAddress",3,"ngClass"],["required","","matInput","","name","managerFirstName","formControlName","managerFirstName",3,"ngClass"],["required","","matInput","","name","managerLastName","formControlName","managerLastName",3,"ngClass"],["type","text","mask","999999999","matInput","","name","inn","formControlName","inn","maxlength","9","required","",3,"ngClass"],["type","text","mask","99999","matInput","","name","oked","formControlName","oked","maxlength","5","required","",3,"ngClass"],["type","text","matInput","","name","mfo","formControlName","mfo","mask","99999","maxlength","5","required","",3,"ngClass"],["matInput","","name","bankBranchName","formControlName","bankBranchName","required","",3,"ngClass"],["formControlName","phoneNumber","name","phoneNumber",3,"cssClass","preferredCountries","enablePlaceholder","enableSearch"],["phone",""],[1,"flex","flex-wrap","gap-4","justify-start"],[1,"w-1/3"],["type","button","mat-flat-button","",1,"mx-2",3,"color","click"],["formArrayName","bankAccounts",1,"flex","flex-wrap","items-center","justify-center","w-full"],["class","w-full",3,"formGroupName",4,"ngFor","ngForOf"],[1,"w-40"],[1,"relative","flex","items-center","justify-center","w-40","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","registrationCertificateFilePath","id","avatar-file-input2","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input2","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],[1,"w-40","mt-6"],["formControlName","managerPassportFilePath","id","avatar-file-input1","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input1","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[1,"w-full",3,"formGroupName"],["type","number","matInput","","formControlName","account"],["matPrefix","","formControlName","currencyId"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","",1,"fuse-mat-button",3,"color","click"],[3,"value"],[1,"object-fill","w-full","h-full",3,"src"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,z,3,3,"p",1),t.YNc(2,X,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"mat-form-field")(10,"mat-label"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,V,3,3,"mat-error",7),t.qZA(),t.TgZ(15,"mat-form-field")(16,"mat-label"),t._uU(17),t.ALo(18,"transloco"),t.qZA(),t._UZ(19,"input",8),t.YNc(20,tt,3,3,"mat-error",7),t.YNc(21,et,2,0,"mat-error",7),t.YNc(22,at,2,0,"mat-error",7),t.qZA(),t.TgZ(23,"mat-form-field")(24,"mat-label"),t._uU(25),t.ALo(26,"transloco"),t.qZA(),t._UZ(27,"input",9),t.YNc(28,nt,3,3,"mat-error",7),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31),t.ALo(32,"transloco"),t.qZA(),t._UZ(33,"input",10),t.YNc(34,ot,3,3,"mat-error",7),t.qZA(),t.TgZ(35,"mat-form-field")(36,"mat-label"),t._uU(37),t.ALo(38,"transloco"),t.qZA(),t._UZ(39,"input",11),t.YNc(40,it,3,3,"mat-error",7),t.qZA(),t.TgZ(41,"mat-form-field")(42,"mat-label"),t._uU(43),t.ALo(44,"transloco"),t.qZA(),t._UZ(45,"input",12),t.YNc(46,rt,3,3,"mat-error",7),t.qZA(),t.TgZ(47,"mat-form-field")(48,"mat-label"),t._uU(49),t.ALo(50,"transloco"),t.qZA(),t._UZ(51,"input",13),t.YNc(52,lt,3,3,"mat-error",7),t.qZA(),t.TgZ(53,"mat-form-field")(54,"mat-label"),t._uU(55),t.ALo(56,"transloco"),t.qZA(),t._UZ(57,"input",14),t.YNc(58,st,3,3,"mat-error",7),t.qZA(),t.TgZ(59,"mat-form-field")(60,"mat-label"),t._uU(61),t.ALo(62,"transloco"),t.qZA(),t._UZ(63,"input",15),t.YNc(64,ct,3,3,"mat-error",7),t.qZA(),t.TgZ(65,"mat-form-field")(66,"mat-label"),t._uU(67),t.ALo(68,"transloco"),t.qZA(),t._UZ(69,"input",16),t.YNc(70,mt,3,3,"mat-error",7),t.qZA(),t.TgZ(71,"mat-form-field")(72,"mat-label"),t._uU(73),t.ALo(74,"transloco"),t.qZA(),t._UZ(75,"input",17),t.YNc(76,ut,3,3,"mat-error",7),t.qZA(),t.TgZ(77,"mat-form-field")(78,"mat-label"),t._uU(79),t.ALo(80,"transloco"),t.qZA(),t._UZ(81,"ngx-mat-intl-tel-input",18,19),t.qZA()(),t.TgZ(83,"div",20)(84,"div",21)(85,"button",22),t.NdJ("click",function(){return n.addItem()}),t._uU(86,"Add "),t.qZA(),t.TgZ(87,"div",23),t.YNc(88,dt,8,3,"mat-form-field",24),t.qZA()(),t.TgZ(89,"div",20)(90,"div",25)(91,"mat-label"),t._uU(92),t.ALo(93,"transloco"),t.qZA(),t.TgZ(94,"div",26),t._UZ(95,"div",27),t.TgZ(96,"div",28)(97,"div")(98,"input",29),t.NdJ("change",function(c){return n.selectFile(c,"registrationCertificateFilePath")}),t.qZA(),t.TgZ(99,"label",30),t._UZ(100,"mat-icon",31),t.qZA()()(),t.YNc(101,gt,1,1,"img",32),t.YNc(102,_t,3,6,"img",32),t.qZA()(),t.TgZ(103,"div",33)(104,"mat-label"),t._uU(105),t.ALo(106,"transloco"),t.qZA(),t.TgZ(107,"div",26),t._UZ(108,"div",27),t.TgZ(109,"div",28)(110,"div")(111,"input",34),t.NdJ("change",function(c){return n.selectFile(c,"managerPassportFilePath")}),t.qZA(),t.TgZ(112,"label",35),t._UZ(113,"mat-icon",31),t.qZA()()(),t.YNc(114,ft,1,1,"img",32),t.YNc(115,ht,3,6,"img",32),t.qZA()()()()()(),t.TgZ(116,"mat-dialog-actions",36)(117,"div",37)(118,"button",38),t._uU(119),t.ALo(120,"transloco"),t.qZA(),t.TgZ(121,"button",39),t.NdJ("click",function(){return n.submit()}),t._uU(122),t.ALo(123,"transloco"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("ngIf",!n.edit),t.xp6(1),t.Q6J("ngIf",n.edit),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(4),t.Oqu(t.lcZ(12,63,"login")),t.xp6(2),t.Q6J("ngClass",t.VKq(95,T,n.f.username.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.username.errors?null:n.f.username.errors.required),t.xp6(3),t.Oqu(t.lcZ(18,65,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(97,T,n.f.password.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.pattern),t.xp6(3),t.Oqu(t.lcZ(26,67,"company_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(99,T,n.f.companyName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.companyName.errors?null:n.f.companyName.errors.required),t.xp6(3),t.Oqu(t.lcZ(32,69,"legal_address")),t.xp6(2),t.Q6J("ngClass",t.VKq(101,T,n.f.legalAddress.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.legalAddress.errors?null:n.f.legalAddress.errors.required),t.xp6(3),t.Oqu(t.lcZ(38,71,"actual_address")),t.xp6(2),t.Q6J("ngClass",t.VKq(103,T,n.f.physicalAddress.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.physicalAddress.errors?null:n.f.physicalAddress.errors.required),t.xp6(3),t.hij(" ",t.lcZ(44,73,"director_first_name"),""),t.xp6(2),t.Q6J("ngClass",t.VKq(105,T,n.f.managerFirstName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.managerFirstName.errors?null:n.f.managerFirstName.errors.required),t.xp6(3),t.hij(" ",t.lcZ(50,75,"director_last_name"),""),t.xp6(2),t.Q6J("ngClass",t.VKq(107,T,n.f.managerLastName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.managerLastName.errors?null:n.f.managerLastName.errors.required),t.xp6(3),t.Oqu(t.lcZ(56,77,"inn")),t.xp6(2),t.Q6J("ngClass",t.VKq(109,T,n.f.inn.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.inn.errors?null:n.f.inn.errors.required),t.xp6(3),t.Oqu(t.lcZ(62,79,"oked")),t.xp6(2),t.Q6J("ngClass",t.VKq(111,T,n.f.oked.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.oked.errors?null:n.f.oked.errors.required),t.xp6(3),t.Oqu(t.lcZ(68,81,"mfo")),t.xp6(2),t.Q6J("ngClass",t.VKq(113,T,n.f.mfo.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.mfo.errors?null:n.f.mfo.errors.required),t.xp6(3),t.hij(" ",t.lcZ(74,83,"bank_name"),""),t.xp6(2),t.Q6J("ngClass",t.VKq(115,T,n.f.bankBranchName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.bankBranchName.errors?null:n.f.bankBranchName.errors.required),t.xp6(3),t.hij(" ",t.lcZ(80,85,"phone"),""),t.xp6(2),t.Q6J("cssClass","custom")("preferredCountries",t.DdM(117,At))("enablePlaceholder",!0)("enableSearch",!0),t.xp6(4),t.Q6J("color","primary"),t.xp6(3),t.Q6J("ngForOf",n.itemsFormArray.controls),t.xp6(4),t.hij("",t.lcZ(93,87,"registration_certificate")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",n.registrationCertificateFilePath&&!n.edit),t.xp6(1),t.Q6J("ngIf",n.registrationCertificateFilePath&&n.edit),t.xp6(3),t.hij("",t.lcZ(106,89,"passport_owner")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",n.managerPassportFilePath&&!n.edit),t.xp6(1),t.Q6J("ngIf",n.managerPassportFilePath&&n.edit),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(120,91,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(118,Zt,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(123,93,"save")," "))},dependencies:[f.y4,f.Ot,B.d,A.c,A.Nt,g.KE,g.hX,g.TO,g.qo,_.Ps,_.Hw,b.LD,b.gD,H.ey,p.ot,p.lW,p.RK,r.UX,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,r.x0,r.CE,s.Is,s.ZT,s.uh,s.xY,s.H8,r.u5,d.ax,d.O5,u.p0,d.mk,g.lN,v.JX,h.TU,Z.Tx,x.rP],encapsulation:2,changeDetection:0})}return e})();var Y=m(5159),L=m(3231),w=m(8280),N=m(4867);function vt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}const xt=function(e){return{"is-invalid":e}},bt=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button dark":i}};let Tt=(()=>{class e{constructor(a,o,n,l){this.data=a,this._toaster=o,this._agentService=n,this._dialog=l,this.form=new r.cw({id:new r.NI(""),block_reason:new r.NI("",[r.kI.required])}),this.data&&this.form.patchValue({id:this.data})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.block(this.form.get("id").value,this.form.get("block_reason").value).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u041a\u043b\u0438\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d")):this._toaster.error("\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(D._W),t.Y36(q),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-agent-block"]],standalone:!0,features:[t.jDz],decls:21,vars:21,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"p-3"],["color","accent",1,"w-full"],["matInput","","formControlName","block_reason","rows","4",3,"ngClass"],[4,"ngIf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"div",5)(10,"mat-form-field",6),t._UZ(11,"textarea",7),t.YNc(12,vt,3,3,"mat-error",8),t.qZA()()()(),t.TgZ(13,"mat-dialog-actions",9)(14,"div",10)(15,"button",11),t._uU(16),t.ALo(17,"transloco"),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return n.submit()}),t._uU(19),t.ALo(20,"transloco"),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,10,"block")),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("ngClass",t.VKq(16,xt,null==n.f.block_reason?null:n.f.block_reason.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.block_reason.errors?null:n.f.block_reason.errors.required),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(17,12,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(18,bt,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(20,14,"save")," "))},dependencies:[f.y4,f.Ot,d.mk,L.Co,N.Fk,w.FA,A.c,A.Nt,g.KE,g.TO,_.Ps,_.Hw,b.LD,p.ot,p.lW,p.RK,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,s.Is,s.ZT,s.uh,s.xY,s.H8,r.u5,d.O5,u.p0,g.lN,v.JX,h.TU,Z.Tx,x.rP],encapsulation:2,changeDetection:0})}return e})();function Ct(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1," No "),t.qZA())}function qt(e,i){if(1&e&&(t.TgZ(0,"mat-cell",38),t._uU(1),t.qZA()),2&e){const a=i.index;t.xp6(1),t.hij(" ",a+1," ")}}function wt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1," ID "),t.qZA())}function Nt(e,i){if(1&e&&(t.TgZ(0,"mat-cell",38),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.id," ")}}function Ut(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"full_name")," "))}function yt(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.AsE(" ",null==a?null:a.managerFirstName," ",null==a?null:a.managerLastName," ")}}function Dt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"login")," "))}function It(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.username," ")}}function Lt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"register_date")," "))}function kt(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==a?null:a.createdAt,"dd/MM/yyyy")," ")}}function Jt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"last_enter")," "))}function Ft(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==a?null:a.last_inter,"dd/MM/yyyy")," ")}}function Qt(e,i){1&e&&(t.TgZ(0,"mat-header-cell",37),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"status")," "))}function Yt(e,i){1&e&&t._UZ(0,"button",41)}function Pt(e,i){1&e&&t._UZ(0,"button",42)}function Ot(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,Yt,1,0,"button",39),t.YNc(2,Pt,1,0,"button",40),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=a&&a.blocked)),t.xp6(1),t.Q6J("ngIf",null==a?null:a.blocked)}}function jt(e,i){1&e&&t._UZ(0,"mat-header-cell")}function St(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(a);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.block(n.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"lock"),t.qZA(),t._uU(3),t.ALo(4,"transloco"),t.qZA()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"block")," "))}function Bt(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(a);const n=t.oxw().$implicit,l=t.oxw();return t.KtG(l.active(n.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"lock_open"),t.qZA(),t._uU(3),t.ALo(4,"transloco"),t.qZA()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"unblock")," "))}const Ht=function(e){return["/agents",e]};function Mt(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-cell")(1,"div",43)(2,"button",44),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,45)(7,"button",46),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.edit(l))}),t.TgZ(8,"mat-icon"),t._uU(9,"edit"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA(),t.TgZ(12,"button",47)(13,"mat-icon"),t._uU(14,"list"),t.qZA(),t._uU(15),t.ALo(16,"transloco"),t.qZA(),t.YNc(17,St,5,3,"button",48),t.YNc(18,Bt,5,3,"button",48),t.TgZ(19,"button",49),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.delete(l.id))}),t.TgZ(20,"mat-icon"),t._uU(21,"remove"),t.qZA(),t._uU(22),t.ALo(23,"transloco"),t.qZA()()()()}if(2&e){const a=i.$implicit,o=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",o),t.xp6(8),t.hij(" ",t.lcZ(11,7,"edit")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(13,Ht,null==a?null:a.id)),t.xp6(3),t.hij(" ",t.lcZ(16,9,"driver")," "),t.xp6(2),t.Q6J("ngIf",!(null!=a&&a.blocked)),t.xp6(1),t.Q6J("ngIf",a.blocked),t.xp6(4),t.hij(" ",t.lcZ(23,11,"delete")," ")}}function Wt(e,i){1&e&&t._UZ(0,"mat-header-row")}function Kt(e,i){1&e&&t._UZ(0,"mat-row")}function Et(e,i){1&e&&t._UZ(0,"app-no-data-placeholder",50)}const $t=function(){return[10,20,50,100,200]};let Rt=(()=>{class e extends E.G{constructor(a,o){super(),this._agentService=a,this._dialog=o,this.filters={merchantid:"",companyName:"",createdAtFrom:"",createdAtTo:""},this.pageParams={page:0,limit:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.displayedColumns=["index","id","full_name","login","register_date","last_enter","status","actions"],this.dataSource=new u.by([])}clearFilters(){this.filters={merchantid:"",companyName:"",createdAtFrom:"",createdAtTo:""}}filterDrivers(){}ngOnInit(){this.getAllAgents(this.pageParams)}getAllAgents(a){this._agentService.getAll(a).subscribe(o=>{this.dataSource.data=o?.data,this.pageParams.limit=o?.data?.per_page,this.pageParams.page=o?.data?.pageIndex,this.pageParams.totalPagesCount=o?.data?.totalPagesCount})}onPageChange(a){this.pageParams.limit=a.pageSize,this.pageParams.page=a.pageIndex,this.getAllAgents(this.pageParams)}add(){this._dialog.open(M,{minWidth:"80vw",maxWidth:"90vw",minHeight:"50vh",maxHeight:"90vh",autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllAgents(this.pageParams)})}block(a){this._dialog.open(Tt,{minWidth:"20vw",maxWidth:"40vw",minHeight:"42vh",maxHeight:"85vh",data:a,autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllAgents(this.pageParams)})}active(a){this._agentService.active(a).subscribe(()=>{this.getAllAgents(this.pageParams)})}edit(a){this._dialog.open(M,{minWidth:"80vw",maxWidth:"90vw",minHeight:"50vh",maxHeight:"90vh",autoFocus:!1,data:a}).afterClosed().subscribe(()=>{this.getAllAgents(this.pageParams)})}delete(a){this._agentService.delete(a).subscribe(()=>{this.getAllAgents(this.pageParams)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(q),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-agents"]],viewQuery:function(o,n){if(1&o&&t.Gf(h.NW,5),2&o){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},standalone:!0,features:[t.qOj,t.jDz],decls:70,vars:44,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex","items-baseline","flex-wrap"],["color","accent",1,"w-50","px-1"],["matInput","","name","ID",3,"placeholder","ngModel","ngModelChange"],["matInput","","name","company_name",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","placeholder","ngModelChange"],["matIconSuffix","",3,"for"],["picker1",""],["picker",""],[1,"px-1"],["mat-flat-button","","color","warn",1,"",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"mt-4","h-100"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","full_name"],[4,"matCellDef"],["matColumnDef","login"],["matColumnDef","register_date"],["matColumnDef","last_enter"],["matColumnDef","status"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","m-1",4,"ngIf"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[1,"font-bold"],[1,"index-column"],["class","bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full",4,"ngIf"],["class","bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-full",4,"ngIf"],[1,"bg-green-500","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded-full"],[1,"bg-red-500","hover:bg-red-600","text-white","font-bold","py-2","px-4","rounded-full"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],["mat-menu-item","","color","accent",3,"routerLink"],["mat-menu-item","","color","accent",3,"click",4,"ngIf"],["mat-menu-item","","color","warn",3,"click"],[1,"m-1"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return n.add()}),t._UZ(9,"mat-icon",6),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"transloco"),t.qZA()()()(),t.TgZ(13,"div",8)(14,"mat-form-field",9)(15,"input",10),t.NdJ("ngModelChange",function(c){return n.filters.merchantid=c}),t.ALo(16,"transloco"),t.qZA()(),t.TgZ(17,"mat-form-field",9)(18,"input",11),t.NdJ("ngModelChange",function(c){return n.filters.companyName=c}),t.ALo(19,"transloco"),t.qZA()(),t.TgZ(20,"mat-form-field",9)(21,"input",12),t.NdJ("ngModelChange",function(c){return n.filters.createdAtFrom=c}),t.ALo(22,"transloco"),t.qZA(),t._UZ(23,"mat-datepicker-toggle",13)(24,"mat-datepicker",null,14),t.qZA(),t.TgZ(26,"mat-form-field",9)(27,"input",12),t.NdJ("ngModelChange",function(c){return n.filters.createdAtTo=c}),t.ALo(28,"transloco"),t.qZA(),t._UZ(29,"mat-datepicker-toggle",13)(30,"mat-datepicker",null,15),t.qZA(),t.TgZ(32,"div",16)(33,"button",17),t.NdJ("click",function(){return n.clearFilters()}),t._uU(34),t.ALo(35,"transloco"),t.qZA()(),t.TgZ(36,"div",16)(37,"button",18),t.NdJ("click",function(){return n.getAllAgents()}),t._uU(38),t.ALo(39,"transloco"),t.qZA()()(),t.TgZ(40,"div",19)(41,"mat-table",20),t.ynx(42,21),t.YNc(43,Ct,2,0,"mat-header-cell",22),t.YNc(44,qt,2,1,"mat-cell",23),t.BQk(),t.ynx(45,24),t.YNc(46,wt,2,0,"mat-header-cell",22),t.YNc(47,Nt,2,1,"mat-cell",23),t.BQk(),t.ynx(48,25),t.YNc(49,Ut,3,3,"mat-header-cell",22),t.YNc(50,yt,2,2,"mat-cell",26),t.BQk(),t.ynx(51,27),t.YNc(52,Dt,3,3,"mat-header-cell",22),t.YNc(53,It,2,1,"mat-cell",26),t.BQk(),t.ynx(54,28),t.YNc(55,Lt,3,3,"mat-header-cell",22),t.YNc(56,kt,3,4,"mat-cell",26),t.BQk(),t.ynx(57,29),t.YNc(58,Jt,3,3,"mat-header-cell",22),t.YNc(59,Ft,3,4,"mat-cell",26),t.BQk(),t.ynx(60,30),t.YNc(61,Qt,3,3,"mat-header-cell",22),t.YNc(62,Ot,3,2,"mat-cell",26),t.BQk(),t.ynx(63,31),t.YNc(64,jt,1,0,"mat-header-cell",32),t.YNc(65,Mt,24,15,"mat-cell",26),t.BQk(),t.YNc(66,Wt,1,0,"mat-header-row",33),t.YNc(67,Kt,1,0,"mat-row",34),t.qZA(),t.YNc(68,Et,1,0,"app-no-data-placeholder",35),t.TgZ(69,"mat-paginator",36),t.NdJ("page",function(c){return n.onPageChange(c)}),t.qZA()()()()),2&o){const l=t.MAs(25),c=t.MAs(31);t.xp6(5),t.Oqu(t.lcZ(6,27,"agents")),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(2),t.Oqu(t.lcZ(12,29,"add")),t.xp6(4),t.s9C("placeholder",t.lcZ(16,31,"ID")),t.Q6J("ngModel",n.filters.merchantid),t.xp6(3),t.s9C("placeholder",t.lcZ(19,33,"company_name")),t.Q6J("ngModel",n.filters.companyName),t.xp6(3),t.s9C("placeholder",t.lcZ(22,35,"start_date_reg")),t.Q6J("matDatepicker",l)("ngModel",n.filters.createdAtFrom),t.xp6(2),t.Q6J("for",l),t.xp6(4),t.s9C("placeholder",t.lcZ(28,37,"end_date_reg")),t.Q6J("matDatepicker",c)("ngModel",n.filters.createdAtTo),t.xp6(2),t.Q6J("for",c),t.xp6(5),t.hij(" ",t.lcZ(35,39,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(39,41,"filter"),""),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",!n.dataSource.data.length),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",n.pageParams.totalPagesCount-1)("pageSize",n.pageParams.limit)("pageIndex",n.pageParams.page)("pageSizeOptions",t.DdM(43,$t))}},dependencies:[f.y4,f.Ot,d.uU,Y.rH,w.FA,w.Mq,w.hl,w.nW,r.u5,r.Fj,r.JJ,r.On,r.UX,_.Ps,_.Hw,Y.Bz,S.o,p.ot,p.lW,p.RK,d.O5,u.p0,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,g.lN,g.KE,g.R9,A.c,A.Nt,v.JX,v.YE,h.TU,h.NW,Z.Tx,Z.VK,Z.OP,Z.p6,x.rP],encapsulation:2,changeDetection:0})}return e})();var W=m(1547),P=m(6133);function Gt(e,i){1&e&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_driver")))}function zt(e,i){1&e&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_driver")))}function Xt(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function Vt(e,i){if(1&e&&t._UZ(0,"img",30),2&e){const a=t.oxw();t.Q6J("src",a.passportFilePath,t.LSH)}}function te(e,i){if(1&e&&(t._UZ(0,"img",30),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&e){const a=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,a.passportFilePath,"driver")),t.LSH)}}function ee(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function ae(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," \u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c "),t.qZA())}function ne(e,i){if(1&e&&t._UZ(0,"img",30),2&e){const a=t.oxw();t.Q6J("src",a.driverLisenseFilePath,t.LSH)}}function oe(e,i){if(1&e&&(t._UZ(0,"img",30),t.ALo(1,"async"),t.ALo(2,"fileFetch")),2&e){const a=t.oxw();t.Q6J("src",t.lcZ(1,1,t.xi3(2,3,a.driverLisenseFilePath,"driver")),t.LSH)}}const ie=function(e,i){return{"bg-gray-50 dark:text-black":e,"card-background-black text-white":i}};function re(e,i){if(1&e&&(t.TgZ(0,"mat-radio-button",31)(1,"p",32),t._uU(2),t.qZA()()),2&e){const a=i.$implicit,o=t.oxw();t.Q6J("color",o.white)("ngClass",t.WLB(4,ie,!o.form.invalid||!o.form.pristine,o.form.invalid&&o.form.pristine))("value",a.id),t.xp6(2),t.hij("$",null==a?null:a.price,"/\u043c\u0435\u0441\u044f\u0446")}}const le=function(){return["uz"]},O=function(e){return{"is-invalid":e}},se=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button dark":i}};let ce=(()=>{class e{constructor(a,o,n,l,c,C){this.data=a,this._toaster=o,this._driverService=n,this._typeService=l,this._cdr=c,this._dialog=C,this.subscription=[],this.edit=!1,this.formData=new FormData,this.form=new r.cw({id:new r.NI(""),subscriptionId:new r.NI(""),agentId:new r.NI(""),firstName:new r.NI("",[r.kI.required]),lastName:new r.NI("",[r.kI.required]),phoneNumbers:new r.NI("",[r.kI.required]),password:new r.NI("",this.edit?null:[r.kI.required,r.kI.maxLength(6),r.kI.pattern("^[a-zA-Z]+d{1,6}$")]),passportFilePath:new r.NI("",[r.kI.required]),driverLisenseFilePath:new r.NI("",[r.kI.required])}),this.data&&(this.edit=!0,this.form.patchValue({agentId:a})),this.getSubscription()}getSubscription(){this._typeService.getSubscription().subscribe(a=>{this.subscription=a.data})}onFileSelected(a,o){const n=a.target.files[0];switch(o){case"passportFilePath":this.form.patchValue({passportFilePath:n});case"driverLisenseFilePath":this.form.patchValue({driverLisenseFilePath:n})}}getImageUrl(a){const o=this.form.get(`${a}`).value;return o instanceof File?URL.createObjectURL(o):""}get f(){return this.form.controls}selectFile(a,o){const n=a.target.files[0];if(n){this.formData.append(o,n,(new Date).getTime().toString()+".jpg");const l=new FileReader;l.onload=()=>{this[o]=l.result,this._cdr.detectChanges()},l.readAsDataURL(n)}}submit(){this.formData.append("id",this.form.get("id").value),this.formData.append("agentId",this.form.get("agentId").value),this.formData.append("subscriptionId",this.form.get("subscriptionId").value),this.formData.append("firstName",this.form.get("firstName").value),this.formData.append("lastName",this.form.get("lastName").value),this.formData.append("password",this.form.get("password").value),"string"==typeof this.form.get("passportFilePath")?.value&&this.formData.append("passportFilePath",this.form.get("passportFilePath")?.value),"string"==typeof this.form.get("driverLisenseFilePath")?.value&&this.formData.append("driverLisenseFilePath",this.form.get("driverLisenseFilePath")?.value),this.form.valid?this.form.value.id?this._driverService.update(this.formData).pipe(a=>((0,J.b)(a)&&(this.formData=(0,W.y)(this.formData,["passportFilePath","driverLisenseFilePath"])),a)).subscribe(a=>{a.success?(this._dialog.closeAll(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._driverService.create(this.formData).pipe(a=>((0,J.b)(a)&&(this.formData=(0,W.y)(this.formData,["passportFilePath","driverLisenseFilePath"])),a)).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(D._W),t.Y36(P.P),t.Y36(I.K),t.Y36(t.sBO),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-agent-driver"]],standalone:!0,features:[t.jDz],decls:72,vars:62,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],[1,"p-3"],["color","accent",1,"w-full"],["formControlName","phoneNumbers","name","phoneNumbers",3,"cssClass","preferredCountries","enablePlaceholder","enableSearch"],["phoneNumbers",""],["matInput","","formControlName","firstName",3,"ngClass"],[4,"ngIf"],[1,"w-32"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10","rounded-md"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["formControlName","passportFilePath","id","avatar-file-input1","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","avatar-file-input1","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["class","object-fill w-full h-full",3,"src",4,"ngIf"],["matInput","","formControlName","lastName",3,"ngClass"],["matInput","","formControlName","password",3,"ngClass"],["formControlName","driverLisenseFilePath","id","avatar-file-input1","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["formControlName","subscriptionId",1,"flex","items-center"],["class","w-2/4 m-4 p-4 rounded-lg","value","option1",3,"color","ngClass","value",4,"ngFor","ngForOf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[1,"object-fill","w-full","h-full",3,"src"],["value","option1",1,"w-2/4","m-4","p-4","rounded-lg",3,"color","ngClass","value"],[1,"w-40"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Gt,3,3,"p",1),t.YNc(2,zt,3,3,"p",1),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),t._uU(12),t.ALo(13,"transloco"),t.qZA(),t._UZ(14,"ngx-mat-intl-tel-input",8,9),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t._UZ(20,"input",10),t.YNc(21,Xt,2,0,"mat-error",11),t.qZA(),t.TgZ(22,"div",12)(23,"mat-label"),t._uU(24),t.ALo(25,"transloco"),t.qZA(),t.TgZ(26,"div",13),t._UZ(27,"div",14),t.TgZ(28,"div",15)(29,"div")(30,"input",16),t.NdJ("change",function(c){return n.selectFile(c,"passportFilePath")}),t.qZA(),t.TgZ(31,"label",17),t._UZ(32,"mat-icon",18),t.qZA()()(),t.YNc(33,Vt,1,1,"img",19),t.YNc(34,te,3,6,"img",19),t.qZA()()(),t.TgZ(35,"div",6)(36,"mat-form-field",7)(37,"mat-label"),t._uU(38),t.ALo(39,"transloco"),t.qZA(),t._UZ(40,"input",20),t.YNc(41,ee,2,0,"mat-error",11),t.qZA(),t.TgZ(42,"mat-form-field",7)(43,"mat-label"),t._uU(44),t.ALo(45,"transloco"),t.qZA(),t._UZ(46,"input",21),t.YNc(47,ae,2,0,"mat-error",11),t.qZA(),t.TgZ(48,"div",12)(49,"mat-label"),t._uU(50),t.ALo(51,"transloco"),t.qZA(),t.TgZ(52,"div",13),t._UZ(53,"div",14),t.TgZ(54,"div",15)(55,"div")(56,"input",22),t.NdJ("change",function(c){return n.selectFile(c,"driverLisenseFilePath")}),t.qZA(),t.TgZ(57,"label",17),t._UZ(58,"mat-icon",18),t.qZA()()(),t.YNc(59,ne,1,1,"img",19),t.YNc(60,oe,3,6,"img",19),t.qZA()()(),t.TgZ(61,"div",6)(62,"mat-radio-group",23),t.YNc(63,re,3,7,"mat-radio-button",24),t.qZA()()()()(),t.TgZ(64,"mat-dialog-actions",25)(65,"div",26)(66,"button",27),t._uU(67),t.ALo(68,"transloco"),t.qZA(),t.TgZ(69,"button",28),t.NdJ("click",function(){return n.submit()}),t._uU(70),t.ALo(71,"transloco"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("ngIf",!n.edit),t.xp6(1),t.Q6J("ngIf",n.edit),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(5),t.Oqu(t.lcZ(13,36,"phone")),t.xp6(2),t.Q6J("cssClass","custom")("preferredCountries",t.DdM(52,le))("enablePlaceholder",!0)("enableSearch",!0),t.xp6(4),t.Oqu(t.lcZ(19,38,"first_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(53,O,n.f.firstName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.firstName.errors?null:n.f.firstName.errors.required),t.xp6(3),t.Oqu(t.lcZ(25,40,"passport")),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",n.passportFilePath&&!n.edit),t.xp6(1),t.Q6J("ngIf",n.passportFilePath&&n.edit),t.xp6(4),t.Oqu(t.lcZ(39,42,"last_name")),t.xp6(2),t.Q6J("ngClass",t.VKq(55,O,n.f.lastName.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.lastName.errors?null:n.f.lastName.errors.required),t.xp6(3),t.Oqu(t.lcZ(45,44,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(57,O,n.f.password.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.password.errors?null:n.f.password.errors.required),t.xp6(3),t.hij("",t.lcZ(51,46,"driver_license")," "),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(1),t.Q6J("ngIf",n.driverLisenseFilePath&&!n.edit),t.xp6(1),t.Q6J("ngIf",n.driverLisenseFilePath&&n.edit),t.xp6(3),t.Q6J("ngForOf",n.subscription),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(68,48,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(59,se,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(71,50,"save")," "))},dependencies:[f.y4,f.Ot,d.mk,L.Co,N.Fk,N.VQ,N.U0,w.FA,B.d,A.c,A.Nt,g.KE,g.hX,g.TO,_.Ps,_.Hw,b.LD,p.ot,p.lW,p.RK,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,s.Is,s.ZT,s.uh,s.xY,s.H8,r.u5,d.ax,d.O5,u.p0,g.lN,v.JX,h.TU,Z.Tx,x.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return e})();var me=m(3537),ue=m(943);function pe(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"yes")," "))}function de(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"no")," "))}function ge(e,i){if(1&e&&(t.TgZ(0,"div",16)(1,"div")(2,"p",17),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"p",18),t._uU(6,"\u0422\u0435\u043d\u0442\u043e\u0432\u043a\u0430"),t.qZA()(),t.TgZ(7,"div")(8,"p",17),t._uU(9),t.ALo(10,"transloco"),t.qZA(),t.TgZ(11,"p",18),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"p",17),t._uU(15),t.ALo(16,"transloco"),t.qZA(),t.TgZ(17,"p",18),t.YNc(18,pe,3,3,"span",27),t.YNc(19,de,3,3,"span",27),t.qZA()(),t.TgZ(20,"div")(21,"p",17),t._uU(22),t.ALo(23,"transloco"),t.qZA(),t.TgZ(24,"p",18),t._uU(25),t.qZA()()()),2&e){const a=i.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,8,"machine_type")),t.xp6(6),t.Oqu(t.lcZ(10,10,"Date")),t.xp6(3),t.Oqu(null==a?null:a.createdAt),t.xp6(3),t.Oqu(t.lcZ(16,12,"adr")),t.xp6(3),t.Q6J("ngIf",null==a?null:a.isAdr),t.xp6(1),t.Q6J("ngIf",!(null!=a&&a.isAdr)),t.xp6(3),t.Oqu(t.lcZ(23,14,"state_number_trailer")),t.xp6(3),t.Oqu(null==a?null:a.stateNumber)}}function _e(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"label",31),t._uU(4),t.ALo(5,"transloco"),t.qZA()(),t.TgZ(6,"div",32)(7,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.techPassportFrontFilePath))}),t._uU(8,"remove_red_eye"),t.qZA()()(),t.TgZ(9,"div",29)(10,"div",30)(11,"label",31),t._uU(12),t.ALo(13,"transloco"),t.qZA()(),t.TgZ(14,"div",32)(15,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.techPassportBackFilePath))}),t._uU(16,"remove_red_eye"),t.qZA()()(),t.TgZ(17,"div",29)(18,"div",30)(19,"label",31),t._uU(20),t.ALo(21,"transloco"),t.qZA()(),t.TgZ(22,"div",32)(23,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.transportFrontFilePath))}),t._uU(24,"remove_red_eye"),t.qZA()()(),t.TgZ(25,"div",29)(26,"div",30)(27,"label",31),t._uU(28),t.ALo(29,"transloco"),t.qZA()(),t.TgZ(30,"div",32)(31,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.transportBackFilePath))}),t._uU(32,"remove_red_eye"),t.qZA()()(),t.TgZ(33,"div",29)(34,"div",30)(35,"label",31),t._uU(36),t.ALo(37,"transloco"),t.qZA()(),t.TgZ(38,"div",32)(39,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.transportSideFilePath))}),t._uU(40,"remove_red_eye"),t.qZA()()(),t.TgZ(41,"div",29)(42,"div",30)(43,"label",31),t._uU(44),t.ALo(45,"transloco"),t.qZA()(),t.TgZ(46,"div",32)(47,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.passportFilePath))}),t._uU(48,"remove_red_eye"),t.qZA()()(),t.TgZ(49,"div",29)(50,"div",30)(51,"label",31),t._uU(52),t.ALo(53,"transloco"),t.qZA()(),t.TgZ(54,"div",32)(55,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.driverLicenseFilePath))}),t._uU(56,"remove_red_eye"),t.qZA()()(),t.TgZ(57,"div",29)(58,"div",30)(59,"label",31),t._uU(60),t.ALo(61,"transloco"),t.qZA()(),t.TgZ(62,"div",32)(63,"mat-icon",33),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.preview(l.goodsTransportationLicenseCardFilePath))}),t._uU(64,"remove_red_eye"),t.qZA()()()()}2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,8,"technical_passport")),t.xp6(8),t.Oqu(t.lcZ(13,10,"tech_passport_front")),t.xp6(8),t.Oqu(t.lcZ(21,12,"transport_photo")),t.xp6(8),t.Oqu(t.lcZ(29,14,"transport_back_photo")),t.xp6(8),t.Oqu(t.lcZ(37,16,"transport_side_photo")),t.xp6(8),t.Oqu(t.lcZ(45,18,"passport")),t.xp6(8),t.Oqu(t.lcZ(53,20,"driver_lisense_card")),t.xp6(8),t.Oqu(t.lcZ(61,22,"good_transportation_lisense")))}function fe(e,i){if(1&e&&(t.TgZ(0,"p",18),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Oqu(null==a.driver?null:a.driver.phoneNumber)}}function he(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.phoneNumber," ")}}function Ae(e,i){if(1&e&&(t.TgZ(0,"p",18),t.YNc(1,he,2,1,"span",34),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==a.driver?null:a.driver.phoneNumbers)}}let Ze=(()=>{class e{constructor(a,o,n){this.data=a,this._driverService=o,this._dialog=n,this.getDriver(a)}getDriver(a){this._driverService.get(a).subscribe(o=>{this.driver=o.data})}ngOnInit(){}block(){this._dialog.open(me.R,{minWidth:"20vw",maxWidth:"40vw",minHeight:"42vh",maxHeight:"85vh",data:this.driver.id,autoFocus:!1}).afterClosed().subscribe(()=>{this._dialog.closeAll()})}preview(a){this._dialog.open(ue.E,{minWidth:"60vw",maxWidth:"80vw",minHeight:"60vh",maxHeight:"80vh",data:{keyName:"driver",fileName:a},autoFocus:!1}).afterClosed().subscribe(()=>{})}submit(){}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(P.P),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail-agent-driver"]],standalone:!0,features:[t.jDz],decls:76,vars:46,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","leading-5","text-3xl"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"h-full"],[1,"max-w-md","mx-auto","p-4","mt-3","bg-white","dark:bg-black","rounded-lg","shadow-md"],[1,"flex","w-full","justify-between"],[1,"flex"],["src","assets/images/user/user.svg","alt","User Image",1,"rounded-full","w-16","h-16","mr-2"],[1,"text-2xl","font-bold"],[1,"text-gray-600"],[1,"flex","justify-end"],["src","assets/images/icons/start.svg","alt","star Image",1,"rounded-full","w-4","h-4","ml-1","mt-1"],[1,"max-w-md","mx-auto","p-4","mt-3","bg-white","rounded-lg","shadow-md"],[1,"mb-5"],[1,"text-2xl","leading-4","font-bold"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xl","leading-4","mb-1"],[1,"font-bold"],["class","grid grid-cols-2 gap-4",4,"ngFor","ngForOf"],["class","grid grid-cols-1 gap-4",4,"ngFor","ngForOf"],[1,"mb-5","flex"],["src","assets/images/icons/telegram.svg","alt","",1,"ml-auto","h-7","w-7"],["class","font-bold",4,"ngIf"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",3,"color"],["mat-flat-button","",1,"",3,"color","click"],[4,"ngIf"],[1,"grid","grid-cols-1","gap-4"],[1,"flex","space-x-4","bg-gray-50","dark:text-black","mt-2","px-4","py-2","rounded-lg"],[1,"w-3/4"],[1,"block","mb-2","font-bold"],[1,"w-1/4","flex","items-center","justify-end"],[1,"h-5","w-5","pointer-events-auto",3,"click"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content",4)(8,"div",5)(9,"div",6)(10,"div",7),t._UZ(11,"img",8),t.TgZ(12,"div")(13,"p",9),t._uU(14),t.qZA(),t.TgZ(15,"p",10),t._uU(16),t.qZA()()(),t.TgZ(17,"div",11)(18,"p",10),t._uU(19," 5.0"),t.qZA(),t._UZ(20,"img",12),t.qZA()()(),t.TgZ(21,"div",13)(22,"div",14)(23,"h2",15),t._uU(24),t.ALo(25,"transloco"),t.qZA()(),t.TgZ(26,"div",16)(27,"div")(28,"p",17),t._uU(29),t.ALo(30,"transloco"),t.qZA(),t.TgZ(31,"p",18),t._uU(32),t.qZA()(),t.TgZ(33,"div")(34,"p",17),t._uU(35),t.ALo(36,"transloco"),t.qZA(),t.TgZ(37,"p",18),t._uU(38),t.ALo(39,"date"),t.qZA()()()(),t.TgZ(40,"div",13)(41,"div",14)(42,"h2",15),t._uU(43),t.ALo(44,"transloco"),t.qZA()(),t.YNc(45,ge,26,16,"div",19),t.YNc(46,_e,65,24,"div",20),t.qZA(),t.TgZ(47,"div",13)(48,"div",21)(49,"h2",15),t._uU(50),t.ALo(51,"transloco"),t.qZA(),t._UZ(52,"img",22),t.qZA(),t.TgZ(53,"div",16)(54,"div")(55,"p",17),t._uU(56),t.ALo(57,"transloco"),t.qZA(),t.YNc(58,fe,2,1,"p",23),t.YNc(59,Ae,2,1,"p",23),t.TgZ(60,"p",18),t._uU(61,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d"),t.qZA()(),t.TgZ(62,"div")(63,"p",17),t._uU(64),t.ALo(65,"transloco"),t.qZA(),t.TgZ(66,"p",18),t._uU(67),t.qZA()()()()(),t.TgZ(68,"mat-dialog-actions",7)(69,"div",24)(70,"button",25),t._uU(71),t.ALo(72,"transloco"),t.qZA(),t.TgZ(73,"button",26),t.NdJ("click",function(){return n.submit()}),t._uU(74),t.ALo(75,"transloco"),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,23,"about_driver")),t.xp6(12),t.AsE("",null==n.driver?null:n.driver.firstName," ",null==n.driver?null:n.driver.lastName,""),t.xp6(2),t.hij("# ",null==n.driver?null:n.driver.id,""),t.xp6(8),t.Oqu(t.lcZ(25,25,"information")),t.xp6(5),t.Oqu(t.lcZ(30,27,"full_name")),t.xp6(3),t.AsE("",null==n.driver?null:n.driver.firstName," ",null==n.driver?null:n.driver.lastName,"\u0447"),t.xp6(3),t.Oqu(t.lcZ(36,29,"subscription")),t.xp6(3),t.Oqu(t.xi3(39,31,null==n.driver?null:n.driver.subscribedAt,"dd/mm/yyyy")),t.xp6(5),t.Oqu(t.lcZ(44,34,"transport")),t.xp6(2),t.Q6J("ngForOf",null==n.driver?null:n.driver.driverTransports),t.xp6(1),t.Q6J("ngForOf",null==n.driver?null:n.driver.driverTransports),t.xp6(4),t.hij(" ",t.lcZ(51,36,"driver_contact")," "),t.xp6(6),t.Oqu(t.lcZ(57,38,"phone")),t.xp6(2),t.Q6J("ngIf",null==n.driver?null:n.driver.phoneNumber),t.xp6(1),t.Q6J("ngIf",null==n.driver?null:n.driver.phoneNumbers),t.xp6(5),t.Oqu(t.lcZ(65,40,"email")),t.xp6(3),t.hij(" ",null==n.driver?null:n.driver.email,""),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(72,42,"send_push"),""),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.hij(" ",t.lcZ(75,44,"save")," "))},dependencies:[f.y4,f.Ot,d.uU,L.Co,A.c,_.Ps,_.Hw,b.LD,p.ot,p.lW,p.RK,r.UX,s.Is,s.ZT,s.uh,s.xY,s.H8,r.u5,d.ax,d.O5,u.p0,g.lN,v.JX,h.TU,Z.Tx,x.rP],styles:[".mat-mdc-dialog-container .mdc-dialog__surface{border-radius:6px 0 0 6px!important;padding:6px!important}.mat-mdc-dialog-content{max-height:83vh;scrollbar-color:#888 #eee;scrollbar-width:thin;padding:0!important}.mat-dialog-content::-webkit-scrollbar{width:2px}.mat-dialog-content::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}.mat-dialog-content::-webkit-scrollbar-track{background-color:#eee}\n"],encapsulation:2})}return e})();function ve(e,i){1&e&&(t.TgZ(0,"mat-header-cell",18),t._uU(1,"\u2116 "),t.qZA())}function xe(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.index;t.xp6(1),t.Oqu(a+1)}}function be(e,i){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"admin")," "))}function Te(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==a?null:a.createdBy," ")}}function Ce(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,Te,2,1,"span",19),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Q6J("ngIf","staff"==a.userType)}}function qe(e,i){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"agent")))}function we(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==a?null:a.createdBy," ")}}function Ne(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,we,2,1,"span",19),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Q6J("ngIf","agent"==a.userType)}}function Ue(e,i){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"sum")))}function ye(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.AsE(" ",null==a?null:a.amount," ",null==a?null:a.currencyName," ")}}function De(e,i){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"type")))}function Ie(e,i){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",20),t._uU(2),t.qZA()()),2&e){const a=i.$implicit;t.xp6(2),t.hij(" ",null==a?null:a.transctionType," ")}}function Le(e,i){1&e&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"driver")))}function ke(e,i){1&e&&(t.TgZ(0,"span",22),t._uU(1," ID: "),t.qZA())}function Je(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.YNc(2,ke,2,0,"span",21),t._uU(3),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.user_name," "),t.xp6(1),t.Q6J("ngIf",a.userid),t.xp6(1),t.hij(" ",null==a?null:a.userid," ")}}function Fe(e,i){1&e&&(t.TgZ(0,"mat-header-cell",18),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"date_time")," "))}function Qe(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==a?null:a.createdAt,"YYYY/MM/dd HH:mm")," ")}}function Ye(e,i){1&e&&t._UZ(0,"mat-header-row")}function Pe(e,i){1&e&&t._UZ(0,"mat-row")}const Oe=function(){return[10,20,50,100,200]};let je=(()=>{class e{constructor(a,o,n){this.data=a,this._agentService=o,this._dialog=n,this.dataSource=new u.by([]),this.displayedColumns=["index","admin","agent","amount","type","driverId","date"]}ngOnInit(){this.getTransactions(this.data)}getTransactions(a){this._agentService.getAgentTransactions(a).subscribe(o=>{this.dataSource.data=o.data,console.log(this.dataSource)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(q),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-agent-transaction"]],viewQuery:function(o,n){if(1&o&&t.Gf(h.NW,5),2&o){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},standalone:!0,features:[t.jDz],decls:32,vars:7,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","admin"],[4,"matHeaderCellDef"],["matColumnDef","agent"],["matColumnDef","amount"],["matColumnDef","type"],["matColumnDef","driverId"],["matColumnDef","date"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"showFirstLastButtons","length","pageSizeOptions"],[1,"font-bold"],[4,"ngIf"],[1,"tw-text-red-500"],["class","tw-mx-2",4,"ngIf"],[1,"tw-mx-2"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon",3),t._uU(5,"close"),t.qZA()()(),t.TgZ(6,"mat-dialog-content")(7,"mat-table",4),t.ynx(8,5),t.YNc(9,ve,2,0,"mat-header-cell",6),t.YNc(10,xe,2,1,"mat-cell",7),t.BQk(),t.ynx(11,8),t.YNc(12,be,3,3,"mat-header-cell",9),t.YNc(13,Ce,2,1,"mat-cell",7),t.BQk(),t.ynx(14,10),t.YNc(15,qe,3,3,"mat-header-cell",9),t.YNc(16,Ne,2,1,"mat-cell",7),t.BQk(),t.ynx(17,11),t.YNc(18,Ue,3,3,"mat-header-cell",9),t.YNc(19,ye,2,2,"mat-cell",7),t.BQk(),t.ynx(20,12),t.YNc(21,De,3,3,"mat-header-cell",9),t.YNc(22,Ie,3,1,"mat-cell",7),t.BQk(),t.ynx(23,13),t.YNc(24,Le,3,3,"mat-header-cell",6),t.YNc(25,Je,4,3,"mat-cell",7),t.BQk(),t.ynx(26,14),t.YNc(27,Fe,3,3,"mat-header-cell",6),t.YNc(28,Qe,3,4,"mat-cell",7),t.BQk(),t.YNc(29,Ye,1,0,"mat-header-row",15),t.YNc(30,Pe,1,0,"mat-row",16),t.qZA(),t._UZ(31,"mat-paginator",17),t.qZA()),2&o&&(t.xp6(7),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",n.dataSource.data.length)("pageSizeOptions",t.DdM(6,Oe)))},dependencies:[f.y4,f.Ot,_.Ps,_.Hw,d.uU,b.LD,p.ot,p.RK,r.UX,s.Is,s.ZT,s.uh,s.xY,r.u5,d.O5,u.p0,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,g.lN,A.c,v.JX,h.TU,h.NW,Z.Tx,x.rP],encapsulation:2,changeDetection:0})}return e})();const Se=function(e,i){return{"bg-gray-50 dark:text-black":e,"card-background-black text-white":i}};function Be(e,i){if(1&e&&(t.TgZ(0,"mat-radio-button",11)(1,"p",12),t._uU(2),t.qZA()()),2&e){const a=i.$implicit,o=t.oxw();t.Q6J("color",o.white)("ngClass",t.WLB(4,Se,!o.form.invalid||!o.form.pristine,o.form.invalid&&o.form.pristine))("value",a.id),t.xp6(2),t.hij("$",null==a?null:a.price,"/\u043c\u0435\u0441\u044f\u0446")}}const He=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button dark":i}};let Me=(()=>{class e{constructor(a,o,n,l,c,C){this.data=a,this._toaster=o,this._agentService=n,this._typeService=l,this.cdr=c,this._dialog=C,this.edit=!1,this.form=new r.cw({driverId:new r.NI(""),subscriptionId:new r.NI(""),agentId:new r.NI("")}),this.data&&this.form.patchValue({driverId:this.data?.driverId,agentId:this.data?.agentId}),this.getSubscription()}getSubscription(){this._typeService.getSubscription().subscribe(a=>{this.subscription=a.data,this.cdr.detectChanges()})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.createsubscription(this.form.value).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(D._W),t.Y36(q),t.Y36(I.K),t.Y36(t.sBO),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-agent-subscription"]],standalone:!0,features:[t.jDz],decls:19,vars:18,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],["formControlName","subscriptionId",1,"flex","items-center"],["class","w-2/4 m-4 p-4 rounded-lg",3,"color","ngClass","value",4,"ngFor","ngForOf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],[1,"w-2/4","m-4","p-4","rounded-lg",3,"color","ngClass","value"],[1,"w-40"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"mat-radio-group",5),t.YNc(10,Be,3,7,"mat-radio-button",6),t.qZA()()(),t.TgZ(11,"mat-dialog-actions",7)(12,"div",8)(13,"button",9),t._uU(14),t.ALo(15,"transloco"),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return n.submit()}),t._uU(17),t.ALo(18,"transloco"),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,9,"add_subscription")),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("ngForOf",n.subscription),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(15,11,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(15,He,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(18,13,"save")," "))},dependencies:[f.y4,f.Ot,d.mk,L.Co,d.ax,r.u5,r._Y,r.JJ,r.JL,r.UX,r.sg,r.u,N.Fk,N.VQ,N.U0,w.FA,A.c,_.Ps,_.Hw,b.LD,p.ot,p.lW,p.RK,s.Is,s.ZT,s.uh,s.xY,s.H8,u.p0,g.lN,v.JX,h.TU,Z.Tx,x.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return e})();var We=m(8372),Ke=m(3900);function Ee(e,i){if(1&e&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",12),t.qZA()),2&e){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"first_name")),t.xp6(2),t.Q6J("value",a.driverInfo.firstName)}}function $e(e,i){if(1&e&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",12),t.qZA()),2&e){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"last_name")),t.xp6(2),t.Q6J("value",a.driverInfo.lastName)}}const Re=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button ":i}};let Ge=(()=>{class e{constructor(a,o,n,l,c,C,j){this.data=a,this._toaster=o,this._agentService=n,this._typeService=l,this._dirfverService=c,this.cdr=C,this._dialog=j,this.edit=!1,this.form=new r.cw({driverId:new r.NI(""),agentId:new r.NI("")}),this.data&&this.form.patchValue({agentId:this.data?.agentId}),this.getSubscription()}ngOnInit(){this.form.get("driverId").valueChanges.pipe((0,We.b)(300),(0,Ke.w)(a=>this._dirfverService.get(a))).subscribe(a=>{a.success&&(this.driverInfo=a.data)})}getSubscription(){this._typeService.getSubscription().subscribe(a=>{this.subscription=a.data,this.cdr.detectChanges()})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.connectToAgent(this.form.value).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(D._W),t.Y36(q),t.Y36(I.K),t.Y36(P.P),t.Y36(t.sBO),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-connect-driver"]],standalone:!0,features:[t.jDz],decls:24,vars:22,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"px-3",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3","w-full"],["matInput","","formControlName","driverId"],["class","flex-auto gt-xs:pr-3 w-full",4,"ngIf"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["matInput","",3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.YNc(14,Ee,5,4,"mat-form-field",7),t.YNc(15,$e,5,4,"mat-form-field",7),t.qZA()(),t.TgZ(16,"mat-dialog-actions",8)(17,"div",9)(18,"button",10),t._uU(19),t.ALo(20,"transloco"),t.qZA(),t.TgZ(21,"button",11),t.NdJ("click",function(){return n.submit()}),t._uU(22),t.ALo(23,"transloco"),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,11,"add_subscription")),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(3),t.Oqu(t.lcZ(12,13,"DriverID")),t.xp6(3),t.Q6J("ngIf",null==n.driverInfo?null:n.driverInfo.firstName),t.xp6(1),t.Q6J("ngIf",null==n.driverInfo?null:n.driverInfo.lastName),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(20,15,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(19,Re,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(23,17,"save")," "))},dependencies:[f.y4,f.Ot,d.mk,L.Co,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.UX,r.sg,r.u,N.Fk,w.FA,A.c,A.Nt,g.KE,g.hX,_.Ps,_.Hw,b.LD,p.ot,p.lW,p.RK,s.Is,s.ZT,s.uh,s.xY,s.H8,d.O5,u.p0,g.lN,v.JX,h.TU,Z.Tx,x.rP],styles:[".mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#42f477!important}.mat-radio-button.mat-accent .mat-radio-inner-circle{color:#f4427d!important;background-color:#42f454!important}.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#f5060642!important}\n"],encapsulation:2,changeDetection:0})}return e})();function ze(e,i){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.name)}}function Xe(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"is_empty")," "))}function Ve(e,i){if(1&e&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.Q6J("value",a),t.xp6(1),t.Oqu(a)}}const ta=function(e){return{"is-invalid":e}},ea=function(e,i){return{"fuse-mat-button text-white":e,"fuse-mat-button ":i}};let aa=(()=>{class e{constructor(a,o,n,l,c){this.data=a,this._toaster=o,this._agentService=n,this._typeService=l,this._dialog=c,this.edit=!1,this.transactionTypes=["topupAccount","withdrawAccount","secureTransaction","topUpAgentAccount","driverSubscriptionPayment"],this.form=new r.cw({amount:new r.NI("",[r.kI.required]),transactionType:new r.NI("",[r.kI.required]),currencyId:new r.NI("",[r.kI.required]),agentId:new r.NI("",[r.kI.required])}),this.form.patchValue({agentId:Number(a.id)}),this._typeService.getCurrencies().subscribe(C=>{this.currencies=C.data})}get f(){return this.form.controls}submit(){this.form.valid?this._agentService.CreateBalanseAgent(this.form.value).subscribe(a=>{a.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0410\u0433\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0433\u0435\u043d\u0442")}):this._dialog.open(y.q,{width:"500px",height:"450px",data:{text:"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(s.WI),t.Y36(D._W),t.Y36(q),t.Y36(I.K),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-balance-agent"]],standalone:!0,features:[t.jDz],decls:35,vars:32,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[1,"px-3",3,"formGroup"],[1,"w-full"],["formControlName","currencyId"],[3,"value",4,"ngFor","ngForOf"],["required","","matInput","","name","amount","type","number","formControlName","amount",3,"ngClass"],[4,"ngIf"],["formControlName","transactionType"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.TgZ(4,"button",2)(5,"mat-icon",3),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"mat-dialog-content")(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"transloco"),t.qZA(),t.TgZ(13,"mat-select",6),t.YNc(14,ze,2,2,"mat-option",7),t.qZA()(),t.TgZ(15,"mat-form-field",5)(16,"mat-label"),t._uU(17),t.ALo(18,"transloco"),t.qZA(),t._UZ(19,"input",8),t.YNc(20,Xe,3,3,"mat-error",9),t.qZA(),t.TgZ(21,"mat-form-field",5)(22,"mat-label"),t._uU(23),t.ALo(24,"transloco"),t.qZA(),t.TgZ(25,"mat-select",10),t.YNc(26,Ve,2,2,"mat-option",7),t.qZA()()()(),t.TgZ(27,"mat-dialog-actions",11)(28,"div",12)(29,"button",13),t._uU(30),t.ALo(31,"transloco"),t.qZA(),t.TgZ(32,"button",14),t.NdJ("click",function(){return n.submit()}),t._uU(33),t.ALo(34,"transloco"),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,15,"add_agent")),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(3),t.Oqu(t.lcZ(12,17,"currency")),t.xp6(3),t.Q6J("ngForOf",n.currencies),t.xp6(3),t.Oqu(t.lcZ(18,19,"amount")),t.xp6(2),t.Q6J("ngClass",t.VKq(27,ta,n.f.amount.errors)),t.xp6(1),t.Q6J("ngIf",null==n.f.amount.errors?null:n.f.amount.errors.required),t.xp6(3),t.Oqu(t.lcZ(24,21,"transactionType")),t.xp6(3),t.Q6J("ngForOf",n.transactionTypes),t.xp6(3),t.Q6J("color","warn"),t.xp6(1),t.hij(" ",t.lcZ(31,23,"cancel"),""),t.xp6(2),t.Q6J("ngClass",t.WLB(29,ea,n.form.invalid||n.form.pristine,!n.form.invalid&&!n.form.pristine))("color","primary")("disabled",n.form.invalid||n.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(34,25,"save")," "))},dependencies:[f.y4,f.Ot,d.ax,A.c,A.Nt,g.KE,g.hX,g.TO,_.Ps,_.Hw,b.LD,b.gD,H.ey,p.ot,p.lW,p.RK,r.UX,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u,s.Is,s.ZT,s.uh,s.xY,s.H8,r.u5,d.O5,u.p0,d.mk,g.lN,v.JX,h.TU,Z.Tx,x.rP],encapsulation:2,changeDetection:0})}return e})();function na(e,i){if(1&e&&(t.TgZ(0,"div",31)(1,"div",32)(2,"div",33),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t.TgZ(5,"div",33)(6,"span"),t._uU(7),t.qZA(),t._uU(8,": "),t.TgZ(9,"span"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",32)(12,"div",33),t._uU(13),t.ALo(14,"transloco"),t.qZA(),t.TgZ(15,"div",33)(16,"span"),t._uU(17),t.qZA(),t._uU(18,": "),t.TgZ(19,"span"),t._uU(20),t.qZA()()()()),2&e){const a=i.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,6,"active_balance")),t.xp6(4),t.Oqu(null==a?null:a.currencyname),t.xp6(3),t.Oqu(null==a?null:a.activebalance),t.xp6(3),t.Oqu(t.lcZ(14,8,"frozen_balance")),t.xp6(4),t.Oqu(null==a?null:a.currencyname),t.xp6(3),t.Oqu(null==a?null:a.frozenbalance)}}function oa(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1," No "),t.qZA())}function ia(e,i){if(1&e&&(t.TgZ(0,"mat-cell",35),t._uU(1),t.qZA()),2&e){const a=i.index;t.xp6(1),t.hij(" ",a+1," ")}}function ra(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1," ID "),t.qZA())}function la(e,i){if(1&e&&(t.TgZ(0,"mat-cell",35),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.id," ")}}function sa(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"full_name")," "))}function ca(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.AsE(" ",null==a?null:a.firstName," ",null==a?null:a.lastName," ")}}function ma(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"phone")," "))}function ua(e,i){if(1&e&&(t.TgZ(0,"span",37),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.phoneNumber," ")}}function pa(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,ua,2,1,"span",36),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Q6J("ngForOf",a.phoneNumbers)}}function da(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"register_date")," "))}function ga(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==a?null:a.createdAt,"dd/MM/yyyy")," ")}}function _a(e,i){1&e&&(t.TgZ(0,"mat-header-cell",34),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"last_enter")," "))}function fa(e,i){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",null==a?null:a.last_inter," ")}}function ha(e,i){1&e&&t._UZ(0,"mat-header-cell")}function Aa(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-cell")(1,"div",38)(2,"button",39),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"mat-menu",null,40)(7,"button",41),t.NdJ("click",function(){const l=t.CHM(a).$implicit,c=t.oxw();return t.KtG(c.detail(l.id))}),t.TgZ(8,"mat-icon"),t._uU(9,"remove_red_eye"),t.qZA(),t._uU(10),t.ALo(11,"transloco"),t.qZA()()()()}if(2&e){const a=t.MAs(6);t.xp6(2),t.Q6J("matMenuTriggerFor",a),t.xp6(8),t.hij(" ",t.lcZ(11,2,"detail")," ")}}function Za(e,i){1&e&&t._UZ(0,"mat-header-row")}function va(e,i){1&e&&t._UZ(0,"mat-row")}function xa(e,i){1&e&&t._UZ(0,"app-no-data-placeholder",42)}const ba=function(){return[10,20,50,100,200]},Ta=[{path:"",component:Rt,resolve:{}},{path:":id",component:(()=>{class e{constructor(a,o,n){this._router=a,this._agentService=o,this._dialog=n,this.cities=[],this.pageParams={agentId:0,page:0,limit:10,perPage:10,totalPagesCount:1,sortBy:"id",sortType:"desc"},this.displayedColumns=["index","id","full_name","phone","register_date","last_enter","actions"],this.dataSource=new u.by([]),this._router.params.subscribe(l=>{this.id=l.id,this.pageParams.agentId=l.id})}ngOnInit(){this.getAllAgentsDrivers(this.pageParams),this.getBalance(this.id)}getAllAgentsDrivers(a){this._agentService.getAllByAgent(a).subscribe(o=>{this.dataSource.data=o?.data,this.pageParams.totalPagesCount=o?.data.totalPagesCount})}onPageChange(a){this.pageParams.limit=a.pageSize,this.pageParams.page=a.pageIndex,this.getAllAgentsDrivers(this.pageParams)}getBalance(a){this._agentService.getAgentbalance(a).subscribe(o=>{this.balances=o?.data})}detail(a){this._dialog.open(Ze,{width:"500px",height:"100vh",autoFocus:!1,data:a,position:{top:"0",right:"0"},maxHeight:"100%"}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}connect(){this._dialog.open(Ge,{minWidth:"25vw",maxWidth:"40vw",minHeight:"30vh",maxHeight:"60vh",data:{agentId:this.id}}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}transaction(){this._dialog.open(je,{minWidth:"70vw",maxWidth:"90vw",minHeight:"60vh",maxHeight:"80vh",data:this.id,autoFocus:!1}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}add(){this._dialog.open(ce,{minWidth:"45vw",maxWidth:"60vw",minHeight:"60vh",maxHeight:"80vh",autoFocus:!1,data:{id:this.id}}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}addBalanse(){this._dialog.open(aa,{minWidth:"35vw",maxWidth:"50vw",minHeight:"50vh",maxHeight:"80vh",autoFocus:!1,data:{id:this.id}}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}addSubsciption(a){this._dialog.open(Me,{minWidth:"35vw",maxWidth:"40vw",minHeight:"30vh",maxHeight:"40vh",autoFocus:!1,data:{agentId:this.id,driverId:a}}).afterClosed().subscribe(()=>{this.getAllAgentsDrivers(this.id)})}delete(a){this._agentService.delete(a).subscribe(()=>{this.getAllAgentsDrivers(this.id)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(Y.gz),t.Y36(q),t.Y36(s.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-agent-driver-list"]],viewQuery:function(o,n){if(1&o&&t.Gf(h.NW,5),2&o){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},standalone:!0,features:[t.jDz],decls:69,vars:44,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["class","flex flex-row ",4,"ngFor","ngForOf"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"ml-2"],[1,"flex","items-baseline","w-full"],["color","accent",1,"w-50","px-1"],["matInput","",3,"placeholder"],[1,"px-1"],["mat-flat-button","","color","warn",1,""],["mat-flat-button","","color","warn"],[1,"mt-4","shadow-table"],["matSort","",3,"dataSource"],["matColumnDef","index"],["class","font-bold",4,"matHeaderCellDef"],["class","index-column",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","full_name"],[4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","register_date"],["matColumnDef","last_enter"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","m-1",4,"ngIf"],[3,"showFirstLastButtons","length","pageSize","pageIndex","pageSizeOptions","page"],[1,"flex","flex-row"],[1,"mx-3","text-center"],[1,"text-sm","font-semibold"],[1,"font-bold"],[1,"index-column"],["class","px-2",4,"ngFor","ngForOf"],[1,"px-2"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],["moreMenu","matMenu"],["mat-menu-item","","color","accent",3,"click"],[1,"m-1"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",4),t.YNc(8,na,21,10,"div",5),t.TgZ(9,"button",6),t.NdJ("click",function(){return n.connect()}),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"transloco"),t.qZA()(),t.TgZ(13,"button",6),t.NdJ("click",function(){return n.transaction()}),t.TgZ(14,"span",7),t._uU(15),t.ALo(16,"transloco"),t.qZA()(),t.TgZ(17,"button",6),t.NdJ("click",function(){return n.addBalanse()}),t.TgZ(18,"span",7),t._uU(19),t.ALo(20,"transloco"),t.qZA()()()(),t.TgZ(21,"div",8)(22,"mat-form-field",9),t._UZ(23,"input",10),t.ALo(24,"transloco"),t.qZA(),t.TgZ(25,"mat-form-field",9),t._UZ(26,"input",10),t.ALo(27,"transloco"),t.qZA(),t.TgZ(28,"mat-form-field",9),t._UZ(29,"input",10),t.ALo(30,"transloco"),t.qZA(),t.TgZ(31,"mat-form-field",9),t._UZ(32,"input",10),t.ALo(33,"transloco"),t.qZA(),t.TgZ(34,"div",11)(35,"button",12),t._uU(36),t.ALo(37,"transloco"),t.qZA()(),t.TgZ(38,"div",11)(39,"button",13),t._uU(40),t.ALo(41,"transloco"),t.qZA()()(),t.TgZ(42,"div",14)(43,"mat-table",15),t.ynx(44,16),t.YNc(45,oa,2,0,"mat-header-cell",17),t.YNc(46,ia,2,1,"mat-cell",18),t.BQk(),t.ynx(47,19),t.YNc(48,ra,2,0,"mat-header-cell",17),t.YNc(49,la,2,1,"mat-cell",18),t.BQk(),t.ynx(50,20),t.YNc(51,sa,3,3,"mat-header-cell",17),t.YNc(52,ca,2,2,"mat-cell",21),t.BQk(),t.ynx(53,22),t.YNc(54,ma,3,3,"mat-header-cell",17),t.YNc(55,pa,2,1,"mat-cell",21),t.BQk(),t.ynx(56,23),t.YNc(57,da,3,3,"mat-header-cell",17),t.YNc(58,ga,3,4,"mat-cell",21),t.BQk(),t.ynx(59,24),t.YNc(60,_a,3,3,"mat-header-cell",17),t.YNc(61,fa,2,1,"mat-cell",21),t.BQk(),t.ynx(62,25),t.YNc(63,ha,1,0,"mat-header-cell",26),t.YNc(64,Aa,12,4,"mat-cell",21),t.BQk(),t.YNc(65,Za,1,0,"mat-header-row",27),t.YNc(66,va,1,0,"mat-row",28),t.qZA(),t.YNc(67,xa,1,0,"app-no-data-placeholder",29),t.TgZ(68,"mat-paginator",30),t.NdJ("page",function(c){return n.onPageChange(c)}),t.qZA()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,23,"drivers")),t.xp6(3),t.Q6J("ngForOf",n.balances),t.xp6(1),t.Q6J("color","primary"),t.xp6(2),t.Oqu(t.lcZ(12,25,"connect_driver")),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Oqu(t.lcZ(16,27,"transaction")),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Oqu(t.lcZ(20,29,"balance")),t.xp6(4),t.s9C("placeholder",t.lcZ(24,31,"id")),t.xp6(3),t.s9C("placeholder",t.lcZ(27,33,"name")),t.xp6(3),t.s9C("placeholder",t.lcZ(30,35,"phone")),t.xp6(3),t.s9C("placeholder",t.lcZ(33,37,"register_date")),t.xp6(4),t.hij(" ",t.lcZ(37,39,"clear"),""),t.xp6(4),t.hij(" ",t.lcZ(41,41,"filter"),""),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",!n.dataSource.data.length),t.xp6(1),t.Q6J("showFirstLastButtons",!0)("length",n.pageParams.totalPagesCount-1)("pageSize",n.pageParams.limit)("pageIndex",n.pageParams.page)("pageSizeOptions",t.DdM(43,ba)))},dependencies:[f.y4,f.Ot,d.uU,_.Ps,_.Hw,b.LD,g.KE,S.o,p.ot,p.lW,p.RK,d.ax,d.O5,u.p0,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,g.lN,A.c,A.Nt,v.JX,v.YE,h.TU,h.NW,Z.Tx,Z.VK,Z.OP,Z.p6,x.rP],encapsulation:2,changeDetection:0})}return e})(),resolve:{}}]},7361:(K,k,m)=>{m.d(k,{d:()=>p});var d=m(4755),x=m(2223);let p=(()=>{class _{static#t=this.\u0275fac=function(v){return new(v||_)};static#e=this.\u0275mod=x.oAB({type:_});static#a=this.\u0275inj=x.cJS({imports:[d.ez]})}return _})()}}]);