"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[719],{2719:(ae,T,a)=>{a.r(T),a.d(T,{default:()=>oe});var c=a(4755),x=a(877),p=a(1728),Z=a(430),f=a(8001),g=a(6702),_=a(2611),m=a(3627),A=a(9609),h=a(9114),C=a(7406),y=a(787),D=a(1983),l=a(9401),d=a(6286),e=a(2223),U=a(3648),V=a(2689),q=a(3144),I=a(8615);let N=(()=>{class t{constructor(i){this._apiService=i}get(i){return this._apiService.get(`/driver-verify/${i}`)}getAll(i){return this._apiService.get("/driver-verify/all",(0,V.$)(i))}create(i){return this._apiService.post("/driver-verify",i)}update(i){return this._apiService.put("/driver-verify",i)}delete(i){let o=new q.LE;return o=o.append("id",i),this._apiService.delete("/driver-verify",o)}static#e=this.\u0275fac=function(o){return new(o||t)(e.LFG(I.s))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J=a(8169),w=a(1217);function Q(t,n){1&t&&(e.TgZ(0,"p",27),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"add_admins")))}function b(t,n){1&t&&(e.TgZ(0,"p",27),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"edit_admins")))}function Y(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}function L(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}function F(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}function j(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}function S(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}function E(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}function O(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}function B(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-option",29),e._uU(2),e.qZA(),e.BQk()),2&t){const i=n.$implicit;e.xp6(1),e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.name)}}function $(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"is_empty")," "))}function R(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-option",29),e._uU(2),e.qZA(),e.BQk()),2&t){const i=n.$implicit;e.xp6(1),e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.name)}}function z(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}function W(t,n){if(1&t&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("Uploaded: ",i.fileName,"")}}const v=function(t){return{"is-invalid":t}},G=function(t,n){return{"fuse-mat-button text-white":t,"fuse-mat-button ":n}};let H=(()=>{class t{constructor(i,o,r,u,s){this.data=i,this._toaster=o,this._driverVerifyService=r,this._roleService=u,this._dialog=s,this.roles=[],this.edit=!1,this.form=new l.cw({id:new l.NI(""),fullName:new l.NI("",[l.kI.required]),phone:new l.NI("",[l.kI.required]),roleId:new l.NI("",[l.kI.required]),username:new l.NI("",[l.kI.required]),password:new l.NI("",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(10),l.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{6,10}$")])}),this.data&&(this.edit=!0,this.form.patchValue({id:this.data?.id,fullName:this.data?.fullName,phone:this.data?.phone,roleId:this.data?.roleId,username:this.data?.username,password:this.data?.password})),this.getRoles()}getRoles(){this._roleService.getAll().subscribe(i=>{this.roles=i.data})}get f(){return this.form.controls}handleFileInput(i){const o=i.target.files[0];this.fileName=o?o.name:void 0}submit(){this.form.value.id?this._driverVerifyService.update(this.form.value).subscribe(i=>{i.success?(this._dialog.closeAll(),this._toaster.success("\u0410\u0434\u043c\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d")}):this._driverVerifyService.create(this.form.value).subscribe(i=>{i.success?(this._dialog.closeAll(),this.form.reset(),this._toaster.success("\u0410\u0434\u043c\u0438\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430")):this._toaster.error("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d")})}generate(){this.form.patchValue({password:new Array(10).fill("0123456789ABCDEFGHKLMNPQRSTUVWXYZabcdefghikmnpqrstuvwxyz").map(i=>function(o){let r=Math.pow(2,32),u=new Uint32Array(1),s=r-r%o.length;do{crypto.getRandomValues(u)}while(u[0]>s);return o[u[0]%o.length]}(i)).join("")})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.WI),e.Y36(U._W),e.Y36(N),e.Y36(J.N),e.Y36(d.uw))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-driver-verify"]],standalone:!0,features:[e.jDz],decls:92,vars:58,consts:[[1,"flex","justify-between","items-center"],["mat-dialog-title","","class","font-bold text-2xl uppercase",4,"ngIf"],["mat-icon-button","","mat-dialog-close",""],["aria-label","Close dialog"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],[1,"p-3"],["color","accent",1,"w-full"],["matInput","","formControlName","fullName",3,"placeholder","ngClass"],[4,"ngIf"],["matInput","","formControlName","username",3,"placeholder","ngClass"],[1,"grid","grid-cols-4","gap-4","px-3"],[1,"text-xl","mb-2"],[1,"border-2","border-gray-800","p-4","rounded-lg","flex-col","items-center","justify-center"],["for","fileInput",1,"cursor-pointer","flex","justify-center"],["src","assets/images/icons/file.svg","alt","Upload Icon",1,"mr-2","h-20","w-20"],["type","file","id","fileInput",1,"hidden",3,"change"],["class","mt-2 m-2",4,"ngIf"],[1,"text-xl","mb-8"],[1,"w-full"],["formControlName","roleId",3,"placeholder"],[4,"ngFor","ngForOf"],[1,"text-xl","mb-2","px-3"],[1,"flex"],[1,"ml-auto","p-4"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"fuse-mat-button",3,"color"],["mat-flat-button","",3,"ngClass","color","disabled","click"],["mat-dialog-title","",1,"font-bold","text-2xl","uppercase"],[1,"mt-2","m-2"],[3,"value"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Q,3,3,"p",1),e.YNc(2,b,3,3,"p",1),e.TgZ(3,"button",2)(4,"mat-icon",3),e._uU(5,"close"),e.qZA()()(),e.TgZ(6,"mat-dialog-content")(7,"form",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7),e._UZ(11,"input",8),e.ALo(12,"transloco"),e.YNc(13,Y,3,3,"mat-error",9),e.qZA()(),e.TgZ(14,"div",6)(15,"mat-form-field",7),e._UZ(16,"input",10),e.ALo(17,"transloco"),e.YNc(18,L,3,3,"mat-error",9),e.qZA()()(),e.TgZ(19,"div",11)(20,"div")(21,"p",12),e._uU(22,"\u0424\u043e\u0442\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0441 \u043b\u0438\u0446\u043e\u043c"),e.qZA(),e.TgZ(23,"div",13)(24,"label",14),e._UZ(25,"img",15),e.qZA(),e.TgZ(26,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(27,F,2,1,"span",17),e.qZA()(),e.TgZ(28,"div")(29,"p",18),e._uU(30,"\u0424\u043e\u0442\u043e \u0442\u0435\u0445 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e.TgZ(31,"div",13)(32,"label",14),e._UZ(33,"img",15),e.qZA(),e.TgZ(34,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(35,j,2,1,"span",17),e.qZA()(),e.TgZ(36,"div")(37,"p",12),e._uU(38,"\u0424\u043e\u0442\u043e \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044f \u043d\u0430 \u0433\u0440\u0443\u0437\u043e\u043f\u0435\u0440\u0435\u0432\u043e\u0437\u043a\u0443"),e.qZA(),e.TgZ(39,"div",13)(40,"label",14),e._UZ(41,"img",15),e.qZA(),e.TgZ(42,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(43,S,2,1,"span",17),e.qZA()(),e.TgZ(44,"div")(45,"p",12),e._uU(46,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 "),e.qZA(),e.TgZ(47,"div",13)(48,"label",14),e._UZ(49,"img",15),e.qZA(),e.TgZ(50,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(51,E,2,1,"span",17),e.qZA()()(),e.TgZ(52,"div",5)(53,"div",6)(54,"mat-form-field",7),e._UZ(55,"input",10),e.ALo(56,"transloco"),e.YNc(57,O,3,3,"mat-error",9),e.qZA(),e.TgZ(58,"mat-form-field",19)(59,"mat-select",20),e.ALo(60,"transloco"),e.YNc(61,B,3,2,"ng-container",21),e.qZA()()(),e.TgZ(62,"div",6)(63,"mat-form-field",7),e._UZ(64,"input",10),e.ALo(65,"transloco"),e.YNc(66,$,3,3,"mat-error",9),e.qZA(),e.TgZ(67,"mat-form-field",19)(68,"mat-select",20),e.ALo(69,"transloco"),e.YNc(70,R,3,2,"ng-container",21),e.qZA()()()(),e.TgZ(71,"p",22),e._uU(72,"\u0424\u043e\u0442\u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"),e.qZA(),e.TgZ(73,"div",11)(74,"div",13)(75,"label",14),e._UZ(76,"img",15),e.qZA(),e.TgZ(77,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(78,z,2,1,"span",17),e.qZA(),e.TgZ(79,"div",13)(80,"label",14),e._UZ(81,"img",15),e.qZA(),e.TgZ(82,"input",16),e.NdJ("change",function(s){return r.handleFileInput(s)}),e.qZA(),e.YNc(83,W,2,1,"span",17),e.qZA()()()(),e.TgZ(84,"mat-dialog-actions",23)(85,"div",24)(86,"button",25),e._uU(87),e.ALo(88,"transloco"),e.qZA(),e.TgZ(89,"button",26),e.NdJ("click",function(){return r.submit()}),e._uU(90),e.ALo(91,"transloco"),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",!r.edit),e.xp6(1),e.Q6J("ngIf",r.edit),e.xp6(5),e.Q6J("formGroup",r.form),e.xp6(4),e.s9C("placeholder",e.lcZ(12,31,"full_name")),e.Q6J("ngClass",e.VKq(47,v,r.f.fullName.errors)),e.xp6(2),e.Q6J("ngIf",null==r.f.fullName.errors?null:r.f.fullName.errors.required),e.xp6(3),e.s9C("placeholder",e.lcZ(17,33,"login")),e.Q6J("ngClass",e.VKq(49,v,r.f.username.errors)),e.xp6(2),e.Q6J("ngIf",null==r.f.username.errors?null:r.f.username.errors.required),e.xp6(9),e.Q6J("ngIf",r.fileName),e.xp6(8),e.Q6J("ngIf",r.fileName),e.xp6(8),e.Q6J("ngIf",r.fileName),e.xp6(8),e.Q6J("ngIf",r.fileName),e.xp6(4),e.s9C("placeholder",e.lcZ(56,35,"login")),e.Q6J("ngClass",e.VKq(51,v,r.f.username.errors)),e.xp6(2),e.Q6J("ngIf",null==r.f.username.errors?null:r.f.username.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(60,37,"role")),e.xp6(2),e.Q6J("ngForOf",r.roles),e.xp6(3),e.s9C("placeholder",e.lcZ(65,39,"login")),e.Q6J("ngClass",e.VKq(53,v,r.f.username.errors)),e.xp6(2),e.Q6J("ngIf",null==r.f.username.errors?null:r.f.username.errors.required),e.xp6(2),e.s9C("placeholder",e.lcZ(69,41,"role")),e.xp6(2),e.Q6J("ngForOf",r.roles),e.xp6(8),e.Q6J("ngIf",r.fileName),e.xp6(5),e.Q6J("ngIf",r.fileName),e.xp6(3),e.Q6J("color","warn"),e.xp6(1),e.hij(" ",e.lcZ(88,43,"cancel"),""),e.xp6(2),e.Q6J("ngClass",e.WLB(55,G,r.form.invalid||r.form.pristine,!r.form.invalid&&!r.form.pristine))("color","primary")("disabled",r.form.invalid||r.form.pristine),e.xp6(1),e.hij(" ",e.lcZ(91,45,"save")," "))},dependencies:[f.y4,f.Ot,A.c,A.Nt,h.KE,h.TO,Z.Ps,Z.Hw,y.LD,y.gD,w.ey,p.ot,p.lW,p.RK,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.Is,d.ZT,d.uh,d.xY,d.H8,l.u5,c.ax,c.O5,m.p0,c.mk,h.lN,_.JX,g.TU,C.Tx,x.rP],styles:[".country-selector{opacity:1!important;bottom:8px!important}.m-t-10{margin-top:10px}ngx-mat-intl-tel-input div button{margin:4px 0}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{border-color:red}\n"],encapsulation:2,changeDetection:0})}return t})();function K(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"id")," "))}function X(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",null==i?null:i.id," ")}}function P(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"full_name")," "))}function k(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",null==i?null:i.fio," ")}}function M(t,n){1&t&&e._UZ(0,"mat-header-cell")}function ee(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",null==i?null:i.action," ")}}function te(t,n){1&t&&e._UZ(0,"mat-header-row")}function ie(t,n){1&t&&e._UZ(0,"mat-row")}function re(t,n){1&t&&e._UZ(0,"app-no-data-placeholder")}const ne=function(){return[10,20,50,100,200]},oe=[{path:"",component:(()=>{class t{constructor(i,o){this._diverVerifyService=i,this._dialog=o,this.cities=[],this.displayedColumns=["id","full_name","action"],this.dataSource=new m.by([])}ngOnInit(){this.getAllDriverVerify()}getAllDriverVerify(){this._diverVerifyService.getAll().subscribe(i=>{this.dataSource.data=i?.data})}detail(){this._dialog.open(H,{width:"800px",height:"600px",autoFocus:!1})}delete(i){this._diverVerifyService.delete(i).subscribe(()=>{this.getAllDriverVerify()})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(N),e.Y36(d.uw))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-verify"]],viewQuery:function(o,r){if(1&o&&e.Gf(g.NW,5),2&o){let u;e.iGM(u=e.CRH())&&(r.paginator=u.first)}},standalone:!0,features:[e.jDz],decls:26,vars:12,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex-auto","border-t"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","ml-6"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"color","click"],[1,"ml-2"],[1,"mt-4"],["matSort","",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","full_name"],["matColumnDef","action"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","",3,"showFirstLastButtons","length","pageSizeOptions"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e._uU(5),e.ALo(6,"transloco"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return r.detail()}),e.TgZ(9,"span",6),e._uU(10,"Detail"),e.qZA()()()(),e.TgZ(11,"div",7)(12,"mat-table",8),e.ynx(13,9),e.YNc(14,K,3,3,"mat-header-cell",10),e.YNc(15,X,2,1,"mat-cell",11),e.BQk(),e.ynx(16,12),e.YNc(17,P,3,3,"mat-header-cell",10),e.YNc(18,k,2,1,"mat-cell",11),e.BQk(),e.ynx(19,13),e.YNc(20,M,1,0,"mat-header-cell",10),e.YNc(21,ee,2,1,"mat-cell",11),e.BQk(),e.YNc(22,te,1,0,"mat-header-row",14),e.YNc(23,ie,1,0,"mat-row",15),e.qZA(),e.YNc(24,re,1,0,"app-no-data-placeholder",16),e._UZ(25,"mat-paginator",17),e.qZA()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,9,"verification")),e.xp6(3),e.Q6J("color","primary"),e.xp6(4),e.Q6J("dataSource",r.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("ngIf",!r.dataSource.data.length),e.xp6(1),e.Q6J("showFirstLastButtons",!0)("length",r.dataSource.data.length)("pageSizeOptions",e.DdM(11,ne)))},dependencies:[f.y4,f.Ot,Z.Ps,y.LD,D.o,p.ot,p.lW,c.O5,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,h.lN,A.c,_.JX,_.YE,g.TU,g.NW,C.Tx,x.rP],encapsulation:2,changeDetection:0})}return t})(),resolve:{}}]}}]);